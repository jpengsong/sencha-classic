var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}!function(b,a){'object'==typeof exports&&'undefined'!=typeof module?a(exports):'function'==typeof define&&define.amd?define(['exports'],a):a(b.echarts={})}(this,function(aj){function e(a,b){'createCanvas'===a&&(fV=null),h8[a]=b}function i(a){if(null==a||'object'!=typeof a){return a}var c=a,e=dO.call(a);if('[object Array]'===e){if(!O(a)){c=[];for(var b=0,d=a.length;b<d;b++){c[b]=i(a[b])}}}else {if(kZ[e]){if(!O(a)){var g=a.constructor;if(a.constructor.from){c=g.from(a)}else {c=new g(a.length);for(var b=0,d=a.length;b<d;b++){c[b]=i(a[b])}}}}else {if(!jE[e]&&!O(a)&&!M(a)){c={};for(var f in a){a.hasOwnProperty(f)&&(c[f]=i(a[f]))}}}}return c}function n(f,c,g){if(!w(c)||!w(f)){return g?i(c):f}for(var a in c){if(c.hasOwnProperty(a)){var d=f[a],e=c[a];!w(e)||!w(d)||y(e)||y(d)||M(e)||M(d)||b(e)||b(d)||O(e)||O(d)?!g&&a in f||(f[a]=i(c[a],!0)):n(d,e,g)}}return f}function o(c,e){for(var a=c[0],b=1,d=c.length;b<d;b++){a=n(a,c[b],e)}return a}function a(c,a){for(var b in a){a.hasOwnProperty(b)&&(c[b]=a[b])}return c}function r(c,b,d){for(var a in b){b.hasOwnProperty(a)&&(d?null!=b[a]:null==c[a])&&(c[a]=b[a])}return c}function s(){return fV||(fV=c7().getContext('2d')),fV}function l(a,c){if(a){if(a.indexOf){return a.indexOf(c)}for(var b=0,d=a.length;b<d;b++){if(a[b]===c){return b}}}return -1}function u(a,b){function i(){}var c=a.prototype;i.prototype=b.prototype,a.prototype=new i();for(var d in c){a.prototype[d]=c[d]}a.prototype.constructor=a,a.superClass=b}function h(b,a,c){r(b='prototype' in b?b.prototype:b,a='prototype' in a?a.prototype:a,c)}function c(a){if(a){return 'string'!=typeof a&&'number'==typeof a.length}}function d(a,b,e){if(a&&b){if(a.forEach&&a.forEach===qG){a.forEach(b,e)}else {if(a.length===+a.length){for(var c=0,f=a.length;c<f;c++){b.call(e,a[c],c,a)}}else {for(var d in a){a.hasOwnProperty(d)&&b.call(e,a[d],d,a)}}}}}function f(a,c,d){if(a&&c){if(a.map&&a.map===qk){return a.map(c,d)}for(var e=[],b=0,f=a.length;b<f;b++){e.push(c.call(d,a[b],b,a))}return e}}function p(a,d,b,e){if(a&&d){if(a.reduce&&a.reduce===qL){return a.reduce(d,b,e)}for(var c=0,f=a.length;c<f;c++){b=d.call(e,b,a[c],c,a)}return b}}function g(a,c,d){if(a&&c){if(a.filter&&a.filter===oB){return a.filter(c,d)}for(var e=[],b=0,f=a.length;b<f;b++){c.call(d,a[b],b,a)&&e.push(a[b])}return e}}function m(c,a){var b=d3.call(arguments,2);return function(){return c.apply(a,b.concat(d3.call(arguments)))}}function v(b){var a=d3.call(arguments,1);return function(){return b.apply(this,a.concat(d3.call(arguments)))}}function y(a){return '[object Array]'===dO.call(a)}function x(a){return 'function'==typeof a}function _(a){return '[object String]'===dO.call(a)}function w(b){var a=typeof b;return 'function'===a||!!b&&'object'==a}function b(a){return !!jE[dO.call(a)]}function S(a){return !!kZ[dO.call(a)]}function M(a){return 'object'==typeof a&&'number'==typeof a.nodeType&&'object'==typeof a.ownerDocument}function I(a){return a!==a}function T(c){for(var a=0,b=arguments.length;a<b;a++){if(null!=arguments[a]){return arguments[a]}}}function A(a,b){return null!=a?a:b}function D(b,a,c){return null!=b?b:null!=a?a:c}function C(){return Function.call.apply(d3,arguments)}function L(a){if('number'==typeof a){return [a,a,a,a]}var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function k(b,a){if(!b){throw new Error(a)}}function P(a){return null==a?null:'function'==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}function N(a){a[j6]=!0}function O(a){return a[j6]}function E(a){function e(e,d){c?b.set(e,d):b.set(d,e)}var c=y(a);this.data={};var b=this;a instanceof E?a.each(e):a&&d(a,e)}function R(a){return new E(a)}function z(b,c){for(var d=new b.constructor(b.length+c.length),a=0;a<b.length;a++){d[a]=b[a]}var e=b.length;for(a=0;a<c.length;a++){d[a+e]=c[a]}return d}function B(){}function V(c,a){var b=new j3(2);return null==c&&(c=0),null==a&&(a=0),b[0]=c,b[1]=a,b}function G(a,b){return a[0]=b[0],a[1]=b[1],a}function F(b){var a=new j3(2);return a[0]=b[0],a[1]=b[1],a}function W(a,b,c){return a[0]=b,a[1]=c,a}function H(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function Z(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function U(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function X(a){return Math.sqrt(j(a))}function j(a){return a[0]*a[0]+a[1]*a[1]}function Y(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function q(a,b){var c=X(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function K(b,a){return Math.sqrt((b[0]-a[0])*(b[0]-a[0])+(b[1]-a[1])*(b[1]-a[1]))}function $(b,a){return (b[0]-a[0])*(b[0]-a[0])+(b[1]-a[1])*(b[1]-a[1])}function J(b,a,c,d){return b[0]=a[0]+d*(c[0]-a[0]),b[1]=a[1]+d*(c[1]-a[1]),b}function Q(b,c,a){var d=c[0],e=c[1];return b[0]=a[0]*d+a[2]*e+a[4],b[1]=a[1]*d+a[3]*e+a[5],b}function tt(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function et(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function it(){this.on('mousedown',this._dragStart,this),this.on('mousemove',this._drag,this),this.on('mouseup',this._dragEnd,this),this.on('globalout',this._dragEnd,this)}function nt(b,a){return {target:b,topTarget:a&&a.topTarget}}function ot(c,a){var b=c._$eventProcessor;return null!=a&&b&&b.normalizeQuery&&(a=b.normalizeQuery(a)),a}function at(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function rt(c,a,b,d){return b=b||{},d||!aq.canvasSupported?st(c,a,b):aq.browser.firefox&&null!=a.layerX&&a.layerX!==a.offsetX?(b.zrX=a.layerX,b.zrY=a.layerY):null!=a.offsetX?(b.zrX=a.offsetX,b.zrY=a.offsetY):st(c,a,b),b}function st(d,a,b){var c=at(d);b.zrX=a.clientX-c.left,b.zrY=a.clientY-c.top}function lt(f,a,d){if(null!=(a=a||window.event).zrX){return a}var c=a.type;if(c&&c.indexOf('touch')>=0){var e='touchend'!=c?a.targetTouches[0]:a.changedTouches[0];e&&rt(f,e,a,d)}else {rt(f,a,a,d),a.zrDelta=a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3}var b=a.button;return null==a.which&&void 0!==b&&s3.test(a.type)&&(a.which=1&b?1:2&b?3:4&b?2:0),a}function ut(c,a,b){iS?c.addEventListener(a,b):c.attachEvent('on'+a,b)}function ht(c,a,b){iS?c.removeEventListener(a,b):c.detachEvent('on'+a,b)}function ct(a){return a.which>1}function dt(c,b,a){return {type:c,event:a,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:ft}}function ft(a){bL(this.event)}function pt(){}function gt(b,c,d){if(b[b.rectHover?'rectContain':'contain'](c,d)){for(var e,a=b;a;){if(a.clipPath&&!a.clipPath.contain(c,d)){return !1}a.silent&&(e=!0),a=a.parent}return !e||m1}return !1}function mt(){var a=new rD(6);return vt(a),a}function vt(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function yt(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function xt(c,a,b){var f=a[0]*b[0]+a[2]*b[1],g=a[1]*b[0]+a[3]*b[1],d=a[0]*b[2]+a[2]*b[3],h=a[1]*b[2]+a[3]*b[3],i=a[0]*b[4]+a[2]*b[5]+a[4],e=a[1]*b[4]+a[3]*b[5]+a[5];return c[0]=f,c[1]=g,c[2]=d,c[3]=h,c[4]=i,c[5]=e,c}function _t(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function wt(a,b,f){var h=b[0],i=b[2],e=b[4],j=b[1],k=b[3],g=b[5],d=Math.sin(f),c=Math.cos(f);return a[0]=h*c+j*d,a[1]=-h*d+j*c,a[2]=i*c+k*d,a[3]=-i*d+c*k,a[4]=c*e+d*g,a[5]=c*g-d*e,a}function bt(a,b,e){var c=e[0],d=e[1];return a[0]=b[0]*c,a[1]=b[1]*d,a[2]=b[2]*c,a[3]=b[3]*d,a[4]=b[4]*c,a[5]=b[5]*d,a}function St(b,c){var e=c[0],f=c[2],h=c[4],d=c[1],g=c[3],i=c[5],a=e*g-d*f;return a?(a=1/a,b[0]=g*a,b[1]=-d*a,b[2]=-f*a,b[3]=e*a,b[4]=(f*i-g*h)*a,b[5]=(d*h-e*i)*a,b):null}function Mt(b){var a=mt();return yt(a,b),a}function It(a){return a>lZ||a<-lZ}function Tt(a){this._target=a.target,this._life=a.life||1000,this._delay=a.delay||0,this._initialized=!1,this.loop=null!=a.loop&&a.loop,this.gap=a.gap||0,this.easing=a.easing||'Linear',this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function At(a){return (a=Math.round(a))<0?0:a>255?255:a}function Dt(a){return (a=Math.round(a))<0?0:a>360?360:a}function Ct(a){return a<0?0:a>1?1:a}function Lt(a){return At(a.length&&'%'===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function kt(a){return Ct(a.length&&'%'===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function Pt(b,c,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?b+(c-b)*a*6:2*a<1?c:3*a<2?b+(c-b)*(2/3-a)*6:b}function Nt(a,b,c){return a+(b-a)*c}function Ot(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function Et(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function Rt(b,a){eJ&&Et(eJ,a),eJ=jJ.put(b,eJ||a.slice())}function zt(e,a){if(e){a=a||[];var h=jJ.get(e);if(h){return Et(a,h)}var c=(e+='').replace(/ /g,'').toLowerCase();if(c in jz){return Et(a,jz[c]),Rt(e,a),a}if('#'!==c.charAt(0)){var f=c.indexOf('('),g=c.indexOf(')');if(-1!==f&&g+1===c.length){var j=c.substr(0,f),d=c.substr(f+1,g-(f+1)).split(','),i=1;switch(j){case 'rgba':if(4!==d.length){return void Ot(a,0,0,0,1)};i=kt(d.pop());case 'rgb':return 3!==d.length?void Ot(a,0,0,0,1):(Ot(a,Lt(d[0]),Lt(d[1]),Lt(d[2]),i),Rt(e,a),a);case 'hsla':return 4!==d.length?void Ot(a,0,0,0,1):(d[3]=kt(d[3]),Bt(d,a),Rt(e,a),a);case 'hsl':return 3!==d.length?void Ot(a,0,0,0,1):(Bt(d,a),Rt(e,a),a);default:return;}}Ot(a,0,0,0,1)}else {if(4===c.length){return (b=parseInt(c.substr(1),16))>=0&&b<=4095?(Ot(a,(3840&b)>>4|(3840&b)>>8,240&b|(240&b)>>4,15&b|(15&b)<<4,1),Rt(e,a),a):void Ot(a,0,0,0,1)}if(7===c.length){var b=parseInt(c.substr(1),16);return b>=0&&b<=16777215?(Ot(a,(16711680&b)>>16,(65280&b)>>8,255&b,1),Rt(e,a),a):void Ot(a,0,0,0,1)}}}}function Bt(c,a){var e=(parseFloat(c[0])%360+360)%360/360,f=kt(c[1]),b=kt(c[2]),d=b<=0.5?b*(f+1):b+f-b*f,g=2*b-d;return a=a||[],Ot(a,At(255*Pt(g,d,e+1/3)),At(255*Pt(g,d,e)),At(255*Pt(g,d,e-1/3)),1),4===c.length&&(a[3]=c[3]),a}function Vt(d){if(d){var b,i,f=d[0]/255,g=d[1]/255,e=d[2]/255,h=Math.min(f,g,e),a=Math.max(f,g,e),c=a-h,n=(a+h)/2;if(0===c){b=0,i=0}else {i=n<0.5?c/(a+h):c/(2-a-h);var m=((a-f)/6+c/2)/c,j=((a-g)/6+c/2)/c,k=((a-e)/6+c/2)/c;f===a?b=k-j:g===a?b=1/3+m-k:e===a&&(b=2/3+j-m),b<0&&(b+=1),b>1&&(b-=1)}var l=[360*b,i,n];return null!=d[3]&&l.push(d[3]),l}}function Gt(d,c){var a=zt(d);if(a){for(var b=0;b<3;b++){a[b]=c<0?a[b]*(1-c)|0:(255-a[b])*c+a[b]|0,a[b]>255?a[b]=255:d[b]<0&&(a[b]=0)}return Xt(a,4===a.length?'rgba':'rgb')}}function Ft(b){var a=zt(b);if(a){return ((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}}function Wt(g,b,a){if(b&&b.length&&g>=0&&g<=1){a=a||[];var f=g*(b.length-1),h=Math.floor(f),i=Math.ceil(f),d=b[h],e=b[i],c=f-h;return a[0]=At(Nt(d[0],e[0],c)),a[1]=At(Nt(d[1],e[1],c)),a[2]=At(Nt(d[2],e[2],c)),a[3]=Ct(Nt(d[3],e[3],c)),a}}function Ht(g,a,j){if(a&&a.length&&g>=0&&g<=1){var c=g*(a.length-1),f=Math.floor(c),h=Math.ceil(c),d=zt(a[f]),e=zt(a[h]),b=c-f,i=Xt([At(Nt(d[0],e[0],b)),At(Nt(d[1],e[1],b)),At(Nt(d[2],e[2],b)),Ct(Nt(d[3],e[3],b))],'rgba');return j?{color:i,leftIndex:f,rightIndex:h,value:c}:i}}function Zt(a,b,c,d){if(a=zt(a)){return a=Vt(a),null!=b&&(a[0]=Dt(b)),null!=c&&(a[1]=kt(c)),null!=d&&(a[2]=kt(d)),Xt(Bt(a),'rgba')}}function Ut(a,b){if((a=zt(a))&&null!=b){return a[3]=Ct(b),Xt(a,'rgba')}}function Xt(a,b){if(a&&a.length){var c=a[0]+','+a[1]+','+a[2];return 'rgba'!==b&&'hsva'!==b&&'hsla'!==b||(c+=','+a[3]),b+'('+c+')'}}function jt(b,a){return b[a]}function Yt(c,a,b){c[a]=b}function qt(a,b,c){return (b-a)*c+a}function Kt(c,a,b){return b>0.5?a:c}function $t(c,e,f,g,h){var d=c.length;if(1==h){for(a=0;a<d;a++){g[a]=qt(c[a],e[a],f)}}else {for(var i=d&&c[0].length,a=0;a<d;a++){for(var b=0;b<i;b++){g[a][b]=qt(c[a][b],e[a][b],f)}}}}function Jt(b,c,g){var f=b.length,e=c.length;if(f!==e){if(f>e){b.length=e}else {for(a=f;a<e;a++){b.push(1===g?c[a]:g7.call(c[a]))}}}for(var h=b[0]&&b[0].length,a=0;a<b.length;a++){if(1===g){isNaN(b[a])&&(b[a]=c[a])}else {for(var d=0;d<h;d++){isNaN(b[a][d])&&(b[a][d]=c[a][d])}}}}function Qt(b,c,f){if(b===c){return !0}var e=b.length;if(e!==c.length){return !1}if(1===f){for(a=0;a<e;a++){if(b[a]!==c[a]){return !1}}}else {for(var g=b[0].length,a=0;a<e;a++){for(var d=0;d<g;d++){if(b[a][d]!==c[a][d]){return !1}}}}return !0}function te(c,e,f,g,h,d,i,j,m){var k=c.length;if(1==m){for(a=0;a<k;a++){j[a]=ee(c[a],e[a],f[a],g[a],h,d,i)}}else {for(var l=c[0].length,a=0;a<k;a++){for(var b=0;b<l;b++){j[a][b]=ee(c[a][b],e[a][b],f[a][b],g[a][b],h,d,i)}}}}function ee(i,a,b,f,g,e,h){var c=0.5*(b-i),d=0.5*(f-a);return (2*(a-b)+c+d)*h+(-3*(a-b)-2*c-d)*e+c*g+a}function ie(a){if(c(a)){var e=a.length;if(c(a[0])){for(var d=[],b=0;b<e;b++){d.push(g7.call(a[b]))}return d}return g7.call(a)}return a}function ne(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),'rgba('+a.join(',')+')'}function oe(b){var a=b[b.length-1].value;return c(a&&a[0])?2:1}function ae(j,t,G,f,o,F){var x=j._getter,C=j._setter,H='spline'===t,d=f.length;if(d){var w,g=c(f[0].value),m=!1,u=!1,n=g?oe(f):0;f.sort(function(b,a){return b.time-a.time}),w=f[d-1].time;for(var i=[],b=[],y=f[0].value,D=!0,e=0;e<d;e++){i.push(f[e].time/w);var h=f[e].value;if(g&&Qt(h,y,n)||!g&&h===y||(D=!1),y=h,'string'==typeof h){var A=zt(h);A?(h=A,m=!0):u=!0}b.push(h)}if(F||!D){for(var r=b[d-1],e=0;e<d-1;e++){g?Jt(b[e],r,n):!isNaN(b[e])||isNaN(r)||u||m||(b[e]=r)}g&&Jt(x(j._target,o),r,n);var E,a,s,k,l,p,v=0,B=0;if(m){var q=[0,0,0,0]}var z=new Tt({target:j._target,life:w,loop:j._loop,delay:j._delay,onframe:function(r,h){var c;if(h<0){c=0}else {if(h<B){for(c=E=Math.min(v+1,d-1);c>=0&&!(i[c]<=h);c--){}c=Math.min(c,d-2)}else {for(c=v;c<d&&!(i[c]>h);c++){}c=Math.min(c-1,d-2)}}v=c,B=h;var w=i[c+1]-i[c];if(0!==w){if(a=(h-i[c])/w,H){if(k=b[c],s=b[0===c?c:c-1],l=b[c>d-2?d-1:c+1],p=b[c>d-3?d-1:c+2],g){te(s,k,l,p,a,a*a,a*a*a,x(r,o),n)}else {if(m){e=te(s,k,l,p,a,a*a,a*a*a,q,1),e=ne(q)}else {if(u){return Kt(k,l,a)}e=ee(s,k,l,p,a,a*a,a*a*a)}C(r,o,e)}}else {if(g){$t(b[c],b[c+1],a,x(r,o),n)}else {var e;if(m){$t(b[c],b[c+1],a,q,1),e=ne(q)}else {if(u){return Kt(b[c],b[c+1],a)}e=qt(b[c],b[c+1],a)}C(r,o,e)}}}},ondestroy:G});return t&&'spline'!==t&&(z.easing=t),z}}}function re(e,i,c,b,d,a,j,k){_(b)?(a=d,d=b,b=0):x(d)?(a=d,d='linear',b=0):x(b)?(a=b,b=0):x(c)?(a=c,c=500):c||(c=500),e.stopAnimation(),se(e,'',e,i,c,b,k);var g=e.animators.slice(),h=g.length;h||a&&a();for(var f=0;f<g.length;f++){g[f].done(function(){--h||a&&a()}).start(d,j)}}function se(e,d,f,b,g,j,h){var i={},k=0;for(var a in b){b.hasOwnProperty(a)&&(null!=f[a]?w(b[a])&&!c(b[a])?se(e,d?d+'.'+a:a,f[a],b[a],g,j,h):(h?(i[a]=f[a],le(e,d,a,b[a])):i[a]=b[a],k++):null==b[a]||h||le(e,d,a,b[a]))}k>0&&e.animate(d,!1).when(null==g?500:g,i).delay(j||0)}function le(e,a,c,d){if(a){var b={};b[a]={},b[a][c]=d,e.attr(b)}else {e.attr(c,d)}}function ue(d,c,a,b){a<0&&(d+=a,a=-a),b<0&&(c+=b,b=-b),this.x=d,this.y=c,this.width=a,this.height=b}function he(a){for(var b=0;a>=kV;){b|=1&a,a>>=1}return a+b}function ce(b,c,d,e){var a=c+1;if(a===d){return 1}if(e(b[a++],b[c])<0){for(;a<d&&e(b[a],b[a-1])<0;){a++}de(b,c,a)}else {for(;a<d&&e(b[a],b[a-1])>=0;){a++}}return a-c}function de(b,c,a){for(a--;c<a;){var d=b[c];b[c++]=b[a],b[a--]=d}}function fe(b,g,i,c,j){for(c===g&&c++;c<i;c++){for(var e,h=b[c],a=g,f=c;a<f;){j(h,b[e=a+f>>>1])<0?f=e:a=e+1}var d=c-a;switch(d){case 3:b[a+3]=b[a+2];case 2:b[a+2]=b[a+1];case 1:b[a+1]=b[a];break;default:for(;d>0;){b[a+d]=b[a+d-1],d--};}b[a]=h}}function pe(h,f,g,j,d,e){var b=0,c=0,a=1;if(e(h,f[g+d])>0){for(c=j-d;a<c&&e(h,f[g+d+a])>0;){b=a,(a=1+(a<<1))<=0&&(a=c)}a>c&&(a=c),b+=d,a+=d}else {for(c=d+1;a<c&&e(h,f[g+d-a])<=0;){b=a,(a=1+(a<<1))<=0&&(a=c)}a>c&&(a=c);var k=b;b=d-a,a=d-k}for(b++;b<a;){var i=b+(a-b>>>1);e(h,f[g+i])>0?b=i+1:a=i}return a}function ge(h,f,g,j,d,e){var b=0,c=0,a=1;if(e(h,f[g+d])<0){for(c=d+1;a<c&&e(h,f[g+d-a])<0;){b=a,(a=1+(a<<1))<=0&&(a=c)}a>c&&(a=c);var k=b;b=d-a,a=d-k}else {for(c=j-d;a<c&&e(h,f[g+d+a])>=0;){b=a,(a=1+(a<<1))<=0&&(a=c)}a>c&&(a=c),b+=d,a+=d}for(b++;b<a;){var i=b+(a-b>>>1);e(h,f[g+i])<0?a=i:b=i+1}return a}function me(a,e){function i(b){var i=f[b],h=c[b],j=f[b+1],g=c[b+1];c[b]=h+g,b===d-3&&(f[b+1]=f[b+2],c[b+1]=c[b+2]),d--;var k=ge(a[j],a,i,h,0,e);i+=k,0!==(h-=k)&&0!==(g=pe(a[i+h-1],a,j,g,g-1,e))&&(h<=g?n(i,h,j,g):o(i,h,j,g))}function n(o,k,p,l){var c=0;for(c=0;c<k;c++){b[c]=a[o+c]}var f=0,j=p,d=o;if(a[d++]=a[j++],0!=--l){if(1!==k){for(var h,i,m,n=g;;){h=0,i=0,m=!1;do{if(e(a[j],b[f])<0){if(a[d++]=a[j++],i++,h=0,0==--l){m=!0;break}}else {if(a[d++]=b[f++],h++,i=0,1==--k){m=!0;break}}}while((h|i)<n);if(m){break}do{if(0!==(h=ge(a[j],b,f,k,0,e))){for(c=0;c<h;c++){a[d+c]=b[f+c]}if(d+=h,f+=h,(k-=h)<=1){m=!0;break}}if(a[d++]=a[j++],0==--l){m=!0;break}if(0!==(i=pe(b[f],a,j,l,0,e))){for(c=0;c<i;c++){a[d+c]=a[j+c]}if(d+=i,j+=i,0===(l-=i)){m=!0;break}}if(a[d++]=b[f++],1==--k){m=!0;break}n--}while(h>=d$||i>=d$);if(m){break}n<0&&(n=0),n+=2}if((g=n)<1&&(g=1),1===k){for(c=0;c<l;c++){a[d+c]=a[j+c]}a[d+l]=b[f]}else {if(0===k){throw new Error()}for(c=0;c<k;c++){a[d+c]=b[f+c]}}}else {for(c=0;c<l;c++){a[d+c]=a[j+c]}a[d+l]=b[f]}}else {for(c=0;c<k;c++){a[d+c]=b[f+c]}}}function o(q,f,r,d){var c=0;for(c=0;c<d;c++){b[c]=a[r+c]}var m=q+f-1,o=d-1,h=r+d-1,i=0,l=0;if(a[h--]=a[m--],0!=--f){if(1!==d){for(var p=g;;){var j=0,k=0,n=!1;do{if(e(b[o],a[m])<0){if(a[h--]=a[m--],j++,k=0,0==--f){n=!0;break}}else {if(a[h--]=b[o--],k++,j=0,1==--d){n=!0;break}}}while((j|k)<p);if(n){break}do{if(0!=(j=f-ge(b[o],a,q,f,f-1,e))){for(f-=j,l=(h-=j)+1,i=(m-=j)+1,c=j-1;c>=0;c--){a[l+c]=a[i+c]}if(0===f){n=!0;break}}if(a[h--]=b[o--],1==--d){n=!0;break}if(0!=(k=d-pe(a[m],b,0,d,d-1,e))){for(d-=k,l=(h-=k)+1,i=(o-=k)+1,c=0;c<k;c++){a[l+c]=b[i+c]}if(d<=1){n=!0;break}}if(a[h--]=a[m--],0==--f){n=!0;break}p--}while(j>=d$||k>=d$);if(n){break}p<0&&(p=0),p+=2}if((g=p)<1&&(g=1),1===d){for(l=(h-=f)+1,i=(m-=f)+1,c=f-1;c>=0;c--){a[l+c]=a[i+c]}a[h]=b[o]}else {if(0===d){throw new Error()}for(i=h-(d-1),c=0;c<d;c++){a[i+c]=b[c]}}}else {for(l=(h-=f)+1,i=(m-=f)+1,c=f-1;c>=0;c--){a[l+c]=a[i+c]}a[h]=b[o]}}else {for(i=h-(d-1),c=0;c<d;c++){a[i+c]=b[c]}}}var f,c,g=d$,d=0,b=[];f=[],c=[],this.mergeRuns=function(){for(;d>1;){var b=d-2;if(b>=1&&c[b-1]<=c[b]+c[b+1]||b>=2&&c[b-2]<=c[b]+c[b-1]){c[b-1]<c[b+1]&&b--}else {if(c[b]>c[b+1]){break}}i(b)}},this.forceMergeRuns=function(){for(;d>1;){var b=d-2;b>0&&c[b-1]<c[b+1]&&b--,i(b)}},this.pushRun=function(g,b){f[d]=g,c[d]=b,d+=1}}function ve(e,f,a,c){a||(a=0),c||(c=e.length);var d=c-a;if(!(d<2)){var b=0;if(d<kV){return b=ce(e,a,c,f),void fe(e,a,c,a+b,f)}var h=new me(e,f),i=he(d);do{if((b=ce(e,a,c,f))<i){var g=d;g>i&&(g=i),fe(e,a,a+g,a+b,f),b=g}h.pushRun(a,b),h.mergeRuns(),d-=b,a+=b}while(0!==d);h.forceMergeRuns()}}function ye(b,a){return b.zlevel===a.zlevel?b.z===a.z?b.z2-a.z2:b.z-a.z:b.zlevel-a.zlevel}function xe(g,a,b){var d=null==a.x?0:a.x,e=null==a.x2?1:a.x2,c=null==a.y?0:a.y,f=null==a.y2?0:a.y2;return a.global||(d=d*b.width+b.x,e=e*b.width+b.x,c=c*b.height+b.y,f=f*b.height+b.y),d=isNaN(d)?0:d,e=isNaN(e)?1:e,c=isNaN(c)?0:c,f=isNaN(f)?0:f,g.createLinearGradient(d,c,e,f)}function _e(i,a,b){var f=b.width,g=b.height,h=Math.min(f,g),c=null==a.x?0.5:a.x,d=null==a.y?0.5:a.y,e=null==a.r?0.5:a.r;return a.global||(c=c*f+b.x,d=d*g+b.y,e*=h),i.createRadialGradient(c,d,0,c,d,e)}function we(){return !1}function be(g,d,e){var b=c7(),f=d.getWidth(),c=d.getHeight(),a=b.style;return a&&(a.position='absolute',a.left=0,a.top=0,a.width=f+'px',a.height=c+'px',b.setAttribute('data-zr-dom-id',g)),b.width=f*e,b.height=c*e,b}function Se(a){if('string'==typeof a){var b=iK.get(a);return b&&b.image}return a}function Me(b,a,d,f,g){if(b){if('string'==typeof b){if(a&&a.__zrImageSrc===b||!d){return a}var c=iK.get(b),e={hostEl:d,cb:f,cbPayload:g};return c?!Te(a=c.image)&&c.pending.push(e):(!a&&(a=new Image()),a.onload=a.onerror=Ie,iK.put(b,a.__cachedImgObj={image:a,pending:[e]}),a.src=a.__zrImageSrc=b),a}return b}return a}function Ie(){var c=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var a=0;a<c.pending.length;a++){var b=c.pending[a],d=b.cb;d&&d(this,b.cbPayload),b.hostEl.dirty()}c.pending.length=0}function Te(a){return a&&a.width&&a.height}function Ae(f,c){var d=f+':'+(c=c||dG);if(fA[d]){return fA[d]}for(var e=(f+'').split('\n'),a=0,b=0,g=e.length;b<g;b++){a=Math.max(Ve(e[b],c).width,a)}return iR>s1&&(iR=0,fA={}),iR++,fA[d]=a,a}function De(g,b,c,d,e,a,f){return a?Le(g,b,c,d,e,a,f):Ce(g,b,c,d,e,f)}function Ce(f,c,i,j,a,h){var e=Ge(f,c,a,h),b=Ae(f,c);a&&(b+=a[1]+a[3]);var d=e.outerHeight,g=new ue(ke(0,b,i),Pe(0,d,j),b,d);return g.lineHeight=e.lineHeight,g}function Le(j,f,a,g,h,e,i){var c=Fe(j,{rich:e,truncate:i,font:f,textAlign:a,textPadding:h}),b=c.outerWidth,d=c.outerHeight;return new ue(ke(0,b,a),Pe(0,d,g),b,d)}function ke(a,b,c){return 'right'===c?a-=b:'center'===c&&(a-=b/2),a}function Pe(a,b,c){return 'middle'===c?a-=b/2:'bottom'===c&&(a-=b),a}function Ne(j,i,a){var b=i.x,c=i.y,g=i.height,f=i.width,h=g/2,d='left',e='top';switch(j){case 'left':b-=a,c+=h,d='right',e='middle';break;case 'right':b+=a+f,c+=h,e='middle';break;case 'top':b+=f/2,c-=a,d='center',e='bottom';break;case 'bottom':b+=f/2,c+=g+a,d='center';break;case 'inside':b+=f/2,c+=h,d='center',e='middle';break;case 'insideLeft':b+=a,c+=h,e='middle';break;case 'insideRight':b+=f-a,c+=h,d='right',e='middle';break;case 'insideTop':b+=f/2,c+=a,d='center';break;case 'insideBottom':b+=f/2,c+=g-a,d='center',e='bottom';break;case 'insideTopLeft':b+=a,c+=a;break;case 'insideTopRight':b+=f-a,c+=a,d='right';break;case 'insideBottomLeft':b+=a,c+=g-a,e='bottom';break;case 'insideBottomRight':b+=f-a,c+=g-a,d='right',e='bottom';}return {x:b,y:c,textAlign:d,textVerticalAlign:e}}function Oe(h,d,e,f,c){if(!d){return ''}var a=(h+'').split('\n');c=Ee(d,e,f,c);for(var b=0,g=a.length;b<g;b++){a[b]=Re(a[b],c)}return a.join('\n')}function Ee(e,g,c,b){(b=a({},b)).font=g;var c=A(c,'...');b.maxIterations=A(b.maxIterations,2);var j=b.minChar=A(b.minChar,0);b.cnCharWidth=Ae('',g);var i=b.ascCharWidth=Ae('a',g);b.placeholder=A(b.placeholder,'');for(var d=e=Math.max(0,e-1),h=0;h<j&&d>=i;h++){d-=i}var f=Ae(c);return f>d&&(c='',f=0),d=e-f,b.ellipsis=c,b.ellipsisWidth=f,b.contentWidth=d,b.containerWidth=e,b}function Re(a,b){var f=b.containerWidth,g=b.font,d=b.contentWidth;if(!f){return ''}var c=Ae(a,g);if(c<=f){return a}for(var e=0;;e++){if(c<=d||e>=b.maxIterations){a+=b.ellipsis;break}var h=0===e?ze(a,d,b.ascCharWidth,b.cnCharWidth):c>0?Math.floor(a.length*d/c):0;c=Ae(a=a.substr(0,h),g)}return ''===a&&(a=b.placeholder),a}function ze(d,e,f,g){for(var b=0,a=0,h=d.length;a<h&&b<e;a++){var c=d.charCodeAt(a);b+=0<=c&&c<=127?f:g}return a}function Be(a){return Ae('',a)}function Ve(b,a){return h5.measureText(b,a)}function Ge(d,g,b,c){null!=d&&(d+='');var i=Be(g),a=d?d.split('\n'):[],j=a.length*i,f=j;if(b&&(f+=b[0]+b[2]),d&&c){var h=c.outerHeight,k=c.outerWidth;if(null!=h&&f>h){d='',a=[]}else {if(null!=k){for(var m=Ee(k-(b?b[1]+b[3]:0),g,c.ellipsis,{minChar:c.minChar,placeholder:c.placeholder}),e=0,l=a.length;e<l;e++){a[e]=Re(a[e],m)}}}}return {lines:a,height:j,outerHeight:f,lineHeight:i}}function Fe(g,f){var c={lines:[],width:0,height:0};if(null!=g&&(g+=''),!g){return c}for(var u,l=iA.lastIndex=0;null!=(u=iA.exec(g));){var E=u.index;E>l&&We(c,g.substring(l,E)),We(c,u[2],u[1]),l=iA.lastIndex}l<g.length&&We(c,g.substring(l,g.length));var F=c.lines,x=0,s=0,y=[],e=f.textPadding,i=f.truncate,p=i&&i.outerWidth,q=i&&i.outerHeight;e&&(null!=p&&(p-=e[1]+e[3]),null!=q&&(q-=e[0]+e[2]));for(h=0;h<F.length;h++){for(var v=F[h],r=0,t=0,z=0;z<v.tokens.length;z++){var d=(a=v.tokens[z]).styleName&&f.rich[a.styleName]||{},j=a.textPadding=d.textPadding,o=a.font=d.font||f.font,w=a.textHeight=A(d.textHeight,Be(o));if(j&&(w+=j[0]+j[2]),a.height=w,a.lineHeight=D(d.textLineHeight,f.textLineHeight,w),a.textAlign=d&&d.textAlign||f.textAlign,a.textVerticalAlign=d&&d.textVerticalAlign||'middle',null!=q&&x+a.lineHeight>q){return {lines:[],width:0,height:0}}a.textWidth=Ae(a.text,o);var b=d.textWidth,C=null==b||'auto'===b;if('string'==typeof b&&'%'===b.charAt(b.length-1)){a.percentWidth=b,y.push(a),b=0}else {if(C){b=a.textWidth;var B=d.textBackgroundColor,k=B&&B.image;k&&Te(k=Se(k))&&(b=Math.max(b,k.width*w/k.height))}var n=j?j[1]+j[3]:0;b+=n;var m=null!=p?p-t:null;null!=m&&m<b&&(!C||m<n?(a.text='',a.textWidth=b=0):(a.text=Oe(a.text,m-n,o,i.ellipsis,{minChar:i.minChar}),a.textWidth=Ae(a.text,o),b=a.textWidth+n))}t+=a.width=b,d&&(r=Math.max(r,a.lineHeight))}v.width=t,v.lineHeight=r,x+=r,s=Math.max(s,t)}c.outerWidth=c.width=A(f.textWidth,s),c.outerHeight=c.height=A(f.textHeight,x),e&&(c.outerWidth+=e[1]+e[3],c.outerHeight+=e[0]+e[2]);for(var h=0;h<y.length;h++){var a=y[h],G=a.percentWidth;a.width=parseInt(G,10)/100*s}return c}function We(k,f,j){for(var h=''===f,i=f.split('\n'),a=k.lines,b=0;b<i.length;b++){var e=i[b],d={styleName:j,text:e,isLineHolder:!e&&!h};if(b){a.push({tokens:[d]})}else {var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,g=c.length;1===g&&c[0].isLineHolder?c[0]=d:(e||!g||h)&&c.push(d)}}}function He(a){var b=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+'px',a.fontFamily||'sans-serif'].join(' ');return b&&P(b)||a.textFont||a.font}function Ze(j,l){var a,c,d,b,h=l.x,i=l.y,f=l.width,g=l.height,e=l.r;f<0&&(h+=f,f=-f),g<0&&(i+=g,g=-g),'number'==typeof e?a=c=d=b=e:e instanceof Array?1===e.length?a=c=d=b=e[0]:2===e.length?(a=d=e[0],c=b=e[1]):3===e.length?(a=e[0],c=b=e[1],d=e[2]):(a=e[0],c=e[1],d=e[2],b=e[3]):a=c=d=b=0;var k;a+c>f&&(a*=f/(k=a+c),c*=f/k),d+b>f&&(d*=f/(k=d+b),b*=f/k),c+d>g&&(c*=g/(k=c+d),d*=g/k),a+b>g&&(a*=g/(k=a+b),b*=g/k),j.moveTo(h+a,i),j.lineTo(h+f-c,i),0!==c&&j.arc(h+f-c,i+c,c,-Math.PI/2,0),j.lineTo(h+f,i+g-d),0!==d&&j.arc(h+f-d,i+g-d,d,0,Math.PI/2),j.lineTo(h+b,i+g),0!==b&&j.arc(h+b,i+g-b,b,Math.PI/2,Math.PI),j.lineTo(h,i+a),0!==a&&j.arc(h+a,i+a,a,Math.PI,1.5*Math.PI)}function Ue(a){return Xe(a),d(a.rich,Xe),a}function Xe(a){if(a){a.font=He(a);var b=a.textAlign;'middle'===b&&(b='center'),a.textAlign=null==b||rb[b]?b:'left';var c=a.textVerticalAlign||a.textBaseline;'center'===c&&(c='middle'),a.textVerticalAlign=null==c||rB[c]?c:'top',a.textPadding&&(a.textPadding=L(a.textPadding))}}function je(e,b,c,a,d,f){a.rich?qe(e,b,c,a,d):Ye(e,b,c,a,d,f)}function Ye(e,a,D,b,E,t){var g=t&&t.style,i=g&&'text'===t.type,o=b.font||dG;i&&o===(g.font||dG)||(a.font=o);var v=e.__computedFont;e.__styleFont!==o&&(e.__styleFont=o,v=e.__computedFont=a.font);var d=b.textPadding,j=e.__textCotentBlock;j&&!e.__dirtyText||(j=e.__textCotentBlock=Ge(D,v,d,b.truncate));var u=j.outerHeight,h=j.lines,F=j.lineHeight,n=ii(u,b,E),p=n.baseX,G=n.baseY,w=n.textAlign||'left',K=n.textVerticalAlign;$e(a,b,E,p,G);var C=Pe(G,u,K),k=p,f=C,B=Qe(b);if(B||d){var r=Ae(D,v);d&&(r+=d[1]+d[3]);var H=ke(p,r,w);B&&ti(e,a,b,H,C,r,u),d&&(k=si(p,w,d),f+=d[0])}a.textAlign=w,a.textBaseline='middle';for(c=0;c<lT.length;c++){var s=lT[c],x=s[0],z=s[1],y=b[x];i&&y===g[x]||(a[z]=iP(a,z,y||s[2]))}f+=F/2;var q=b.textStrokeWidth,J=i?g.textStrokeWidth:null,A=!i||q!==J,I=!i||A||b.textStroke!==g.textStroke,m=oi(b.textStroke,q),l=ai(b.textFill);if(m&&(A&&(a.lineWidth=q),I&&(a.strokeStyle=m)),l&&(i&&b.textFill===g.textFill&&!g.textBackgroundColor||(a.fillStyle=l)),1===h.length){m&&a.strokeText(h[0],k,f),l&&a.fillText(h[0],k,f)}else {for(var c=0;c<h.length;c++){m&&a.strokeText(h[c],k,f),l&&a.fillText(h[c],k,f),f+=F}}}function qe(a,d,e,c,f){var b=a.__textCotentBlock;b&&!a.__dirtyText||(b=a.__textCotentBlock=Fe(e,c)),Ke(a,d,b,c,f)}function Ke(l,e,f,b,y){var u=f.width,A=f.outerWidth,q=f.outerHeight,p=b.textPadding,m=ii(q,b,y),x=m.baseX,v=m.baseY,C=m.textAlign,D=m.textVerticalAlign;$e(e,b,y,x,v);var z=ke(x,A,C),w=Pe(v,q,D),k=z,g=w;p&&(k+=p[3],g+=p[0]);var B=k+u;Qe(b)&&ti(l,e,b,z,w,A,q);for(var s=0;s<f.lines.length;s++){for(var a,r=f.lines[s],j=r.tokens,t=j.length,i=r.lineHeight,o=r.width,d=0,c=k,n=B,h=t-1;d<t&&(!(a=j[d]).textAlign||'left'===a.textAlign);){Je(l,e,a,b,i,g,c,'left'),o-=a.width,c+=a.width,d++}for(;h>=0&&'right'===(a=j[h]).textAlign;){Je(l,e,a,b,i,g,n,'right'),o-=a.width,n-=a.width,h--}for(c+=(u-(c-k)-(B-n)-o)/2;d<=h;){Je(l,e,a=j[d],b,i,g,c+a.width/2,'center'),c+=a.width,d++}g+=i}}function $e(f,e,a,c,d){if(a&&e.textRotation){var b=e.textOrigin;'center'===b?(c=a.width/2+a.x,d=a.height/2+a.y):b&&(c=b[0]+a.x,d=b[1]+a.y),f.translate(c,d),f.rotate(-e.textRotation),f.translate(-c,-d)}}function Je(o,b,a,d,l,h,e,g){var c=d.rich[a.styleName]||{};c.text=a.text;var n=a.textVerticalAlign,f=h+l/2;'top'===n?f=h+a.height/2:'bottom'===n&&(f=h+l-a.height/2),!a.isLineHolder&&Qe(c)&&ti(o,b,c,'right'===g?e-a.width:'center'===g?e-a.width/2:e,f-a.height/2,a.width,a.height);var i=a.textPadding;i&&(e=si(e,g,i),f-=a.height/2-i[2]-a.textHeight/2),ni(b,'shadowBlur',D(c.textShadowBlur,d.textShadowBlur,0)),ni(b,'shadowColor',c.textShadowColor||d.textShadowColor||'transparent'),ni(b,'shadowOffsetX',D(c.textShadowOffsetX,d.textShadowOffsetX,0)),ni(b,'shadowOffsetY',D(c.textShadowOffsetY,d.textShadowOffsetY,0)),ni(b,'textAlign',g),ni(b,'textBaseline','middle'),ni(b,'font',a.font||dG);var j=oi(c.textStroke||d.textStroke,m),k=ai(c.textFill||d.textFill),m=A(c.textStrokeWidth,d.textStrokeWidth);j&&(ni(b,'lineWidth',m),ni(b,'strokeStyle',j),b.strokeText(a.text,e,f)),k&&(ni(b,'fillStyle',k),b.fillText(a.text,e,f))}function Qe(a){return a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor}function ti(n,a,b,h,i,e,j){var c=b.textBackgroundColor,g=b.textBorderWidth,k=b.textBorderColor,m=_(c);if(ni(a,'shadowBlur',b.textBoxShadowBlur||0),ni(a,'shadowColor',b.textBoxShadowColor||'transparent'),ni(a,'shadowOffsetX',b.textBoxShadowOffsetX||0),ni(a,'shadowOffsetY',b.textBoxShadowOffsetY||0),m||g&&k){a.beginPath();var l=b.textBorderRadius;l?Ze(a,{x:h,y:i,width:e,height:j,r:l}):a.rect(h,i,e,j),a.closePath()}if(m){if(ni(a,'fillStyle',c),null!=b.fillOpacity){f=a.globalAlpha;a.globalAlpha=b.fillOpacity*b.opacity,a.fill(),a.globalAlpha=f}else {a.fill()}}else {if(x(c)){ni(a,'fillStyle',c(b)),a.fill()}else {if(w(c)){var d=c.image;(d=Me(d,null,n,ei,c))&&Te(d)&&a.drawImage(d,h,i,e,j)}}}if(g&&k){if(ni(a,'lineWidth',g),ni(a,'strokeStyle',k),null!=b.strokeOpacity){var f=a.globalAlpha;a.globalAlpha=b.strokeOpacity*b.opacity,a.stroke(),a.globalAlpha=f}else {a.stroke()}}}function ei(b,a){a.image=b}function ii(j,a,b){var d=a.x||0,e=a.y||0,g=a.textAlign,h=a.textVerticalAlign;if(b){var f=a.textPosition;if(f instanceof Array){d=b.x+ri(f[0],b.width),e=b.y+ri(f[1],b.height)}else {var c=Ne(f,b,a.textDistance);d=c.x,e=c.y,g=g||c.textAlign,h=h||c.textVerticalAlign}var i=a.textOffset;i&&(d+=i[0],e+=i[1])}return {baseX:d,baseY:e,textAlign:g,textVerticalAlign:h}}function ni(b,a,c){return b[a]=iP(b,a,c),b[a]}function oi(a,b){return null==a||b<=0||'transparent'===a||'none'===a?null:a.image||a.colorStops?'#000':a}function ai(a){return null==a||'none'===a?null:a.image||a.colorStops?'#000':a}function ri(a,b){return 'string'==typeof a?a.lastIndexOf('%')>=0?parseFloat(a)/100*b:parseFloat(a):a}function si(b,c,a){return 'right'===c?b-a[1]:'center'===c?b+a[3]/2-a[1]/2:b+a[3]}function li(b,a){return null!=b&&(b||a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor||a.textPadding)}function ui(a){a=a||{},bG.call(this,a);for(var b in a){a.hasOwnProperty(b)&&'style'!==b&&(this[b]=a[b])}this.style=new bP(a.style,this),this._rect=null,this.__clipPaths=[]}function hi(a){ui.call(this,a)}function ci(a){return parseInt(a,10)}function di(a){return !!a&&(!!a.__builtin__||'function'==typeof a.resize&&'function'==typeof a.refresh)}function fi(a,b,c){return iD.copy(a.getBoundingRect()),a.transform&&iD.applyTransform(a.transform),i$.width=b,i$.height=c,!iD.intersect(i$)}function pi(a,b){if(a==b){return !1}if(!a||!b||a.length!==b.length){return !0}for(var c=0;c<a.length;c++){if(a[c]!==b[c]){return !0}}}function gi(d,a){for(var c=0;c<d.length;c++){var b=d[c];b.setTransform(a),a.beginPath(),b.buildPath(a,b.shape),a.clip(),b.restoreTransform(a)}}function mi(c,b){var a=document.createElement('div');return a.style.cssText=['position:relative','overflow:hidden','width:'+c+'px','height:'+b+'px','padding:0','margin:0','border-width:0'].join(';')+';',a}function vi(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function yi(a){return [(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function xi(a){return 'mousewheel'===a&&aq.browser.firefox?'DOMMouseScroll':a}function _i(c,a,f){var d=c._gestureMgr;'start'===f&&d.clear();var b=d.recognize(a,c.handler.findHover(a.zrX,a.zrY,null).target,c.dom);if('end'===f&&d.clear(),b){var e=b.type;a.gestureEvent=e,c.handler.dispatchToElement({target:b.target},e,b.event)}}function wi(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function bi(b){var a=b.pointerType;return 'pen'===a||'touch'===a}function Si(a){function e(c,b){return function(){if(!b._touching){return c.apply(b,arguments)}}}d(hC,function(b){a._handlers[b]=m(aS[b],a)}),d(j1,function(b){a._handlers[b]=m(aS[b],a)}),d(fB,function(b){a._handlers[b]=e(aS[b],a)})}function Mi(a){function e(c,b){d(c,function(d){ut(a,xi(d),b._handlers[d])},b)}aG.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new hT(),this._handlers={},Si(this),aq.pointerEventsSupported?e(j1,this):(aq.touchEventsSupported&&e(hC,this),e(fB,this))}function Ii(c,b){var a=new ik(jN(),c,b);return cq[a.id]=a,a}function Ti(b,a){eI[b]=a}function Ai(a){delete cq[a]}function Di(a){return a instanceof Array?a:null==a?[]:[a]}function Ci(a,b,e){if(a){a[b]=a[b]||{},a.emphasis=a.emphasis||{},a.emphasis[b]=a.emphasis[b]||{};for(var d=0,f=e.length;d<f;d++){var c=e[d];!a.emphasis[b].hasOwnProperty(c)&&a[b].hasOwnProperty(c)&&(a.emphasis[b][c]=a[b][c])}}}function Li(a){return !c2(a)||n4(a)||a instanceof Date?a:a.value}function ki(a){return c2(a)&&!(a instanceof Array)}function Pi(c,b){b=(b||[]).slice();var a=f(c||[],function(a,d){return {exist:a}});return c1(b,function(e,g){if(c2(e)){for(d=0;d<a.length;d++){if(!a[d].option&&null!=e.id&&a[d].exist.id===e.id+''){return a[d].option=e,void (b[g]=null)}}for(var d=0;d<a.length;d++){var f=a[d].exist;if(!(a[d].option||null!=f.id&&null!=e.id||null==e.name||Ei(e)||Ei(f)||f.name!==e.name+'')){return a[d].option=e,void (b[g]=null)}}}}),c1(b,function(e,g){if(c2(e)){for(var d=0;d<a.length;d++){var f=a[d].exist;if(!a[d].option&&!Ei(f)&&null==e.id){a[d].option=e;break}}d>=a.length&&a.push({option:e})}}),a}function Ni(b){var a=R();c1(b,function(d,e){var c=d.exist;c&&a.set(c.id,d)}),c1(b,function(d,e){var c=d.option;k(!c||null==c.id||!a.get(c.id)||a.get(c.id)===d,'id duplicates: '+(c&&c.id)),c&&null!=c.id&&a.set(c.id,d),!d.keyInfo&&(d.keyInfo={})}),c1(b,function(f,g){var e=f.exist,d=f.option,c=f.keyInfo;if(c2(d)){if(c.name=null!=d.name?d.name+'':e?e.name:kK+g,e){c.id=e.id}else {if(null!=d.id){c.id=d.id+''}else {var h=0;do{c.id='\x00'+c.name+'\x00'+h++}while(a.get(c.id))}}a.set(c.id,f)}})}function Oi(b){var a=b.name;return !(!a||!a.indexOf(kK))}function Ei(a){return c2(a)&&a.id&&0===(a.id+'').indexOf('\x00_ec_\x00')}function Ri(d,c){function i(h,i,j){for(var a=0,l=h.length;a<l;a++){for(var b=h[a].seriesId,k=Di(h[a].dataIndex),g=j&&j[b],f=0,m=k.length;f<m;f++){var e=k[f];g&&g[e]?g[e]=null:(i[b]||(i[b]={}))[e]=1}}}function n(b,g){var e=[];for(var a in b){if(b.hasOwnProperty(a)&&null!=b[a]){if(g){e.push(+a)}else {var f=n(b[a],!0);f.length&&e.push({seriesId:a,dataIndex:f})}}}return e}var a={},b={};return i(d||[],a),i(c||[],b,a),[n(a),n(b)]}function zi(b,a){return null!=a.dataIndexInside?a.dataIndexInside:null!=a.dataIndex?y(a.dataIndex)?f(a.dataIndex,function(c){return b.indexOfRawIndex(c)}):b.indexOfRawIndex(a.dataIndex):null!=a.name?y(a.name)?f(a.name,function(c){return b.indexOfName(c)}):b.indexOfName(a.name):void 0}function Bi(){var a='__\x00ec_inner_'+nP++ +'_'+Math.random().toFixed(5);return function(b){return b[a]||(b[a]={})}}function Vi(f,a,b){if(_(a)){var e={};e[a+'Index']=0,a=e}var c=b&&b.defaultMainType;!c||Gi(a,c+'Index')||Gi(a,c+'Id')||Gi(a,c+'Name')||(a[c+'Index']=0);var d={};return c1(a,function(c,e){var c=a[e];if('dataIndex'!==e&&'dataIndexInside'!==e){var k=e.match(/^(\w+)(Index|Id|Name)$/)||[],g=k[1],h=(k[2]||'').toLowerCase();if(!(!g||!h||null==c||'index'===h&&'none'===c||b&&b.includeMainTypes&&l(b.includeMainTypes,g)<0)){var j={mainType:g};'index'===h&&'all'===c||(j[h]=c);var i=f.queryComponents(j);d[g+'Models']=i,d[g+'Model']=i[0]}}else {d[e]=c}}),d}function Gi(a,b){return a&&a.hasOwnProperty(b)}function Fi(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function Wi(a,b){return a.getAttribute?a.getAttribute(b):a[b]}function Hi(a){return 'auto'===a?aq.domSupported?'html':'richText':a||'html'}function Zi(a){var b={main:'',sub:''};return a&&(a=a.split(qD),b.main=a[0]||'',b.sub=a[1]||''),b}function Ui(a){k(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function Xi(b,c){b.$constructor=b,b.extend=function(e){var f=this,d=function(){e.$constructor?e.$constructor.apply(this,arguments):f.apply(this,arguments)};return a(d.prototype,e),d.extend=this.extend,d.superCall=Yi,d.superApply=qi,u(d,this),d.superClass=f,d}}function ji(b){var a=['__\x00is_clz',ob++,Math.random().toFixed(3)].join('_');b.prototype[a]=!0,b.isInstance=function(c){return !(!c||!c[a])}}function Yi(c,a){var b=C(arguments,2);return this.superClass.prototype[a].apply(c,b)}function qi(c,a,b){return this.superClass.prototype[a].apply(c,b)}function Ki(a,c){function i(e){var d=b[e.main];return d&&d[ck]||((d=b[e.main]={})[ck]=!0),d}c=c||{};var b={};if(a.registerClass=function(e,d){return d&&(Ui(d),(d=Zi(d)).sub?d.sub!==ck&&(i(d)[d.sub]=e):b[d.main]=e),e},a.getClass=function(f,e,g){var d=b[f];if(d&&d[ck]&&(d=e?d[e]:null),g&&!d){throw new Error(e?'Component '+f+'.'+(e||'')+' not exists. Load it first.':f+'.type should be specified.')}return d},a.getClassesByMainType=function(g){g=Zi(g);var f=[],e=b[g.main];return e&&e[ck]?d(e,function(d,b){b!==ck&&f.push(d)}):f.push(e),f},a.hasClass=function(d){return d=Zi(d),!!b[d.main]},a.getAllClassMainTypes=function(){var e=[];return d(b,function(d,b){e.push(b)}),e},a.hasSubTypes=function(d){d=Zi(d);var e=b[d.main];return e&&e[ck]},a.parseClassType=Zi,c.registerWhenExtend){var e=a.extend;e&&(a.extend=function(b){var d=e.call(this,b);return a.registerClass(d,b.type)})}return a}function $i(a){return a>-fW&&a<fW}function Ji(a){return a>fW||a<-fW}function Qi(f,c,d,e,a){var b=1-a;return b*b*(b*f+3*a*c)+a*a*(a*e+3*b*d)}function tn(f,c,d,e,a){var b=1-a;return 3*(((c-f)*b+2*(d-c)*a)*b+(e-d)*a*a)}function en(j,p,t,y,z,e){var d=y+3*(p-t)-j,a=3*(t-2*p+j),i=3*(p-j),u=j-z,c=a*a-3*d*i,g=a*i-9*d*u,x=i*i-3*a*u,f=0;if($i(c)&&$i(g)){$i(a)?e[0]=0:(b=-i/a)>=0&&b<=1&&(e[f++]=b)}else {var q=g*g-4*c*x;if($i(q)){var s=g/c,h=-s/2;(b=-a/d+s)>=0&&b<=1&&(e[f++]=b),h>=0&&h<=1&&(e[f++]=h)}else {if(q>0){var v=b1(q),l=c*a+1.5*d*(-g+v),k=c*a+1.5*d*(-g-v);(b=(-a-((l=l<0?-fM(-l,eS):fM(l,eS))+(k=k<0?-fM(-k,eS):fM(k,eS))))/(3*d))>=0&&b<=1&&(e[f++]=b)}else {var w=(2*c*a-3*d*g)/(2*b1(c*c*c)),r=Math.acos(w)/3,o=b1(c),n=Math.cos(r),b=(-a-2*o*n)/(3*d),h=(-a+o*(n+jk*Math.sin(r)))/(3*d),m=(-a+o*(n-jk*Math.sin(r)))/(3*d);b>=0&&b<=1&&(e[f++]=b),h>=0&&h<=1&&(e[f++]=h),m>=0&&m<=1&&(e[f++]=m)}}}return f}function nn(h,g,k,m,e){var a=6*k-12*g+6*h,c=9*g+3*m-3*h-9*k,l=3*g-3*h,d=0;if($i(c)){Ji(a)&&(b=-l/a)>=0&&b<=1&&(e[d++]=b)}else {var i=a*a-4*c*l;if($i(i)){e[0]=-a/(2*c)}else {if(i>0){var j=b1(i),b=(-a+j)/(2*c),f=(-a-j)/(2*c);b>=0&&b<=1&&(e[d++]=b),f>=0&&f<=1&&(e[d++]=f)}}}return d}function on(g,c,d,l,b,a){var e=(c-g)*b+g,f=(d-c)*b+c,k=(l-d)*b+d,h=(f-e)*b+e,j=(k-f)*b+f,i=(j-h)*b+h;a[0]=g,a[1]=e,a[2]=h,a[3]=i,a[4]=i,a[5]=j,a[6]=k,a[7]=l}function an(o,h,i,k,l,g,m,n,s,t,q){var b,c,d,e,p,j=0.005,a=1/0;bj[0]=s,bj[1]=t;for(var f=0;f<1;f+=0.05){a1[0]=Qi(o,i,l,m,f),a1[1]=Qi(h,k,g,n,f),(e=b2(bj,a1))<a&&(b=f,a=e)}a=1/0;for(var r=0;r<32&&!(j<j7);r++){c=b-j,d=b+j,a1[0]=Qi(o,i,l,m,c),a1[1]=Qi(h,k,g,n,c),e=b2(a1,bj),c>=0&&e<a?(b=c,a=e):(dk[0]=Qi(o,i,l,m,d),dk[1]=Qi(h,k,g,n,d),p=b2(dk,bj),d<=1&&p<a?(b=d,a=p):j*=0.5)}return q&&(q[0]=Qi(o,i,l,m,b),q[1]=Qi(h,k,g,n,b)),b1(a)}function rn(e,c,d,a){var b=1-a;return b*(b*e+2*a*c)+a*a*d}function sn(d,a,c,b){return 2*((1-b)*(a-d)+b*(c-a))}function ln(g,i,l,m,e){var c=g-2*i+l,b=2*(i-g),k=g-m,d=0;if($i(c)){Ji(b)&&(a=-k/b)>=0&&a<=1&&(e[d++]=a)}else {var h=b*b-4*c*k;if($i(h)){(a=-b/(2*c))>=0&&a<=1&&(e[d++]=a)}else {if(h>0){var j=b1(h),a=(-b+j)/(2*c),f=(-b-j)/(2*c);a>=0&&a<=1&&(e[d++]=a),f>=0&&f<=1&&(e[d++]=f)}}}return d}function un(c,a,d){var b=c+d-2*a;return 0===b?0.5:(c-a)/b}function hn(e,c,f,d,a){var b=(c-e)*d+e,g=(f-c)*d+c,h=(g-b)*d+b;a[0]=e,a[1]=b,a[2]=h,a[3]=h,a[4]=g,a[5]=f}function cn(m,e,h,j,k,d,q,r,n){var b,g=0.005,a=1/0;bj[0]=q,bj[1]=r;for(var c=0;c<1;c+=0.05){a1[0]=rn(m,h,k,c),a1[1]=rn(e,j,d,c),(i=b2(bj,a1))<a&&(b=c,a=i)}a=1/0;for(var o=0;o<32&&!(g<j7);o++){var l=b-g,f=b+g;a1[0]=rn(m,h,k,l),a1[1]=rn(e,j,d,l);var i=b2(a1,bj);if(l>=0&&i<a){b=l,a=i}else {dk[0]=rn(m,h,k,f),dk[1]=rn(e,j,d,f);var p=b2(dk,bj);f<=1&&p<a?(b=f,a=p):g*=0.5}}return n&&(n[0]=rn(m,h,k,b),n[1]=rn(e,j,d,b)),b1(a)}function dn(c,h,i){if(0!==c.length){var b,a=c[0],d=a[0],f=a[0],g=a[1],e=a[1];for(b=1;b<c.length;b++){a=c[b],d=aN(d,a[0]),f=aO(f,a[0]),g=aN(g,a[1]),e=aO(e,a[1])}h[0]=d,h[1]=g,i[0]=f,i[1]=e}}function fn(f,b,c,d,e,a){e[0]=aN(f,c),e[1]=aN(b,d),a[0]=aO(f,c),a[1]=aO(b,d)}function pn(g,d,m,n,o,i,e,f,a,b){var c,j=nn,k=Qi,h=j(g,m,o,e,l1);for(a[0]=1/0,a[1]=1/0,b[0]=-1/0,b[1]=-1/0,c=0;c<h;c++){var p=k(g,m,o,e,l1[c]);a[0]=aN(p,a[0]),b[0]=aO(p,b[0])}for(h=j(d,n,i,f,lI),c=0;c<h;c++){var l=k(d,n,i,f,lI[c]);a[1]=aN(l,a[1]),b[1]=aO(l,b[1])}a[0]=aN(g,a[0]),b[0]=aO(g,b[0]),a[0]=aN(e,a[0]),b[0]=aO(e,b[0]),a[1]=aN(d,a[1]),b[1]=aO(d,b[1]),a[1]=aN(f,a[1]),b[1]=aO(f,b[1])}function gn(d,b,g,i,c,a,j,k){var h=un,l=rn,n=aO(aN(h(d,g,c),1),0),m=aO(aN(h(b,i,a),1),0),e=l(d,g,c,n),f=l(b,i,a,m);j[0]=aN(d,c,e),j[1]=aN(b,a,f),k[0]=aO(d,c,e),k[1]=aO(b,a,f)}function mn(i,c,e,g,b,a,j,h,f){var m=tt,l=et,k=Math.abs(b-a);if(k%cP<1.0E-4&&k>1.0E-4){return h[0]=i-e,h[1]=c-g,f[0]=i+e,void (f[1]=c+g)}if(fZ[0]=hX(b)*e+i,fZ[1]=iJ(b)*g+c,fN[0]=hX(a)*e+i,fN[1]=iJ(a)*g+c,m(h,fZ,fN),l(f,fZ,fN),(b%=cP)<0&&(b+=cP),(a%=cP)<0&&(a+=cP),b>a&&!j?a+=cP:b<a&&j&&(b+=cP),j){var n=a;a=b,b=n}for(var d=0;d<a;d+=Math.PI/2){d>b&&(f1[0]=hX(d)*e+i,f1[1]=iJ(d)*g+c,m(h,f1,h),l(f,f1,f))}}function vn(b,f,d,g,j,c,e){if(0===j){return !1}var a=j,h=0,k=b;if(e>f+a&&e>g+a||e<f-a&&e<g-a||c>b+a&&c>d+a||c<b-a&&c<d-a){return !1}if(b===d){return Math.abs(c-b)<=a/2}var i=(h=(f-g)/(b-d))*c-e+(k=(b*g-d*f)/(b-d));return i*i/(h*h+1)<=a/2*a/2}function yn(k,e,f,g,h,d,i,j,l,c,b){if(0===l){return !1}var a=l;return !(b>e+a&&b>g+a&&b>d+a&&b>j+a||b<e-a&&b<g-a&&b<d-a&&b<j-a||c>k+a&&c>f+a&&c>h+a&&c>i+a||c<k-a&&c<f-a&&c<h-a&&c<i-a)&&an(k,e,f,g,h,d,i,j,c,b,null)<=a/2}function xn(i,e,f,g,h,d,j,c,b){if(0===j){return !1}var a=j;return !(b>e+a&&b>g+a&&b>d+a||b<e-a&&b<g-a&&b<d-a||c>i+a&&c>f+a&&c>h+a||c<i-a&&c<f-a&&c<h-a)&&cn(i,e,f,g,h,d,c,b,null)<=a/2}function _n(a){return (a%=j0)<0&&(a+=j0),a}function wn(m,l,g,b,a,j,h,e,d){if(0===h){return !1}var i=h;e-=m,d-=l;var f=Math.sqrt(e*e+d*d);if(f-i>g||f+i<g){return !1}if(Math.abs(b-a)%dW<1.0E-4){return !0}if(j){var k=b;b=_n(a),a=_n(k)}else {b=_n(b),a=_n(a)}b>a&&(a+=dW);var c=Math.atan2(d,e);return c<0&&(c+=dW),c>=b&&c<=a||c+dW>=b&&c+dW<=a}function bn(h,a,i,b,f,c){if(c>a&&c>b||c<a&&c<b){return 0}if(b===a){return 0}var g=b<a?1:-1,d=(c-a)/(b-a);1!==d&&0!==d||(g=b<a?0.5:-0.5);var e=d*(i-h)+h;return e===f?1/0:e>f?g:0}function Sn(b,a){return Math.abs(b-a)<nW}function Mn(){var a=aX[0];aX[0]=aX[1],aX[1]=a}function In(r,c,n,h,p,e,q,d,o,b){if(b>c&&b>h&&b>e&&b>d||b<c&&b<h&&b<e&&b<d){return 0}var m=en(c,h,e,d,b,aL);if(0===m){return 0}for(var i,k,f=0,j=-1,l=0;l<m;l++){var g=aL[l],a=0===g||1===g?0.5:1;Qi(r,n,p,q,g)<o||(j<0&&(j=nn(c,h,e,d,aX),aX[1]<aX[0]&&j>1&&Mn(),i=Qi(c,h,e,d,aX[0]),j>1&&(k=Qi(c,h,e,d,aX[1]))),2==j?g<aX[0]?f+=i<c?a:-a:g<aX[1]?f+=k<i?a:-a:f+=d<k?a:-a:g<aX[0]?f+=i<c?a:-a:f+=d<i?a:-a)}return f}function Tn(o,b,j,f,l,a,n,d){if(d>b&&d>f&&d>a||d<b&&d<f&&d<a){return 0}var k=ln(b,f,a,d,aL);if(0===k){return 0}var g=un(b,f,a);if(g>=0&&g<=1){for(var h=0,i=rn(b,f,a,g),e=0;e<k;e++){c=0===aL[e]||1===aL[e]?0.5:1;(m=rn(o,j,l,aL[e]))<n||(aL[e]<g?h+=i<b?c:-c:h+=a<i?c:-c)}return h}var c=0===aL[0]||1===aL[0]?0.5:1,m=rn(o,j,l,aL[0]);return m<n?0:a<b?c:-c}function An(k,o,f,c,a,h,j,e){if((e-=o)>f||e<-f){return 0}g=Math.sqrt(f*f-e*e);aL[0]=-g,aL[1]=g;var n=Math.abs(c-a);if(n<1.0E-4){return 0}if(n%cX<1.0E-4){c=0,a=cX;d=h?1:-1;return j>=aL[0]+k&&j<=aL[1]+k?d:0}if(h){var g=c;c=_n(a),a=_n(g)}else {c=_n(c),a=_n(a)}c>a&&(a+=cX);for(var m=0,i=0;i<2;i++){var l=aL[i];if(l+k>j){var b=Math.atan2(e,l),d=h?1:-1;b<0&&(b=cX+b),(b>=c&&b<=a||b+cX>=c&&b+cX<=a)&&(b>Math.PI/2&&b<1.5*Math.PI&&(d=-d),m+=d)}}return m}function Dn(b,k,m,f,d){for(var i=0,e=0,c=0,h=0,g=0,a=0;a<b.length;){var t=b[a++];switch(t===bQ.M&&a>1&&(m||(i+=bn(e,c,h,g,f,d))),1==a&&(h=e=b[a],g=c=b[a+1]),t){case bQ.M:e=h=b[a++],c=g=b[a++];break;case bQ.L:if(m){if(vn(e,c,b[a],b[a+1],k,f,d)){return !0}}else {i+=bn(e,c,b[a],b[a+1],f,d)||0};e=b[a++],c=b[a++];break;case bQ.C:if(m){if(yn(e,c,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],k,f,d)){return !0}}else {i+=In(e,c,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],f,d)||0};e=b[a++],c=b[a++];break;case bQ.Q:if(m){if(xn(e,c,b[a++],b[a++],b[a],b[a+1],k,f,d)){return !0}}else {i+=Tn(e,c,b[a++],b[a++],b[a],b[a+1],f,d)||0};e=b[a++],c=b[a++];break;case bQ.A:var o=b[a++],q=b[a++],s=b[a++],p=b[a++],n=b[a++],r=b[a++],v=(b[a++],1-b[a++]),l=Math.cos(n)*s+o,j=Math.sin(n)*p+q;a>1?i+=bn(e,c,l,j,f,d):(h=l,g=j);var u=(f-o)*p/s+o;if(m){if(wn(o,q,p,n,n+r,v,k,u,d)){return !0}}else {i+=An(o,q,p,n,n+r,v,u,d)};e=Math.cos(n+r)*s+o,c=Math.sin(n+r)*p+q;break;case bQ.R:h=e=b[a++],g=c=b[a++];var l=h+b[a++],j=g+b[a++];if(m){if(vn(h,g,l,g,k,f,d)||vn(l,g,l,j,k,f,d)||vn(l,j,h,j,k,f,d)||vn(h,j,h,g,k,f,d)){return !0}}else {i+=bn(l,g,l,j,f,d),i+=bn(h,j,h,g,f,d)};break;case bQ.Z:if(m){if(vn(e,c,h,g,k,f,d)){return !0}}else {i+=bn(e,c,h,g,f,d)};e=h,c=g;}}return m||Sn(c,g)||(i+=bn(e,c,h,g,f,d)||0),0!==i}function Cn(c,a,b){return Dn(c,0,!1,a,b)}function Ln(d,a,b,c){return Dn(d,a,!0,b,c)}function kn(a){ui.call(this,a),this.path=null}function Pn(o,k,l,m,u,i,a,b,t,v,s){var e=t*(eP/180),c=e7(e)*(o-l)/2+eK(e)*(k-m)/2,d=-1*eK(e)*(o-l)/2+e7(e)*(k-m)/2,n=c*c/(a*a)+d*d/(b*b);n>1&&(a*=gR(n),b*=gR(n));var q=(u===i?-1:1)*gR((a*a*(b*b)-a*a*(d*d)-b*b*(c*c))/(a*a*(d*d)+b*b*(c*c)))||0,g=q*a*d/b,h=q*-b*c/a,x=(o+l)/2+e7(e)*g-eK(e)*h,w=(k+m)/2+eK(e)*g+e7(e)*h,r=k5([1,0],[(c-g)/a,(d-h)/b]),p=[(c-g)/a,(d-h)/b],j=[(-1*c-g)/a,(-1*d-h)/b],f=k5(p,j);hF(p,j)<=-1&&(f=eP),hF(p,j)>=1&&(f=0),0===i&&f>0&&(f-=2*eP),1===i&&f<0&&(f+=2*eP),s.addData(v,x,w,a,b,r,f,e,i)}function Nn(B){if(!B){return new aM()}for(var o,c=0,d=0,w=c,v=d,f=new aM(),g=aM.CMD,z=B.match(r4),x=0;x<z.length;x++){for(var e,y=z[x],n=y.charAt(0),a=y.match(qR)||[],A=a.length,s=0;s<A;s++){a[s]=parseFloat(a[s])}for(var b=0;b<A;){var h,i,u,q,t,r,p,m=c,l=d;switch(n){case 'l':c+=a[b++],d+=a[b++],e=g.L,f.addData(e,c,d);break;case 'L':c=a[b++],d=a[b++],e=g.L,f.addData(e,c,d);break;case 'm':c+=a[b++],d+=a[b++],e=g.M,f.addData(e,c,d),w=c,v=d,n='l';break;case 'M':c=a[b++],d=a[b++],e=g.M,f.addData(e,c,d),w=c,v=d,n='L';break;case 'h':c+=a[b++],e=g.L,f.addData(e,c,d);break;case 'H':c=a[b++],e=g.L,f.addData(e,c,d);break;case 'v':d+=a[b++],e=g.L,f.addData(e,c,d);break;case 'V':d=a[b++],e=g.L,f.addData(e,c,d);break;case 'C':e=g.C,f.addData(e,a[b++],a[b++],a[b++],a[b++],a[b++],a[b++]),c=a[b-2],d=a[b-1];break;case 'c':e=g.C,f.addData(e,a[b++]+c,a[b++]+d,a[b++]+c,a[b++]+d,a[b++]+c,a[b++]+d),c+=a[b-2],d+=a[b-1];break;case 'S':h=c,i=d;var k=f.len(),j=f.data;o===g.C&&(h+=c-j[k-4],i+=d-j[k-3]),e=g.C,m=a[b++],l=a[b++],c=a[b++],d=a[b++],f.addData(e,h,i,m,l,c,d);break;case 's':h=c,i=d;var k=f.len(),j=f.data;o===g.C&&(h+=c-j[k-4],i+=d-j[k-3]),e=g.C,m=c+a[b++],l=d+a[b++],c+=a[b++],d+=a[b++],f.addData(e,h,i,m,l,c,d);break;case 'Q':m=a[b++],l=a[b++],c=a[b++],d=a[b++],e=g.Q,f.addData(e,m,l,c,d);break;case 'q':m=a[b++]+c,l=a[b++]+d,c+=a[b++],d+=a[b++],e=g.Q,f.addData(e,m,l,c,d);break;case 'T':h=c,i=d;var k=f.len(),j=f.data;o===g.Q&&(h+=c-j[k-4],i+=d-j[k-3]),c=a[b++],d=a[b++],e=g.Q,f.addData(e,h,i,c,d);break;case 't':h=c,i=d;var k=f.len(),j=f.data;o===g.Q&&(h+=c-j[k-4],i+=d-j[k-3]),c+=a[b++],d+=a[b++],e=g.Q,f.addData(e,h,i,c,d);break;case 'A':u=a[b++],q=a[b++],t=a[b++],r=a[b++],p=a[b++],Pn(m=c,l=d,c=a[b++],d=a[b++],r,p,u,q,t,e=g.A,f);break;case 'a':u=a[b++],q=a[b++],t=a[b++],r=a[b++],p=a[b++],Pn(m=c,l=d,c+=a[b++],d+=a[b++],r,p,u,q,t,e=g.A,f);}}'z'!==n&&'Z'!==n||(e=g.Z,f.addData(e),c=w,d=v),o=e}return f.toStatic(),f}function On(c,a){var b=Nn(c);return a=a||{},a.buildPath=function(d){if(d.setData){d.setData(b.data),(e=d.getContext())&&d.rebuildPath(e)}else {var e=d;b.rebuildPath(e)}},a.applyTransform=function(d){qC(b,d),this.dirty(!0)},a}function En(b,a){return new kn(On(b,a))}function Rn(b,a){return kn.extend(On(b,a))}function zn(i,a,b,f,g,e,h){var c=0.5*(b-i),d=0.5*(f-a);return (2*(a-b)+c+d)*h+(-3*(a-b)-2*c-d)*e+c*g+a}function Bn(c,f,d){var a=f.points,e=f.smooth;if(a&&a.length>=2){if(e&&'spline'!==e){var h=rX(a,e,d,f.smoothConstraint);c.moveTo(a[0][0],a[0][1]);for(var g=a.length,b=0;b<(d?g:g-1);b++){var j=h[2*b],k=h[2*b+1],i=a[(b+1)%g];c.bezierCurveTo(j[0],j[1],k[0],k[1],i[0],i[1])}}else {'spline'===e&&(a=rG(a,d)),c.moveTo(a[0][0],a[0][1]);for(var b=1,l=a.length;b<l;b++){c.lineTo(a[b][0],a[b][1])}}d&&c.closePath()}}function Vn(a,b,c){var d=a.cpx2,e=a.cpy2;return null===d||null===e?[(c?tn:Qi)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?tn:Qi)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?sn:rn)(a.x1,a.cpx1,a.x2,b),(c?sn:rn)(a.y1,a.cpy1,a.y2,b)]}function Gn(a){ui.call(this,a),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Fn(a){return kn.extend(a)}function Wn(e,c,a,d){var b=En(e,c);return a&&('center'===d&&(a=Zn(a,b.getBoundingRect())),Un(b,a)),b}function Hn(d,a,c){var b=new hi({style:{image:d,x:a.x,y:a.y,width:a.width,height:a.height},onload:function(e){if('center'===c){var f={width:e.width,height:e.height};b.setStyle(Zn(a,f))}}});return b}function Zn(a,d){var c,e=d.width/d.height,b=a.height*e;return c=b<=a.width?a.height:(b=a.width)/e,{x:a.x+a.width/2-b/2,y:a.y+a.height/2-c/2,width:b,height:c}}function Un(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function Xn(b){var a=b.shape,c=b.style.lineWidth;return dw(2*a.x1)===dw(2*a.x2)&&(a.x1=a.x2=Yn(a.x1,c,!0)),dw(2*a.y1)===dw(2*a.y2)&&(a.y1=a.y2=Yn(a.y1,c,!0)),b}function jn(c){var a=c.shape,b=c.style.lineWidth,f=a.x,g=a.y,d=a.width,e=a.height;return a.x=Yn(a.x,b,!0),a.y=Yn(a.y,b,!0),a.width=Math.max(Yn(f+d,b,!1)-a.x,0===d?0:1),a.height=Math.max(Yn(g+e,b,!1)-a.y,0===e?0:1),c}function Yn(d,b,c){var a=dw(2*d);return (a+dw(b))%2==0?a/2:(a+(c?1:-1))/2}function qn(a){return null!=a&&'none'!==a}function Kn(a){if('string'!=typeof a){return a}var b=lq.get(a);return b||(b=Gt(a,-0.1),m5<10000&&(lq.set(a,b),m5++)),b}function $n(a){if(a.__hoverStlDirty){a.__hoverStlDirty=!1;var b=a.__hoverStl;if(b){var c=a.__normalStl={},d=a.style;for(var e in b){null!=b[e]&&(c[e]=d[e])}c.fill=d.fill,c.stroke=d.stroke}else {a.__normalStl=null}}}function Jn(a){var d=a.__hoverStl;if(d&&!a.__highlighted){var c=a.useHoverLayer;a.__highlighted=c?'layer':'plain';var e=a.__zr;if(e||!c){var f=a,b=a.style;c&&(b=(f=e.addHover(a)).style),xo(b),c||$n(f),b.extendFrom(d),Qn(b,d,'fill'),Qn(b,d,'stroke'),yo(b),c||(a.dirty(!1),a.z2+=1)}}}function Qn(b,c,a){!qn(c[a])&&qn(b[a])&&(b[a]=Kn(b[a]))}function to(a){a.__highlighted&&(eo(a),a.__highlighted=!1)}function eo(a){var b=a.__highlighted;if('layer'===b){a.__zr&&a.__zr.removeHover(a)}else {if(b){var c=a.style,d=a.__normalStl;d&&(xo(c),a.setStyle(d),yo(c),a.z2-=1)}}}function io(a,b){a.isGroup?a.traverse(function(c){!c.isGroup&&b(c)}):b(a)}function no(a,b){b=a.__hoverStl=!1!==b&&(b||{}),a.__hoverStlDirty=!0,a.__highlighted&&(to(a),Jn(a))}function oo(a){return a&&a.__isEmphasisEntered}function ao(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasisEntered&&io(this,Jn)}function ro(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasisEntered&&io(this,to)}function so(){this.__isEmphasisEntered=!0,io(this,Jn)}function lo(){this.__isEmphasisEntered=!1,io(this,to)}function uo(a,b,c){a.isGroup?a.traverse(function(d){!d.isGroup&&no(d,d.hoverStyle||b)}):no(a,a.hoverStyle||b),ho(a,c)}function ho(a,c){var d=!1===c;if(a.__hoverSilentOnTouch=null!=c&&c.hoverSilentOnTouch,!d||a.__hoverStyleTrigger){var b=d?'off':'on';a[b]('mouseover',ao)[b]('mouseout',ro),a[b]('emphasis',so)[b]('normal',lo),a.__hoverStyleTrigger=!d}}function co(m,g,j,k,a,n,o){var b,c=(a=a||f8).labelFetcher,d=a.labelDataIndex,i=a.labelDimIndex,e=j.getShallow('show'),f=k.getShallow('show');(e||f)&&(c&&(b=c.getFormattedLabel(d,'normal',null,i)),null==b&&(b=x(a.defaultText)?a.defaultText(d,a):a.defaultText));var h=e?b:null,l=f?A(c?c.getFormattedLabel(d,'emphasis',null,i):null,b):null;null==h&&null==l||(fo(m,j,n,a),fo(g,k,o,a,!0)),m.text=h,g.text=l}function fo(b,d,c,e,f){return po(b,d,e,f),c&&a(b,c),b}function po(c,a,b,d){if((b=b||f8).isRectText){var g=a.getShallow('position')||(d?null:'inside');'outside'===g&&(g='top'),c.textPosition=g,c.textOffset=a.getShallow('offset');var e=a.getShallow('rotate');null!=e&&(e*=Math.PI/180),c.textRotation=e,c.textDistance=A(a.getShallow('distance'),d?null:5)}var h,k=a.ecModel,j=k&&k.option.textStyle,i=go(a);if(i){h={};for(var f in i){if(i.hasOwnProperty(f)){var l=a.getModel(['rich',f]);mo(h[f]={},l,j,b,d)}}}return c.rich=h,mo(c,a,j,b,d,!0),b.forceRich&&!b.textStyle&&(b.textStyle={}),c}function go(a){for(var b;a&&a!==a.ecModel;){var c=(a.option||f8).rich;if(c){b=b||{};for(var d in c){c.hasOwnProperty(d)&&(b[d]=1)}}a=a.parentModel}return b}function mo(a,b,c,d,f,e){c=!f&&c||f8,a.textFill=vo(b.getShallow('color'),d)||c.color,a.textStroke=vo(b.getShallow('textBorderColor'),d)||c.textBorderColor,a.textStrokeWidth=A(b.getShallow('textBorderWidth'),c.textBorderWidth),a.insideRawTextPosition=a.textPosition,f||(e&&(a.insideRollbackOpt=d,yo(a)),null==a.textFill&&(a.textFill=d.autoColor)),a.fontStyle=b.getShallow('fontStyle')||c.fontStyle,a.fontWeight=b.getShallow('fontWeight')||c.fontWeight,a.fontSize=b.getShallow('fontSize')||c.fontSize,a.fontFamily=b.getShallow('fontFamily')||c.fontFamily,a.textAlign=b.getShallow('align'),a.textVerticalAlign=b.getShallow('verticalAlign')||b.getShallow('baseline'),a.textLineHeight=b.getShallow('lineHeight'),a.textWidth=b.getShallow('width'),a.textHeight=b.getShallow('height'),a.textTag=b.getShallow('tag'),e&&d.disableBox||(a.textBackgroundColor=vo(b.getShallow('backgroundColor'),d),a.textPadding=b.getShallow('padding'),a.textBorderColor=vo(b.getShallow('borderColor'),d),a.textBorderWidth=b.getShallow('borderWidth'),a.textBorderRadius=b.getShallow('borderRadius'),a.textBoxShadowColor=b.getShallow('shadowColor'),a.textBoxShadowBlur=b.getShallow('shadowBlur'),a.textBoxShadowOffsetX=b.getShallow('shadowOffsetX'),a.textBoxShadowOffsetY=b.getShallow('shadowOffsetY')),a.textShadowColor=b.getShallow('textShadowColor')||c.textShadowColor,a.textShadowBlur=b.getShallow('textShadowBlur')||c.textShadowBlur,a.textShadowOffsetX=b.getShallow('textShadowOffsetX')||c.textShadowOffsetX,a.textShadowOffsetY=b.getShallow('textShadowOffsetY')||c.textShadowOffsetY}function vo(b,a){return 'auto'!==b?b:a&&a.autoColor?a.autoColor:null}function yo(a){var b=a.insideRollbackOpt;if(b&&null==a.textFill){var c,f=b.useInsideStyle,e=a.insideRawTextPosition,d=b.autoColor;!1!==f&&(!0===f||b.isRectText&&e&&'string'==typeof e&&e.indexOf('inside')>=0)?(c={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill='#fff',null==a.textStroke&&(a.textStroke=d,null==a.textStrokeWidth&&(a.textStrokeWidth=2))):null!=d&&(c={textFill:null},a.textFill=d),c&&(a.insideRollback=c)}}function xo(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth,a.insideRollback=null)}function _o(b,c){var a=c||c.getModel('textStyle');return P([b.fontStyle||a&&a.getShallow('fontStyle')||'',b.fontWeight||a&&a.getShallow('fontWeight')||'',(b.fontSize||a&&a.getShallow('fontSize')||12)+'px',b.fontFamily||a&&a.getShallow('fontFamily')||'sans-serif'].join(' '))}function wo(j,c,g,b,d,a){if('function'==typeof d&&(a=d,d=null),b&&b.isAnimationEnabled()){var h=j?'Update':'',e=b.getShallow('animationDuration'+h),i=b.getShallow('animationEasing'+h),f=b.getShallow('animationDelay'+h);'function'==typeof f&&(f=f(d,b.getAnimationDelayParams?b.getAnimationDelayParams(c,d):null)),'function'==typeof e&&(e=e(d)),e>0?c.animateTo(g,e,f||0,i,a,!!a):(c.stopAnimation(),c.attr(g),a&&a())}else {c.stopAnimation(),c.attr(g),a&&a()}}function bo(e,a,b,c,d){wo(!0,e,a,b,c,d)}function So(e,a,b,c,d){wo(!1,e,a,b,c,d)}function Mo(a,c){for(var b=vt([]);a&&a!==c;){xt(b,a.getLocalTransform(),b),a=a.parent}return b}function Io(d,a,b){return a&&!c(a)&&(a=bF.getLocalTransform(a)),b&&(a=St([],a)),Q([],d,a)}function To(c,a,f){var d=0===a[4]||0===a[5]||0===a[0]?1:Math.abs(2*a[4]/a[0]),e=0===a[4]||0===a[5]||0===a[2]?1:Math.abs(2*a[4]/a[2]),b=['left'===c?-d:'right'===c?d:0,'top'===c?-e:'bottom'===c?e:0];return b=Io(b,a,f),Math.abs(b[0])>Math.abs(b[1])?b[0]>0?'right':'left':b[1]>0?'bottom':'top'}function Ao(c,b,d,f){function o(e){var g={position:F(e.position),rotation:e.rotation};return e.shape&&(g.shape=a({},e.shape)),g}if(c&&b){var e=function(e){var a={};return e.traverse(function(g){!g.isGroup&&g.anid&&(a[g.anid]=g)}),a}(c);b.traverse(function(a){if(!a.isGroup&&a.anid){var g=e[a.anid];if(g){var h=o(a);a.attr(o(g)),bo(a,h,d,a.dataIndex)}}})}}function Do(b,a){return f(b,function(e){var c=e[0];c=fO(c,a.x),c=f2(c,a.x+a.width);var d=e[1];return d=fO(d,a.y),d=f2(d,a.y+a.height),[c,d]})}function Co(d,b,c){var e=(b=a({rectHover:!0},b)).style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},d){return 0===d.indexOf('image://')?(e.image=d.slice(8),r(e,c),new hi(b)):Wn(d.replace('path://',''),b,c,'center')}}function Lo(c,a,b){this.parentModel=a,this.ecModel=b,this.option=c}function ko(a,b,d){for(var c=0;c<b.length&&(!b[c]||null!=(a=a&&'object'==typeof a?a[b[c]]:null));c++){}return null==a&&d&&(a=d.get(b)),a}function Po(a,c){var b=jF(a).getParent;return b?b.call(a,c):a.parentModel}function No(a){return [a||'',nT++,Math.random().toFixed(5)].join('_')}function Oo(a){return a.replace(/^\s+/,'').replace(/\s+$/,'')}function Eo(c,b,a,f){var d=b[1]-b[0],e=a[1]-a[0];if(0===d){return 0===e?a[0]:(a[0]+a[1])/2}if(f){if(d>0){if(c<=b[0]){return a[0]}if(c>=b[1]){return a[1]}}else {if(c>=b[0]){return a[0]}if(c<=b[1]){return a[1]}}}else {if(c===b[0]){return a[0]}if(c===b[1]){return a[1]}}return (c-b[0])/d*e+a[0]}function Ro(a,b){switch(a){case 'center':case 'middle':a='50%';break;case 'left':case 'top':a='0%';break;case 'right':case 'bottom':a='100%';}return 'string'==typeof a?Oo(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function zo(b,a,c){return null==a&&(a=10),a=Math.min(Math.max(0,a),20),b=(+b).toFixed(a),c?b:+b}function Bo(a){return a.sort(function(c,b){return c-b}),a}function Vo(a){if(a=+a,isNaN(a)){return 0}for(var b=1,c=0;Math.round(a*b)/b!==a;){b*=10,c++}return c}function Go(e){var a=e.toString(),b=a.indexOf('e');if(b>0){var c=+a.slice(b+1);return c<0?-c:0}var d=a.indexOf('.');return d<0?0:a.length-1-d}function Fo(e,a){var b=Math.log,c=Math.LN10,g=Math.floor(b(e[1]-e[0])/c),f=Math.round(b(Math.abs(a[1]-a[0]))/c),d=Math.min(Math.max(-g+f,0),20);return isFinite(d)?d:20}function Wo(g,i,n){if(!g[i]){return 0}var l=p(g,function(b,a){return b+(isNaN(a)?0:a)},0);if(0===l){return 0}for(var e=Math.pow(10,n),h=f(g,function(a){return (isNaN(a)?0:a)/l*e*100}),o=100*e,b=f(h,function(a){return Math.floor(a)}),k=p(b,function(b,a){return b+a},0),c=f(h,function(c,a){return c-b[a]});k<o;){for(var j=Number.NEGATIVE_INFINITY,d=null,a=0,m=c.length;a<m;++a){c[a]>j&&(j=c[a],d=a)}++b[d],c[d]=0,++k}return b[i]/e}function Ho(b){var a=2*Math.PI;return (b%a+a)%a}function Zo(a){return a>-j9&&a<j9}function Uo(b){if(b instanceof Date){return b}if('string'==typeof b){var a=pE.exec(b);if(!a){return new Date(NaN)}if(a[8]){var c=+a[4]||0;return 'Z'!==a[8].toUpperCase()&&(c-=a[8].slice(0,3)),new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,c,+(a[5]||0),+a[6]||0,+a[7]||0))}return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||0)}return null==b?new Date(NaN):new Date(Math.round(b))}function Xo(a){return Math.pow(10,jo(a))}function jo(a){return Math.floor(Math.log(a)/Math.LN10)}function Yo(b,f){var d,c=jo(b),e=Math.pow(10,c),a=b/e;return d=f?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,b=d*e,c>=-20?+b.toFixed(c<0?-c:0):b}function qo(b){function e(d,c,a){return d.interval[a]<c.interval[a]||d.interval[a]===c.interval[a]&&(d.close[a]-c.close[a]==(a?-1:1)||!a&&e(d,c,1))}b.sort(function(c,a){return e(c,a,0)?-1:1});for(var g=-1/0,h=1,d=0;d<b.length;){for(var c=b[d].interval,f=b[d].close,a=0;a<2;a++){c[a]<=g&&(c[a]=g,f[a]=a?1:1-h),g=c[a],h=f[a]}c[0]===c[1]&&f[0]*f[1]!=1?b.splice(d,1):d++}return b}function Ko(a){return a-parseFloat(a)>=0}function $o(a){return isNaN(a)?'-':(a=(a+'').split('.'))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,'$1,')+(a.length>1?'.'+a[1]:'')}function Jo(a,b){return a=(a||'').toLowerCase().replace(/-(.)/g,function(d,c){return c.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function Qo(a){return null==a?'':(a+'').replace(n3,function(c,b){return pS[b]})}function ta(b,a,j){y(a)||(a=[a]);var g=a.length;if(!g){return ''}for(var f=a[0].$vars||[],e=0;e<f.length;e++){var h=nk[e];b=b.replace(gB(h),gB(h,0))}for(var d=0;d<g;d++){for(var c=0;c<f.length;c++){var i=a[d][f[c]];b=b.replace(gB(nk[c],d),j?Qo(i):i)}}return b}function ea(a,b,c){return d(b,function(d,e){a=a.replace('{'+e+'}',c?Qo(d):d)}),a}function ia(a,b){var c=(a=_(a)?{color:a,extraCssText:b}:a||{}).color,f=a.type,b=a.extraCssText,d=a.renderMode||'html',e=a.markerId||'X';return c?'html'===d?'subItem'===f?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Qo(c)+';'+(b||'')+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Qo(c)+';'+(b||'')+'"></span>':{renderMode:d,content:'{marker'+e+'|}  ',style:{color:c}}:''}function na(a,b){return a+='','0000'.substr(0,b-a.length)+a}function oa(a,k,l){'week'!==a&&'month'!==a&&'quarter'!==a&&'half-year'!==a&&'year'!==a||(a='MM-dd\nyyyy');var b=Uo(k),c=l?'UTC':'',d=b['get'+c+'FullYear'](),g=b['get'+c+'Month']()+1,h=b['get'+c+'Date'](),f=b['get'+c+'Hours'](),i=b['get'+c+'Minutes'](),e=b['get'+c+'Seconds'](),j=b['get'+c+'Milliseconds']();return a=a.replace('MM',na(g,2)).replace('M',g).replace('yyyy',d).replace('yy',d%100).replace('dd',na(h,2)).replace('d',h).replace('hh',na(f,2)).replace('h',f).replace('mm',na(i,2)).replace('m',i).replace('ss',na(e,2)).replace('s',e).replace('SSS',na(j,3))}function aa(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function ra(h,g,d,e,f){var b=0,c=0;null==e&&(e=1/0),null==f&&(f=1/0);var a=0;g.eachChild(function(j,r){var m,l,n=j.position,i=j.getBoundingRect(),p=g.childAt(r+1),k=p&&p.getBoundingRect();if('horizontal'===h){var o=i.width+(k?-k.x+i.x:0);(m=b+o)>e||j.newline?(b=0,m=o,c+=a+d,a=i.height):a=Math.max(a,i.height)}else {var q=i.height+(k?-k.y+i.y:0);(l=c+q)>f||j.newline?(b+=a+d,c=0,l=q,a=i.width):a=Math.max(a,i.width)}j.newline||(n[0]=b,n[1]=c,'horizontal'===h?b=m+d:c=l+d)})}function sa(a,i,b){var e=i.width,f=i.height,c=Ro(a.x,e),g=Ro(a.y,f),h=Ro(a.x2,e),d=Ro(a.y2,f);return (isNaN(c)||isNaN(parseFloat(a.x)))&&(c=0),(isNaN(h)||isNaN(parseFloat(a.x2)))&&(h=e),(isNaN(g)||isNaN(parseFloat(a.y)))&&(g=0),(isNaN(d)||isNaN(parseFloat(a.y2)))&&(d=f),b=cz(b||0),{width:Math.max(h-c-b[1]-b[3],0),height:Math.max(d-g-b[0]-b[2],0)}}function la(d,n,c){c=cz(c||0);var e=n.width,f=n.height,g=Ro(d.left,e),h=Ro(d.top,f),m=Ro(d.right,e),l=Ro(d.bottom,f),b=Ro(d.width,e),a=Ro(d.height,f),i=c[2]+c[0],j=c[1]+c[3],k=d.aspect;switch(isNaN(b)&&(b=e-m-j-g),isNaN(a)&&(a=f-l-i-h),null!=k&&(isNaN(b)&&isNaN(a)&&(k>e/f?b=0.8*e:a=0.8*f),isNaN(b)&&(b=k*a),isNaN(a)&&(a=b/k)),isNaN(g)&&(g=e-m-b-j),isNaN(h)&&(h=f-l-a-i),d.left||d.right){case 'center':g=e/2-b/2-c[3];break;case 'right':g=e-b-j;}switch(d.top||d.bottom){case 'middle':case 'center':h=f/2-a/2-c[0];break;case 'bottom':h=f-a-i;}g=g||0,h=h||0,isNaN(b)&&(b=e-j-g-(m||0)),isNaN(a)&&(a=f-i-h-(l||0));var o=new ue(g+c[3],h+c[0],b,a);return o.margin=c,o}function ua(c,d,l,m,a){var e=!a||!a.hv||a.hv[0],j=!a||!a.hv||a.hv[1],i=a&&a.boundingMode||'all';if(e||j){var b;if('raw'===i){b='group'===c.type?new ue(0,0,+d.width||0,+d.height||0):c.getBoundingRect()}else {if(b=c.getBoundingRect(),c.needLocalTransform()){var k=c.getLocalTransform();(b=b.clone()).applyTransform(k)}}d=la(r({width:b.width,height:b.height},d),l,m);var f=c.position,g=e?d.x-b.x:0,h=j?d.y-b.y:0;c.attr('position','raw'===i?[g,h]:[f[0]+g,f[1]+h])}}function ha(b,a){return null!=b[cF[a][0]]||null!=b[cF[a][1]]&&null!=b[cF[a][2]]}function ca(c,d,e){function n(f,m){var h={},k=0,g={},l=0;if(e6(f,function(a){g[a]=c[a]}),e6(f,function(b){o(d,b)&&(h[b]=g[b]=d[b]),a(h,b)&&k++,a(g,b)&&l++}),b[m]){return a(d,f[1])?g[f[2]]=null:a(d,f[2])&&(g[f[1]]=null),g}if(2!==l&&k){if(k>=2){return h}for(var j=0;j<f.length;j++){var i=f[j];if(!o(h,i)&&o(c,i)){h[i]=c[i];break}}return h}return g}function o(b,a){return b.hasOwnProperty(a)}function a(b,a){return null!=b[a]&&'auto'!==b[a]}function r(f,a,b){e6(f,function(g){a[g]=b[g]})}!w(e)&&(e={});var b=e.ignoreSize;!y(b)&&(b=[b,b]);var f=n(cF[0],0),g=n(cF[1],1);r(cF[0],c,f),r(cF[1],c,g)}function da(a){return fa({},a)}function fa(b,a){return a&&b&&e6(jX,function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function pa(b,d){for(var c=b.length,a=0;a<c;a++){if(b[a].length>d){return b[a]}}return b[c-1]}function ga(d){var b=d.get('coordinateSystem'),a={coordSysName:b,coordSysDims:[],axisMap:R(),categoryAxisMap:R()},c=pK[b];if(c){return c(d,a,a.axisMap,a.categoryAxisMap),a}}function ma(a){return 'category'===a.get('type')}function va(a){this.fromDataset=a.fromDataset,this.data=a.data||(a.sourceFormat===fP?{}:[]),this.sourceFormat=a.sourceFormat||mG,this.seriesLayoutBy=a.seriesLayoutBy||mQ,this.dimensionsDefine=a.dimensionsDefine,this.encodeDefine=a.encodeDefine&&R(a.encodeDefine),this.startIndex=a.startIndex||0,this.dimensionsDetectCount=a.dimensionsDetectCount}function ya(g){var a=g.option.source,b=mG;if(S(a)){b=fz}else {if(y(a)){0===a.length&&(b=d8);for(var e=0,h=a.length;e<h;e++){var d=a[e];if(null!=d){if(y(d)){b=d8;break}if(w(d)){b=fJ;break}}}}else {if(w(a)){for(var f in a){if(a.hasOwnProperty(f)&&c(a[f])){b=fP;break}}}else {if(null!=a){throw new Error('Invalid data')}}}}dA(g).sourceFormat=b}function xa(a){return dA(a).source}function _a(a){dA(a).datasetMap=R()}function wa(g){var b=g.option,c=b.data,f=S(c)?fz:cQ,l=!1,a=b.seriesLayoutBy,j=b.sourceHeader,k=b.dimensions,d=Aa(g);if(d){var h=d.option;c=h.source,f=dA(d).sourceFormat,l=!0,a=a||h.seriesLayoutBy,null==j&&(j=h.sourceHeader),k=k||h.dimensions}var e=ba(c,f,a,j,k),i=b.encode;!i&&d&&(i=Ta(g,d,c,f,a,e)),dA(g).source=new va({data:c,fromDataset:l,seriesLayoutBy:a,sourceFormat:f,dimensionsDefine:e.dimensionsDefine,startIndex:e.startIndex,dimensionsDetectCount:e.dimensionsDetectCount,encodeDefine:i})}function ba(b,e,g,h,a){if(!b){return {dimensionsDefine:Sa(a)}}var f,c,i;if(e===d8){'auto'===h||null==h?Ma(function(d){null!=d&&'-'!==d&&(_(d)?null==c&&(c=1):c=0)},g,b,10):c=h?1:0,a||1!==c||(a=[],Ma(function(c,d){a[d]=null!=c?c:''},g,b)),f=a?a.length:g===iU?b.length:b[0]?b[0].length:null}else {if(e===fJ){a||(a=Ia(b),i=!0)}else {if(e===fP){a||(a=[],i=!0,d(b,function(d,c){a.push(c)}))}else {if(e===cQ){var j=Li(b[0]);f=y(j)&&j.length||1}}}}var k;return i&&d(a,function(c,d){'name'===(w(c)?c.name:c)&&(k=d)}),{startIndex:c,dimensionsDefine:Sa(a),dimensionsDetectCount:f,potentialNameDimIndex:k}}function Sa(c){if(c){var b=R();return f(c,function(d,f){if(null==(d=a({},w(d)?d:{name:d})).name){return d}d.name+='',null==d.displayName&&(d.displayName=d.name);var e=b.get(d.name);return e?d.name+='-'+e.count++:b.set(d.name,{count:1}),d})}}function Ma(e,f,b,c){if(null==c&&(c=1/0),f===iU){for(a=0;a<b.length&&a<c;a++){e(b[a]?b[a][0]:null,a)}}else {for(var d=b[0]||[],a=0;a<d.length&&a<c;a++){e(d[a],a)}}}function Ia(e){for(var a,b=0;b<e.length&&!(a=e[b++]);){}if(a){var c=[];return d(a,function(b,a){c.push(a)}),c}}function Ta(i,q,s,t,n,h){var f=ga(i),a={},e=[],b=[],l=i.subType,p=R(['pie','map','funnel']),r=R(['line','bar','pictorialBar','scatter','effectScatter','candlestick','boxplot']);if(f&&null!=r.get(l)){var u=i.ecModel,k=dA(u).datasetMap,m=q.uid+'_'+n,o=k.get(m)||k.set(m,{categoryWayDim:1,valueWayDim:0});d(f.coordSysDims,function(d){if(null==f.firstCategoryDimIndex){c=o.valueWayDim++;a[d]=c,b.push(c)}else {if(f.categoryAxisMap.get(d)){a[d]=0,e.push(0)}else {var c=o.categoryWayDim++;a[d]=c,b.push(c)}}})}else {if(null!=p.get(l)){for(var c,g=0;g<5&&null==c;g++){Ca(s,t,n,h.dimensionsDefine,h.startIndex,g)||(c=g)}if(null!=c){a.value=c;var j=h.potentialNameDimIndex||Math.max(c-1,0);b.push(j),e.push(j)}}}return e.length&&(a.itemName=e),b.length&&(a.seriesName=b),a}function Aa(b){var a=b.option;if(!a.data){return b.ecModel.getComponent('dataset',a.datasetIndex||0)}}function Da(a,b){return Ca(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function Ca(c,g,m,k,l,f){function r(a){return (null==a||!isFinite(a)||''===a)&&(!(!_(a)||'-'===a)||void 0)}var b;if(S(c)){return !1}var d;if(k&&(d=w(d=k[f])?d.name:d),g===d8){if(m===iU){for(var e=c[f],a=0;a<(e||[]).length&&a<5;a++){if(null!=(b=r(e[l+a]))){return b}}}else {for(a=0;a<c.length&&a<5;a++){var i=c[l+a];if(i&&null!=(b=r(i[f]))){return b}}}}else {if(g===fJ){if(!d){return}for(a=0;a<c.length&&a<5;a++){if((h=c[a])&&null!=(b=r(h[d]))){return b}}}else {if(g===fP){if(!d){return}if(!(e=c[d])||S(e)){return !1}for(a=0;a<e.length&&a<5;a++){if(null!=(b=r(e[a]))){return b}}}else {if(g===cQ){for(a=0;a<c.length&&a<5;a++){var h=c[a],j=Li(h);if(!y(j)){return !1}if(null!=(b=r(j[f]))){return b}}}}}}return !1}function La(b,a){if(a){var c=a.seiresIndex,d=a.seriesId,e=a.seriesName;return null!=c&&b.componentIndex!==c||null!=d&&b.id!==d||null!=e&&b.name!==e}}function ka(a,b){var c=a.color&&!a.colorLayer;d(b,function(e,d){'colorLayer'===d&&c||aw.hasClass(d)||('object'==typeof e?a[d]=a[d]?n(a[d],e,!1):i(e):null==a[d]&&(a[d]=e))})}function Pa(a){a=a,this.option={},this.option[iY]=1,this._componentsMap=R({series:[]}),this._seriesIndices,this._seriesIndicesMap,ka(a,this._theme.option),n(a,oR,!1),this.mergeOption(a)}function Na(c,a){y(a)||(a=a?[a]:[]);var b={};return d(a,function(d){b[d]=(c.get(d)||[]).slice()}),b}function Oa(c,a,b){return a.type?a.type:b?b.subType:aw.determineSubType(c,a)}function Ea(a,b){a._seriesIndicesMap=R(a._seriesIndices=f(b,function(c){return c.componentIndex})||[])}function Ra(b,a){return a.hasOwnProperty('subType')?g(b,function(c){return c.subType===a.subType}):b}function za(a){d(q7,function(b){this[b]=m(a[b],a)},this)}function Ba(){this._coordinateSystems=[]}function Va(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ga(b,h,i){var d,a,c=[],e=[],g=b.timeline;if(b.baseOption&&(a=b.baseOption),(g||b.options)&&(a=a||{},c=(b.options||[]).slice()),b.media){a=a||{};var j=b.media;fD(j,function(a){a&&a.option&&(a.query?e.push(a):d||(d=a))})}return a||(a=b),a.timeline||(a.timeline=g),fD([a].concat(c).concat(f(e,function(a){return a.option})),function(a){fD(h,function(c){c(a,i)})}),{baseOption:a,timelineOptions:c,mediaDefault:d,mediaList:e}}function Fa(f,a,b){var e={width:a,height:b,aspectratio:a/b},c=!0;return d(f,function(j,h){var d=h.match(tq);if(d&&d[1]&&d[2]){var g=d[1],i=d[2].toLowerCase();Wa(e[i],j,g)||(c=!1)}}),c}function Wa(b,a,c){return 'min'===c?b>=a:'max'===c?b<=a:b===a}function Ha(b,a){return b.join(',')===a.join(',')}function Za(a,b){fD(b=b||{},function(c,d){if(null!=c){var e=a[d];if(aw.hasClass(d)){c=Di(c);var f=Pi(e=Di(e),c);a[d]=fG(f,function(e){return e.option&&e.exist?mw(e.exist,e.option,!0):e.exist||e.option})}else {a[d]=mw(e,c,!0)}}})}function Ua(b){var e=b&&b.itemStyle;if(e){for(var f=0,g=lk.length;f<g;f++){var a=lk[f],c=e.normal,d=e.emphasis;c&&c[a]&&(b[a]=b[a]||{},b[a].normal?n(b[a].normal,c[a]):b[a].normal=c[a],c[a]=null),d&&d[a]&&(b[a]=b[a]||{},b[a].emphasis?n(b[a].emphasis,d[a]):b[a].emphasis=d[a],d[a]=null)}}}function Xa(a,b,e){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var c=a[b].normal,d=a[b].emphasis;c&&(e?(a[b].normal=a[b].emphasis=null,r(a[b],c)):a[b]=c),d&&(a.emphasis=a.emphasis||{},a.emphasis[b]=d)}}function ja(a){Xa(a,'itemStyle'),Xa(a,'lineStyle'),Xa(a,'areaStyle'),Xa(a,'label'),Xa(a,'labelLine'),Xa(a,'upperLabel'),Xa(a,'edgeLabel')}function Ya(e,a){var b=ew(e)&&e[a],c=ew(b)&&b.textStyle;if(c){for(var d=0,f=nz.length;d<f;d++){var a=nz[d];c.hasOwnProperty(a)&&(b[a]=c[a])}}}function qa(a){a&&(ja(a),Ya(a,'label'),a.emphasis&&Ya(a.emphasis,'label'))}function Ka(a){if(ew(a)){Ua(a),ja(a),Ya(a,'label'),Ya(a,'upperLabel'),Ya(a,'edgeLabel'),a.emphasis&&(Ya(a.emphasis,'label'),Ya(a.emphasis,'upperLabel'),Ya(a.emphasis,'edgeLabel'));var c=a.markPoint;c&&(Ua(c),qa(c));var e=a.markLine;e&&(Ua(e),qa(e));var i=a.markArea;i&&qa(i);var f=a.data;if('graph'===a.type){f=f||a.nodes;var h=a.links||a.edges;if(h&&!S(h)){for(b=0;b<h.length;b++){qa(h[b])}}d(a.categories,function(b){ja(b)})}if(f&&!S(f)){for(b=0;b<f.length;b++){qa(f[b])}}if((c=a.markPoint)&&c.data){for(var j=c.data,b=0;b<j.length;b++){qa(j[b])}}if((e=a.markLine)&&e.data){for(var g=e.data,b=0;b<g.length;b++){y(g[b])?(qa(g[b][0]),qa(g[b][1])):qa(g[b])}}'gauge'===a.type?(Ya(a,'axisLabel'),Ya(a,'title'),Ya(a,'detail')):'treemap'===a.type?(Xa(a.breadcrumb,'itemStyle'),d(a.levels,function(b){ja(b)})):'tree'===a.type&&ja(a.leaves)}}function $a(a){return y(a)?a:a?[a]:[]}function Ja(a){return (y(a)?a[0]:a)||{}}function Qa(d,a){a=a.split(',');for(var b=d,c=0;c<a.length&&null!=(b=b&&b[a[c]]);c++){}return b}function tr(g,b,e,f){b=b.split(',');for(var d,a=g,c=0;c<b.length-1;c++){null==a[d=b[c]]&&(a[d]={}),a=a[d]}(f||null==a[b[c]])&&(a[b[c]]=e)}function er(a){d(q4,function(b){b[0] in a&&!(b[1] in a)&&(a[b[1]]=a[b[0]])})}function ir(a){d(a,function(b,h){var d=[],i=[NaN,NaN],g=[b.stackResultDimension,b.stackedOverDimension],c=b.data,f=b.isStackedByIndex,e=c.map(g,function(p,q,m){var e=c.get(b.stackedDimension,m);if(isNaN(e)){return i}var n,g;f?g=c.getRawIndex(m):n=c.get(b.stackedByDimension,m);for(var o=NaN,l=h-1;l>=0;l--){var j=a[l];if(f||(g=j.data.rawIndexOf(j.stackedByDimension,n)),g>=0){var k=j.data.getByRawIndex(j.stackResultDimension,g);if(e>=0&&k>0||e<=0&&k<0){e+=k,o=k;break}}}return d[0]=e,d[1]=o,d});c.hostModel.setData(e),b.data=e})}function nr(b,d){va.isInstance(b)||(b=va.seriesDataToSource(b)),this._source=b;var e=this._data=b.data,c=b.sourceFormat;c===fz&&(this._offset=0,this._dimSize=d,this._data=e),a(this,p5[c===d8?c+'_'+b.seriesLayoutBy:c])}function or(){return this._data.length}function ar(a){return this._data[a]}function rr(b){for(var a=0;a<b.length;a++){this._data.push(b[a])}}function sr(b,c,a,d){return null!=a?b[a]:b}function lr(c,a,d,b){return ur(c[b],this._dimensionInfos[a])}function ur(a,b){var c=b&&b.type;if('ordinal'===c){var d=b&&b.ordinalMeta;return d?d.parseAndCollect(a):a}return 'time'===c&&'number'!=typeof a&&null!=a&&'-'!==a&&(a=+Uo(a)),null==a||''===a?NaN:+a}function hr(a,d,g){if(a){var e=a.getRawDataItem(d);if(null!=e){var f,c,h=a.getProvider().getSource().sourceFormat,b=a.getDimensionInfo(g);return b&&(f=b.name,c=b.index),nH[h](e,d,c,f)}}}function cr(c,d,e){if(c){var b=c.getProvider().getSource().sourceFormat;if(b===cQ||b===fJ){var a=c.getRawDataItem(d);return b!==cQ||w(a)||(a=null),a?a[e]:void 0}}}function dr(a){return new fr(a)}function fr(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0,this.context}function pr(c,e,a,b,f,d){kC.reset(a,b,f,d),c._callingProgress=e,c._callingProgress({start:a,end:b,count:b-a,next:kC.next},c.context)}function gr(a,e){a._dueIndex=a._outputDueEnd=a._dueEnd=0,a._settedOutputEnd=null;var b,c;!e&&a._reset&&((b=a._reset(a.context))&&b.progress&&(c=b.forceFirstProgress,b=b.progress),y(b)&&!b.length&&(b=null)),a._progress=b,a._modBy=a._modDataCount=null;var d=a._downstream;return d&&d.dirty(),c}function mr(a){var b=a.name;Oi(a)||(a.name=vr(a)||b)}function vr(c){var a=c.getRawData(),b=[];return d(a.mapDimension('seriesName',!0),function(e){var d=a.getDimensionInfo(e);d.displayName&&b.push(d.displayName)}),b.join(' ')}function yr(a){return a.model.getRawData().count()}function xr(b){var a=b.model;return a.setData(a.getRawData().cloneShallow()),_r}function _r(b,a){b.end>a.outputData.count()&&a.model.getRawData().cloneShallow(a.outputData)}function wr(a,b){d(a.CHANGABLE_METHODS,function(c){a.wrapMethod(c,v(br,b))})}function br(b){var a=Sr(b);a&&a.setOutputEnd(this.count())}function Sr(b){var c=(b.ecModel||{}).scheduler,d=c&&c.getPipeline(b.uid);if(d){var a=d.currentTask;if(a){var e=a.agentStubMap;e&&(a=e.get(b.uid))}return a}}function Mr(){this.group=new t(),this.uid=No('viewChart'),this.renderTask=dr({plan:Ar,reset:Dr}),this.renderTask.context={view:this}}function Ir(a,c){if(a&&(a.trigger(c),'group'===a.type)){for(var b=0;b<a.childCount();b++){Ir(a.childAt(b),c)}}}function Tr(a,e,b){var c=zi(a,e);null!=c?d(Di(c),function(c){Ir(a.getItemGraphicEl(c),b)}):a.eachItemGraphicEl(function(c){Ir(c,b)})}function Ar(a){return qB(a.model)}function Dr(a){var e=a.model,h=a.ecModel,i=a.api,c=a.payload,g=e.pipelineContext.progressiveRender,f=a.view,d=c&&jA(c).updateMethod,b=g?'incrementalPrepareRender':d&&f[d]?d:'render';return 'render'!==b&&f[b](e,h,i,c),n7[b]}function Cr(l,e,k){function n(){g=(new Date()).getTime(),a=null,l.apply(h,i||[])}var f,c,h,i,b,j=0,g=0,a=null;e=e||0;var d=function(){f=(new Date()).getTime(),h=this,i=arguments;var m=b||e,d=b||k;b=null,c=f-(d?j:g)-m,clearTimeout(a),d?a=setTimeout(n,m):c>=0?n():a=setTimeout(n,-c),j=f};return d.clear=function(){a&&(clearTimeout(a),a=null)},d.debounceNextCall=function(a){b=a},d}function Lr(f,e,b,c){var a=f[e];if(a){var d=a[e5]||a,g=a[k8];if(a[jV]!==b||g!==c){if(null==b||!c){return f[e]=d}(a=f[e]=Cr(d,b,'debounce'===c))[e5]=d,a[k8]=c,a[jV]=b}return a}}function kr(c,b){var a=c[b];a&&a[e5]&&(c[b]=a[e5])}function Pr(d,c,a,b){this.ecInstance=d,this.api=c,this.unfinished;var a=this._dataProcessorHandlers=a.slice(),b=this._visualHandlers=b.slice();this._allHandlers=a.concat(b),this._stageTaskMap=R()}function Nr(c,g,h,f,b){function a(a,d){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(d.__pipeline.id))}b=b||{};var e;d(g,function(i,o){if(!b.visualType||b.visualType===i.visualType){var m=c._stageTaskMap.get(i.uid),n=m.seriesTaskMap,d=m.overallTask;if(d){var j,k=d.agentStubMap;k.each(function(d){a(b,d)&&(d.dirty(),j=!0)}),j&&d.dirty(),j5(d,f);var l=c.getPerformArgs(d,b.block);k.each(function(a){a.perform(l)}),e|=d.perform(l)}else {n&&n.each(function(d,k){a(b,d)&&d.dirty();var j=c.getPerformArgs(d,b.block);j.skip=!i.performRawSeries&&h.isSeriesFiltered(d.context.model),j5(d,f),e|=d.perform(j)})}}}),c.unfinished|=e}function Or(e,b,f,c,h){function a(a){var g=a.uid,i=d.get(g)||d.set(g,dr({plan:Gr,reset:Fr,count:Hr}));i.context={model:a,ecModel:c,api:h,useClearVisual:b.isVisual&&!b.isLayout,plan:b.plan,reset:b.reset,scheduler:e},Zr(e,a,i)}var d=f.seriesTaskMap||(f.seriesTaskMap=R()),i=b.seriesType,g=b.getTargetSeries;b.createOnAllSeries?c.eachRawSeries(a):i?c.eachRawSeriesByType(i,a):g&&g(c,h).each(a);var j=e._pipelineMap;d.each(function(g,a){j.get(a)||(g.dispose(),d.removeKey(a))})}function Er(h,c,i,e,k){function a(d){var j=d.uid,a=f.get(j);a||(a=f.set(j,dr({reset:zr,onDirty:Vr})),b.dirty()),a.context={model:d,overallProgress:g,modifyOutputEnd:m},a.agent=b,a.__block=g,Zr(h,d,a)}var b=i.overallTask=i.overallTask||dr({reset:Rr});b.context={ecModel:e,api:k,overallReset:c.overallReset,scheduler:h};var f=b.agentStubMap=b.agentStubMap||R(),j=c.seriesType,l=c.getTargetSeries,g=!0,m=c.modifyOutputEnd;j?e.eachRawSeriesByType(j,a):l?l(e,k).each(a):(g=!1,d(e.getSeries(),a));var n=h._pipelineMap;f.each(function(d,a){n.get(a)||(d.dispose(),b.dirty(),f.removeKey(a))})}function Rr(a){a.overallReset(a.ecModel,a.api,a.payload)}function zr(a,b){return a.overallProgress&&Br}function Br(){this.agent.dirty(),this.getDownstream().dirty()}function Vr(){this.agent&&this.agent.dirty()}function Gr(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function Fr(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=Di(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?f(b,function(c,b){return Wr(b)}):nC}function Wr(a){return function(d,e){var f=e.data,b=e.resetDefines[a];if(b&&b.dataEach){for(var c=d.start;c<d.end;c++){b.dataEach(f,c)}}else {b&&b.progress&&b.progress(d,f)}}}function Hr(a){return a.data.count()}function Zr(e,c,b){var d=c.uid,a=e._pipelineMap.get(d);!a.head&&(a.head=b),a.tail&&a.tail.pipe(b),a.tail=b,b.__idxInPipeline=a.count++,b.__pipeline=a}function Ur(a){eR=null;try{a(dT,mX)}catch(tN){}return eR}function Xr(c,a){for(var b in a.prototype){c[b]=B}}function jr(a){for(_(a)&&(a=(new DOMParser()).parseFromString(a,'text/xml')),9===a.nodeType&&(a=a.firstChild);'svg'!==a.nodeName.toLowerCase()||1!==a.nodeType;){a=a.nextSibling}return a}function Yr(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function qr(e,c){for(var a=e.firstChild;a;){if(1===a.nodeType){var b=a.getAttribute('offset');b=b.indexOf('%')>0?parseInt(b,10)/100:b?parseFloat(b):0;var d=a.getAttribute('stop-color')||'#000000';c.addColorStop(b,d)}a=a.nextSibling}}function Kr(b,a){b&&b.__inheritedStyle&&(a.__inheritedStyle||(a.__inheritedStyle={}),r(a.__inheritedStyle,b.__inheritedStyle))}function $r(f){for(var b=P(f).split(b6),c=[],a=0;a<b.length;a+=2){var e=parseFloat(b[a]),d=parseFloat(b[a+1]);c.push([e,d])}return c}function Jr(g,c,j,l){var b=c.__inheritedStyle||{},h='text'===c.type;if(1===g.nodeType&&(ts(g,c),a(b,es(g)),!l)){for(var i in dF){if(dF.hasOwnProperty(i)){var k=g.getAttribute(i);null!=k&&(b[dF[i]]=k)}}}var m=h?'textFill':'fill',f=h?'textStroke':'stroke';c.style=c.style||new bP();var e=c.style;null!=b.fill&&e.set(m,Qr(b.fill,j)),null!=b.stroke&&e.set(f,Qr(b.stroke,j)),d(['lineWidth','opacity','fillOpacity','strokeOpacity','miterLimit','fontSize'],function(a){var d='lineWidth'===a&&h?'textStrokeWidth':a;null!=b[a]&&e.set(d,parseFloat(b[a]))}),b.textBaseline&&'auto'!==b.textBaseline||(b.textBaseline='alphabetic'),'alphabetic'===b.textBaseline&&(b.textBaseline='bottom'),'start'===b.textAlign&&(b.textAlign='left'),'end'===b.textAlign&&(b.textAlign='right'),d(['lineDashOffset','lineCap','lineJoin','fontWeight','fontFamily','fontStyle','textAlign','textBaseline'],function(a){null!=b[a]&&e.set(a,b[a])}),b.lineDash&&(c.style.lineDash=P(b.lineDash).split(b6)),e[f]&&'none'!==e[f]&&(c[f]=!0),c.__inheritedStyle=b}function Qr(a,b){var c=b&&a&&a.match(rU);return c?b[P(c[1])]:a}function ts(h,f){var e=h.getAttribute('transform');if(e){var b=null,d=[];(e=e.replace(/,/g,' ')).replace(q9,function(c,a,b){d.push(a,b)});for(var c=d.length-1;c>0;c-=2){var a=d[c],g=d[c-1];switch(b=b||mt(),g){case 'translate':a=P(a).split(b6),_t(b,b,[parseFloat(a[0]),parseFloat(a[1]||0)]);break;case 'scale':a=P(a).split(b6),bt(b,b,[parseFloat(a[0]),parseFloat(a[1]||a[0])]);break;case 'rotate':a=P(a).split(b6),wt(b,b,parseFloat(a[0]));break;case 'skew':a=P(a).split(b6),console.warn('Skew transform is not supported yet');break;case 'matrix':a=P(a).split(b6);b[0]=parseFloat(a[0]),b[1]=parseFloat(a[1]),b[2]=parseFloat(a[2]),b[3]=parseFloat(a[3]),b[4]=parseFloat(a[4]),b[5]=parseFloat(a[5]);}}}f.setLocalTransform(b)}function es(f){var e=f.getAttribute('style'),b={};if(!e){return b}var c={};lJ.lastIndex=0;for(var d;null!=(d=lJ.exec(e));){c[d[1]]=d[2]}for(var a in dF){dF.hasOwnProperty(a)&&null!=c[a]&&(b[dF[a]]=c[a])}return b}function is(a,c,d){var e=c/a.width,f=d/a.height,b=Math.min(e,f);return {scale:[b,b],position:[-(a.x+a.width/2)*b+c/2,-(a.y+a.height/2)*b+d/2]}}function ns(b,a){return (new Yr()).parse(b,a)}function os(a){return function(b,c,d){b=b&&b.toLowerCase(),aG.prototype[a].call(this,b,c,d)}}function as(){aG.call(this)}function rs(d,a,b){function o(e,c){return e.__prio-c.__prio}b=b||{},'string'==typeof a&&(a=jD[a]),this.id,this.group,this._dom=d;var c=this._zr=Ii(d,{renderer:b.renderer||'canvas',devicePixelRatio:b.devicePixelRatio,width:b.width,height:b.height});this._throttledZrFlush=Cr(m(c.flush,c),17),(a=i(a))&&kb(a,!0),this._theme=a,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ba();var e=this._api=Ms(this);ve(gk,o),ve(g9,o),this._scheduler=new Pr(this,e,g9,gk),aG.call(this,this._ecEventProcessor=new Is()),this._messageCenter=new as(),this._initEvents(),this.resize=m(this.resize,this),this._pendingActions=[],c.animation.on('frame',this._onframe,this),ps(c,this),N(this)}function ss(g,a,h){var d,e=this._model,c=this._coordSysMgr.getCoordinateSystems();a=Vi(e,a);for(var b=0;b<c.length;b++){var f=c[b];if(f[g]&&null!=(d=f[g](e,a,h))){return d}}}function ls(b){var c=b._model,a=b._scheduler;a.restorePipelines(c),a.prepareStageTasks(),gs(b,'component',c,a),gs(b,'chart',c,a),a.plan()}function us(c,h,d,b,j){function a(a){a&&a.__alive&&a[h]&&a[h](a.__model,g,c._api,d)}var g=c._model;if(b){var f={};f[b+'Id']=d[b+'Id'],f[b+'Index']=d[b+'Index'],f[b+'Name']=d[b+'Name'];var i={mainType:b,query:f};j&&(i.subType=j);var e=d.excludeSeriesId;null!=e&&(e=R(Di(e))),g&&g.eachComponent(i,function(f){e&&null!=e.get(f.id)||a(c['series'===b?'_chartsMap':'_componentsMap'][f.__viewId])},c)}else {aJ(c._componentsViews.concat(c._chartsViews),a)}}function hs(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(e){d.updateStreamModes(e,c[e.__viewId])})}function cs(d,n){var e=d.type,o=d.escapeConnect,m=eZ[e],i=m.actionInfo,c=(i.update||'update').split(':'),g=c.pop();c=null!=c[0]&&hS(c[0]),this[bk]=!0;var l=[d],j=!1;d.batch&&(j=!0,l=f(d.batch,function(b){return b=r(a({},b),d),b.batch=null,b}));var b,h=[],k='highlight'===e||'downplay'===e;aJ(l,function(e){b=m.action(e,this._model,this._api),(b=b||a({},e)).type=i.event||b.type,h.push(b),k?us(this,g,e,'series'):c&&us(this,g,e,c.main,c.sub)},this),'none'===g||k||c||(this[bR]?(ls(this),bW.update.call(this,d),this[bR]=!1):bW[g].call(this,d)),b=j?{type:i.event||e,escapeConnect:o,batch:h}:h[0],this[bk]=!1,!n&&this._messageCenter.trigger(b.type,b)}function ds(c){for(var a=this._pendingActions;a.length;){var b=a.shift();cs.call(this,b,c)}}function fs(a){!a&&this.trigger('updated')}function ps(b,a){b.on('rendered',function(){a.trigger('rendered'),!b.animation.isFinished()||a[bR]||a._scheduler.unfinished||a._pendingActions.length||a.trigger('finished')})}function gs(e,j,f,k){function o(b){var l='_ec_'+b.id+'_'+b.type,a=g[l];if(!a){var m=hS(b.type);(a=new (c?a8.getClass(m.main,m.sub):Mr.getClass(m.sub))()).init(f,h),g[l]=a,d.push(a),i.add(a.group)}b.__viewId=a.__id=l,a.__alive=!0,a.__model=b,a.group.__ecComponentInfo={mainType:b.mainType,index:b.componentIndex},!c&&k.prepareView(a,b,f,h)}for(var c='component'===j,d=c?e._componentsViews:e._chartsViews,g=c?e._componentsMap:e._chartsMap,i=e._zr,h=e._api,a=0;a<d.length;a++){d[a].__alive=!1}c?f.eachComponent(function(b,a){'series'!==b&&o(a)}):f.eachSeries(o);for(a=0;a<d.length;){var b=d[a];b.__alive?a++:(!c&&b.renderTask.dispose(),i.remove(b.group),b.dispose(f,h),d.splice(a,1),delete g[b.__id],b.__id=b.group.__ecComponentInfo=null)}}function ms(a){a.clearColorPalette(),a.eachSeries(function(b){b.clearColorPalette()})}function vs(a,b,c,d){ys(a,b,c,d),aJ(a._chartsViews,function(e){e.__alive=!1}),xs(a,b,c,d),aJ(a._chartsViews,function(e){e.__alive||e.remove(b,c)})}function ys(e,a,b,c,d){aJ(d||e._componentsViews,function(f){var g=f.__model;f.render(g,a,b,c),Ss(g,f)})}function xs(a,b,g,f,e){var d,c=a._scheduler;b.eachSeries(function(h){var i=a._chartsMap[h.__viewId];i.__alive=!0;var j=i.renderTask;c.updatePayload(j,f),e&&e.get(h.uid)&&j.dirty(),d|=j.perform(c.getPerformArgs(j)),i.group.silent=!!h.get('silent'),Ss(h,i),bs(h,i)}),c.unfinished|=d,ws(a._zr,b),r0(a._zr.dom,b)}function _s(b,a){aJ(kJ,function(c){c(b,a)})}function ws(d,c){var a=d.storage,b=0;a.traverse(function(a){a.isGroup||b++}),b>c.get('hoverLayerThreshold')&&!aq.node&&a.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function bs(c,b){var a=c.get('blendMode')||null;b.group.traverse(function(d){d.isGroup||d.style.blend!==a&&d.setStyle('blend',a),d.eachPendingDisplayable&&d.eachPendingDisplayable(function(e){e.setStyle('blend',a)})})}function Ss(c,d){var a=c.get('z'),b=c.get('zlevel');d.group.traverse(function(e){'group'!==e.type&&(null!=a&&(e.z=a),null!=b&&(e.zlevel=b))})}function Ms(b){var c=b._coordSysMgr;return a(new za(b),{getCoordinateSystems:m(c.getCoordinateSystems,c),getComponentByElement:function(a){for(;a;){var c=a.__ecComponentInfo;if(null!=c){return b._model.getComponent(c.mainType,c.index)}a=a.parent}}})}function Is(){this.eventInfo}function Ts(a){function e(d,e){for(var c=0;c<d.length;c++){d[c][b]=e}}var b='__connectUpdateStatus';aJ(eX,function(d,c){a._messageCenter.on(c,function(g){if(eL[a.group]&&0!==a[b]){if(g&&g.escapeConnect){return}var h=a.makeActionFromEvent(g),f=[];aJ(cj,function(b){b!==a&&b.group===a.group&&f.push(b)}),e(f,0),aJ(f,function(e){1!==e[b]&&e.dispatchAction(h)}),e(f,2)}})})}function As(a){eL[a]=!1}function Ds(a){return cj[Wi(a,hO)]}function Cs(b,a){jD[b]=a}function Ls(a){jM.push(a)}function ks(b,a){Rs(g9,b,a,lE)}function Ps(a,b,d){'function'==typeof b&&(d=b,b='');var c=eB(a)?a.type:[a,a={event:b}][0];a.event=(a.event||c).toLowerCase(),b=a.event,sC(jI.test(c)&&jI.test(b)),eZ[c]||(eZ[c]={action:d,actionInfo:a}),eX[b]=c}function Ns(b,a){Ba.register(b,a)}function Os(b,a){Rs(gk,b,a,kM,'layout')}function Es(b,a){Rs(gk,b,a,kq,'visual')}function Rs(f,a,c,d,e){(tG(a)||eB(a))&&(c=a,a=d);var b=Pr.wrapStageHandler(c,e);return b.__prio=a,b.__raw=c,f.push(b),b}function zs(b,a){hJ[b]=a}function Bs(a){return aw.extend(a)}function Vs(a){return a8.extend(a)}function Gs(a){return aD.extend(a)}function Fs(a){return Mr.extend(a)}function Ws(a){return a}function Hs(e,a,b,c,d){this._old=e,this._new=a,this._oldKeyGetter=b||Ws,this._newKeyGetter=c||Ws,this.context=d}function Zs(e,d,f,g,h){for(var a=0;a<e.length;a++){var c='_ec_'+h[g](e[a],a),b=d[c];null==b?(f.push(c),d[c]=a):(b.length||(d[c]=b=[b]),b.push(a))}}function Us(k){var c={},a=c.encode={},i=R(),e=[],b=[];d(k.dimensions,function(f){var c=k.getDimensionInfo(f),d=c.coordDim;if(d){var g=a[d];a.hasOwnProperty(d)||(g=a[d]=[]),g[c.coordDimIndex]=f,c.isExtraCoord||(i.set(d,1),js(c.type)&&(e[0]=f)),c.defaultTooltip&&b.push(f)}l7.each(function(g,b){var e=a[b];a.hasOwnProperty(b)||(e=a[b]=[]);var d=c.otherDims[b];null!=d&&!1!==d&&(e[d]=c.name)})});var g=[],j={};i.each(function(d,b){var c=a[b];j[b]=c[0],g=g.concat(c)}),c.dataDimsOnCoord=g,c.encodeFirstDimNotExtra=j;var f=a.label;f&&f.length&&(e=f.slice());var h=a.tooltip;return h&&h.length?b=h.slice():b.length||(b=e.slice()),a.defaultedLabel=e,a.defaultedTooltip=b,c}function Xs(a){return 'category'===a?'ordinal':'time'===a?'time':'float'}function js(a){return !('ordinal'===a||'time'===a)}function Ys(a){return a._rawCount>65535?jj:oM}function qs(a){var b=a.constructor;return b===Array?a.slice():new b(a)}function Ks(c,b){d(pN.concat(b.__wrappedMethods||[]),function(a){b.hasOwnProperty(a)&&(c[a]=b[a])}),c.__wrappedMethods=b.__wrappedMethods,d(s4,function(a){c[a]=i(b[a])}),c._calculationInfo=a(b._calculationInfo)}function $s(a){var b=a._invertedIndicesMap;d(b,function(d,e){var f=a._dimensionInfos[e].ordinalMeta;if(f){d=b[e]=new jj(f.categories.length);for(c=0;c<d.length;c++){d[c]=NaN}for(var c=0;c<a._count;c++){d[a.get(e,c)]=c}}})}function Js(b,d,e){var a;if(null!=d){var g=b._chunkSize,i=Math.floor(e/g),j=e%g,h=b.dimensions[d],f=b._storage[h][i];if(f){a=f[j];var c=b._dimensionInfos[h].ordinalMeta;c&&c.categories.length&&(a=c.categories[a])}}return a}function Qs(a){return a}function tl(a){return a<this._count&&a>=0?this._indices[a]:-1}function el(c,b){var a=c._idList[b];return null==a&&(a=Js(c,c._idDimIdx,b)),null==a&&(a=sU+b),a}function il(a){return y(a)||(a=[a]),a}function nl(b,i){var e=b.dimensions,c=new aH(f(e,b.getDimensionInfo,b),b.hostModel);Ks(c,b);for(var h=c._storage={},d=b._storage,g=0;g<e.length;g++){var a=e[g];d[a]&&(l(i,a)>=0?(h[a]=ol(d[a]),c._rawExtent[a]=al(),c._extent[a]=null):h[a]=d[a])}return c}function ol(b){for(var c=new Array(b.length),a=0;a<b.length;a++){c[a]=qs(b[a])}return c}function al(){return [1/0,-1/0]}function rl(q,j,f){function o(b,a,c){null!=l7.get(a)?b.otherDims[a]=c:(b.coordDim=a,b.coordDimIndex=c,v.set(a,!0))}va.isInstance(j)||(j=va.seriesDataToSource(j)),f=f||{},q=(q||[]).slice();for(var l=(f.dimsDef||[]).slice(),n=R(f.encodeDef),s=R(),v=R(),c=[],t=sl(j,q,l,f.dimCount),e=0;e<t;e++){var k=l[e]=a({},w(l[e])?l[e]:{name:l[e]}),p=k.name,b=c[e]={otherDims:{}};null!=p&&null==s.get(p)&&(b.name=b.displayName=p,s.set(p,e)),null!=k.type&&(b.type=k.type),null!=k.displayName&&(b.displayName=k.displayName)}n.each(function(a,b){if(1===(a=Di(a).slice()).length&&a[0]<0){n.set(b,!1)}else {var e=n.set(b,[]);d(a,function(d,g){_(d)&&(d=s.get(d)),null!=d&&d<t&&(e[g]=d,o(c[d],b,g))})}});var m=0;d(q,function(a,p){var g,a,b,h;if(_(a)){g=a,a={}}else {g=a.name;var l=a.ordinalMeta;a.ordinalMeta=null,(a=i(a)).ordinalMeta=l,b=a.dimsDef,h=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var e=n.get(g);if(!1!==e){if(!(e=Di(e)).length){for(var k=0;k<(b&&b.length||1);k++){for(;m<c.length&&null!=c[m].coordDim;){m++}m<c.length&&e.push(m++)}}d(e,function(k,i){var d=c[k];if(o(r(d,a),g,i),null==d.name&&b){var e=b[i];!w(e)&&(e={name:e}),d.name=d.displayName=e.name,d.defaultTooltip=e.defaultTooltip}h&&r(d.otherDims,h)})}});var u=f.generateCoord,h=f.generateCoordCount,y=null!=h;h=u?h||1:0;for(var x=u||'value',g=0;g<t;g++){null==(b=c[g]=c[g]||{}).coordDim&&(b.coordDim=ll(x,v,y),b.coordDimIndex=0,(!u||h<=0)&&(b.isExtraCoord=!0),h--),null==b.name&&(b.name=ll(b.coordDim,s)),null==b.type&&Da(j,g,b.name)&&(b.type='ordinal')}return c}function sl(f,b,c,e){var a=Math.max(f.dimensionsDetectCount||1,b.length,c.length,e||0);return d(b,function(g){var d=g.dimsDef;d&&(a=Math.max(a,d.length))}),a}function ll(a,b,d){if(d||null!=b.get(a)){for(var c=0;null!=b.get(a+c);){c++}a+=c}return b.set(a,!0),a}function ul(m,c,i){var b,a,h,f,g=(i=i||{}).byIndex,l=i.stackedCoordDimension,n=!(!m||!m.get('stack'));if(d(c,function(d,e){_(d)&&(c[e]=d={name:d}),n&&!d.isExtraCoord&&(g||b||!d.ordinalMeta||(b=d),a||'ordinal'===d.type||'time'===d.type||l&&l!==d.coordDim||(a=d))}),!a||g||b||(g=!0),a){h='__\x00ecstackresult',f='__\x00ecstackedover',b&&(b.createInvertedIndices=!0);var k=a.coordDim,j=a.type,e=0;d(c,function(a){a.coordDim===k&&e++}),c.push({name:h,coordDim:k,coordDimIndex:e,type:j,isExtraCoord:!0,isCalculationCoord:!0}),e++,c.push({name:f,coordDim:f,coordDimIndex:e,type:j,isExtraCoord:!0,isCalculationCoord:!0})}return {stackedDimension:a&&a.name,stackedByDimension:b&&b.name,isStackedByIndex:g,stackedOverDimension:f,stackResultDimension:h}}function hl(b,a){return !!a&&a===b.getCalculationInfo('stackedDimension')}function cl(b,a){return hl(b,a)?b.getCalculationInfo('stackResultDimension'):a}function dl(b,h,k){k=k||{},va.isInstance(b)||(b=va.seriesDataToSource(b));var i,n=h.get('coordinateSystem'),e=Ba.get(n),c=ga(h);c&&(i=f(c.coordSysDims,function(e){var a={name:e},d=c.axisMap.get(e);if(d){var f=d.get('type');a.type=Xs(f)}return a})),i||(i=e&&(e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice())||['x','y']);var a,l,j=dB(b,{coordDimensions:i,generateCoord:k.generateCoord});c&&d(j,function(d,f){var g=d.coordDim,e=c.categoryAxisMap.get(g);e&&(null==a&&(a=f),d.ordinalMeta=e.getOrdinalMeta()),null!=d.otherDims.itemName&&(l=!0)}),l||null==a||(j[a].otherDims.itemName=0);var m=ul(h,j),g=new aH(j,h);g.setCalculationInfo(m);var o=null!=a&&fl(b)?function(f,e,c,d){return d===a?c:this.defaultDimValueGetter(f,e,c,d)}:null;return g.hasItemOption=!1,g.initData(b,null,o),g}function fl(b){if(b.sourceFormat===cQ){var a=pl(b.data||[]);return null!=a&&!y(Li(a))}}function pl(b){for(var a=0;a<b.length&&null==b[a];){a++}return b[a]}function gl(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function ml(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this._map}function vl(a){return a._map||(a._map=R(a.categories))}function yl(a){return w(a)&&null!=a.value?a.value:a+''}function xl(c,h,d,e){var b={},g=c[1]-c[0],a=b.interval=Yo(g/h,!0);null!=d&&a<d&&(a=b.interval=d),null!=e&&a>e&&(a=b.interval=e);var f=b.intervalPrecision=_l(a);return bl(b.niceTickExtent=[iq(Math.ceil(c[0]/a)*a,f),iq(Math.floor(c[1]/a)*a,f)],c),b}function _l(a){return Go(a)+2}function wl(c,a,b){c[a]=Math.max(Math.min(c[a],b[1]),b[0])}function bl(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),wl(a,0,b),wl(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function Sl(e,c,d,f){var a=[];if(!e){return a}c[0]<d[0]&&a.push(c[0]);for(var b=d[0];b<=d[1]&&(a.push(b),(b=iq(b+e,f))!==a[a.length-1]);){if(a.length>10000){return []}}return c[1]>(a.length?a[a.length-1]:d[1])&&a.push(c[1]),a}function Ml(a){return a.get('stack')||hY+a.seriesIndex}function Il(a){return a.dim+a.index}function Tl(c){var d=[],e=c.axis;if('category'===e.type){for(var h=e.getBandWidth(),a=0;a<c.count;a++){d.push(r({bandWidth:h,axisKey:'axis0',stackId:hY+a},c))}for(var g=Cl(d),f=[],a=0;a<c.count;a++){var b=g.axis0[hY+a];b.offsetCenter=b.offset+b.width/2,f.push(b)}return f}}function Al(c,b){var a=[];return b.eachSeriesByType(c,function(d){Pl(d)&&!Nl(d)&&a.push(d)}),a}function Dl(b){var a=[];return d(b,function(c){var g=c.getData(),d=c.coordinateSystem.getBaseAxis(),f=d.getExtent(),e='category'===d.type?d.getBandWidth():Math.abs(f[1]-f[0])/g.count(),i=Ro(c.get('barWidth'),e),j=Ro(c.get('barMaxWidth'),e),h=c.get('barGap'),k=c.get('barCategoryGap');a.push({bandWidth:e,barWidth:i,barMaxWidth:j,barGap:h,barCategoryGap:k,axisKey:Il(d),stackId:Ml(c)})}),Cl(a)}function Cl(c){var b={};d(c,function(d,m){var j=d.axisKey,k=d.bandWidth,a=b[j]||{bandWidth:k,remainedWidth:k,autoWidthCount:0,categoryGap:'20%',gap:'30%',stacks:{}},e=a.stacks;b[j]=a;var f=d.stackId;e[f]||a.autoWidthCount++,e[f]=e[f]||{width:0,maxWidth:0};var g=d.barWidth;g&&!e[f].width&&(e[f].width=g,g=Math.min(a.remainedWidth,g),a.remainedWidth-=g);var l=d.barMaxWidth;l&&(e[f].maxWidth=l);var i=d.barGap;null!=i&&(a.gap=i);var h=d.barCategoryGap;null!=h&&(a.categoryGap=h)});var a={};return d(b,function(e,j){a[j]={};var l=e.stacks,o=e.bandWidth,m=Ro(e.categoryGap,o),g=Ro(e.gap,1),h=e.remainedWidth,f=e.autoWidthCount,b=(h-m)/(f+(f-1)*g);b=Math.max(b,0),d(l,function(d,g){var a=d.maxWidth;a&&a<b&&(a=Math.min(a,h),d.width&&(a=Math.min(a,d.width)),h-=a,d.width=a,f--)}),b=(h-m)/(f+(f-1)*g),b=Math.max(b,0);var k,i=0;d(l,function(a,d){a.width||(a.width=b),k=a,i+=a.width*(1+g)}),k&&(i-=k.width*g);var n=-i/2;d(l,function(d,b){a[j][b]=a[j][b]||{offset:n,width:d.width},n+=d.width*(1+g)})}),a}function Ll(d,b,c){if(d&&b){var a=d[Il(b)];return null!=a&&null!=c&&(a=a[Ml(c)]),a}}function kl(f,c){var b=Al(f,c),e=Dl(b),a={};d(b,function(q){var b=q.getData(),o=q.coordinateSystem,m=o.getBaseAxis(),d=Ml(q),A=e[Il(m)][d],w=A.offset,x=A.width,v=o.getOtherAxis(m),n=q.get('barMinHeight')||0;a[d]=a[d]||[],b.setLayout({offset:w,size:x});for(var z=b.mapDimension(v.dim),B=b.mapDimension(m.dim),p=hl(b,z),C=v.isHorizontal(),j=Ol(m,v,p),k=0,D=b.count();k<D;k++){var r=b.get(z,k),i=b.get(B,k);if(!isNaN(r)){var y=r>=0?'p':'n',u=j;p&&(a[d][i]||(a[d][i]={p:j,n:j}),u=a[d][i][y]);var t,s,g,h;if(C){t=u,s=(l=o.dataToPoint([r,i]))[1]+w,g=l[0]-j,h=x,Math.abs(g)<n&&(g=(g<0?-1:1)*n),p&&(a[d][i][y]+=g)}else {var l=o.dataToPoint([i,r]);t=l[0]+w,s=u,g=x,h=l[1]-j,Math.abs(h)<n&&(h=(h<=0?-1:1)*n),p&&(a[d][i][y]+=h)}b.setItemLayout(k,{x:t,y:s,width:g,height:h})}}},this)}function Pl(a){return a.coordinateSystem&&'cartesian2d'===a.coordinateSystem.type}function Nl(a){return a.pipelineContext&&a.pipelineContext.large}function Ol(g,e,f){var c,d,a=e.getGlobalExtent();a[0]>a[1]?(c=a[1],d=a[0]):(c=a[0],d=a[1]);var b=e.toGlobalCoord(e.dataToCoord(0));return b<c&&(b=c),b>d&&(b=d),b}function El(b,a){return pY(b,q3(a))}function Rl(i,f){var h,c,j,g=i.type,a=f.getMin(),b=f.getMax(),p=null!=a,q=null!=b,e=i.getExtent();'ordinal'===g?h=f.getCategories().length:(y(c=f.get('boundaryGap'))||(c=[c||0,c||0]),'boolean'==typeof c[0]&&(c=[0,0]),c[0]=Ro(c[0],1),c[1]=Ro(c[1],1),j=e[1]-e[0]||Math.abs(e[0])),null==a&&(a='ordinal'===g?h?0:NaN:e[0]-c[0]*j),null==b&&(b='ordinal'===g?h?h-1:NaN:e[1]+c[1]*j),'dataMin'===a?a=e[0]:'function'==typeof a&&(a=a({min:e[0],max:e[1]})),'dataMax'===b?b=e[1]:'function'==typeof b&&(b=b({min:e[0],max:e[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==b||!isFinite(b))&&(b=NaN),i.setBlank(I(a)||I(b)||'ordinal'===g&&!i.getOrdinalMeta().categories.length),f.getNeedCrossZero()&&(a>0&&b>0&&!p&&(a=0),a<0&&b<0&&!q&&(b=0));var k=f.ecModel;if(k&&'time'===g){var l,n=Al('bar',k);if(d(n,function(a){l|=a.getBaseAxis()===f.axis}),l){var o=Dl(n),m=zl(a,b,f,o);a=m.min,b=m.max}}return [a,b]}function zl(e,c,i,m){var j=i.axis.getExtent(),l=j[1]-j[0],f=Ll(m,i.axis);if(void 0===f){return {min:e,max:c}}var b=1/0;d(f,function(a){b=Math.min(a.offset,b)});var a=-1/0;d(f,function(b){a=Math.max(b.offset+b.width,a)}),b=Math.abs(b),a=Math.abs(a);var k=b+a,h=c-e,g=h/(1-(b+a)/l)-h;return c+=g*(a/k),e-=g*(b/k),{min:e,max:c}}function Bl(b,a){var d=Rl(b,a),g=null!=a.getMin(),h=null!=a.getMax(),f=a.get('splitNumber');'log'===b.type&&(b.base=a.get('logBase'));var c=b.type;b.setExtent(d[0],d[1]),b.niceExtent({splitNumber:f,fixMin:g,fixMax:h,minInterval:'interval'===c||'time'===c?a.get('minInterval'):null,maxInterval:'interval'===c||'time'===c?a.get('maxInterval'):null});var e=a.get('interval');null!=e&&b.setInterval&&b.setInterval(e)}function Vl(a,b){if(b=b||a.get('type')){switch(b){case 'category':return new iT(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),[1/0,-1/0]);case 'value':return new bC();default:return (gl.getClass(b)||bC).create(a);}}}function Gl(d){var a=d.scale.getExtent(),b=a[0],c=a[1];return !(b>0&&c>0||b<0&&c<0)}function Fl(a){var b=a.getLabelModel().get('formatter'),c='category'===a.type?a.scale.getExtent()[0]:null;return 'string'==typeof b?b=function(b){return function(c){return c=a.scale.getLabel(c),b.replace('{value}',null!=c?c:'')}}(b):'function'==typeof b?function(d,e){return null!=c&&(e=d-c),b(Wl(a,d),e)}:function(b){return a.scale.getLabel(b)}}function Wl(b,a){return 'category'===b.type?b.scale.getLabel(a):a}function Hl(a){var l=a.model,c=a.scale;if(l.get('axisLabel.show')&&!c.isBlank()){var f,d,j='category'===a.type,m=c.getExtent();d=j?c.count():(f=c.getTicks()).length;var e,i=a.getLabelModel(),n=Fl(a),h=1;d>40&&(h=Math.ceil(d/40));for(var b=0;b<d;b+=h){var k=n(f?f[b]:m[0]+b),g=Zl(i.getTextRect(k),i.get('rotate')||0);e?e.union(g):e=g}return e}}function Zl(h,e){var a=e*Math.PI/180,b=h.plain(),d=b.width,c=b.height,f=d*Math.cos(a)+c*Math.sin(a),g=d*Math.sin(a)+c*Math.cos(a);return new ue(b.x,b.y,f,g)}function Ul(b,d){if('image'!==this.type){var a=this.style,c=this.shape;c&&'line'===c.symbolType?a.stroke=b:this.__isEmptyBrush?(a.stroke=b,a.fill=d||'#fff'):(a.fill&&(a.fill=b),a.stroke&&(a.stroke=b)),this.dirty(!1)}}function Xl(a,c,d,e,f,i,g){var h=0===a.indexOf('empty');h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var b;return b=0===a.indexOf('image://')?Hn(a.slice(8),new ue(c,d,e,f),g?'center':'cover'):0===a.indexOf('path://')?Wn(a.slice(7),{},new ue(c,d,e,f),g?'center':'cover'):new pP({shape:{symbolType:a,x:c,y:d,width:e,height:f}}),b.__isEmptyBrush=h,b.setColor=Ul,b.setColor(i),b}function jl(b,a){return Math.abs(b-a)<qz}function Yl(c,g,h){var e=0,a=c[0];if(!a){return !1}for(var d=1;d<c.length;d++){var f=c[d];e+=bn(a[0],a[1],f[0],f[1],g,h),a=f}var b=c[0];return jl(a[0],b[0])&&jl(a[1],b[1])||(e+=bn(a[0],a[1],b[0],b[1],g,h)),0!==e}function ql(d,c,a){if(this.name=d,this.geometries=c,a){a=[a[0],a[1]]}else {var b=this.getBoundingRect();a=[b.x+b.width/2,b.y+b.height/2]}this.center=a}function Kl(b){if(!b.UTF8Encoding){return b}var d=b.UTF8Scale;null==d&&(d=1024);for(var i=b.features,h=0;h<i.length;h++){for(var f=i[h].geometry,g=f.coordinates,j=f.encodeOffsets,a=0;a<g.length;a++){var e=g[a];if('Polygon'===f.type){g[a]=$l(e,j[a],d)}else {if('MultiPolygon'===f.type){for(var c=0;c<e.length;c++){var k=e[c];e[c]=$l(k,j[a][c],d)}}}}}return b.UTF8Encoding=!1,b}function $l(d,f,g){for(var h=[],i=f[0],e=f[1],c=0;c<d.length;c+=2){var b=d.charCodeAt(c)-64,a=d.charCodeAt(c+1)-64;b=b>>1^-(1&b),a=a>>1^-(1&a),i=b+=i,e=a+=e,h.push([b/g,a/g])}return h}function Jl(a){return 'category'===a.type?tu(a):nu(a)}function Ql(a,b){return 'category'===a.type?iu(a,b):{ticks:a.scale.getTicks()}}function tu(a){var b=a.getLabelModel(),c=eu(a,b);return !b.get('show')||a.scale.isBlank()?{labels:[],labelCategoryInterval:c.labelCategoryInterval}:c}function eu(b,g){var d=ou(b,'labels'),a=du(g),e=au(d,a);if(e){return e}var c,f;return c=x(a)?cu(b,a):hu(b,f='auto'===a?su(b):a),ru(d,a,{labels:c,labelCategoryInterval:f})}function iu(b,e){var g=ou(b,'ticks'),a=du(e),h=au(g,a);if(h){return h}var c,d;if(e.get('show')&&!b.scale.isBlank()||(c=[]),x(a)){c=cu(b,a,!0)}else {if('auto'===a){var i=eu(b,b.getLabelModel());d=i.labelCategoryInterval,c=f(i.labels,function(a){return a.tickValue})}else {c=hu(b,d=a,!0)}}return ru(g,a,{ticks:c,tickCategoryInterval:d})}function nu(a){var b=a.scale.getTicks(),c=Fl(a);return {labels:f(b,function(b,d){return {formattedLabel:c(b,d),rawLabel:a.scale.getLabel(b),tickValue:b}})}}function ou(b,a){return dM(b)[a]||(dM(b)[a]=[])}function au(b,c){for(var a=0;a<b.length;a++){if(b[a].key===c){return b[a].value}}}function ru(c,b,a){return c.push({key:b,value:a}),a}function su(a){var b=dM(a).autoInterval;return null!=b?b:dM(a).autoInterval=a.calculateCategoryInterval()}function lu(a){var i=uu(a),w=Fl(a),p=(i.axisRotate-i.labelRotate)/180*Math.PI,q=a.scale,e=q.getExtent(),f=q.count();if(e[1]-e[0]<1){return 0}var s=1;f>40&&(s=Math.max(1,Math.floor(f/40)));for(var b=e[0],t=a.dataToCoord(b+1)-a.dataToCoord(b),v=Math.abs(t*Math.cos(p)),u=Math.abs(t*Math.sin(p)),h=0,j=0;b<=e[1];b+=s){var r=0,n=0,o=De(w(b),i.font,'center','top');r=1.3*o.width,n=1.3*o.height,h=Math.max(h,r,7),j=Math.max(j,n,7)}var k=h/v,l=j/u;isNaN(k)&&(k=1/0),isNaN(l)&&(l=1/0);var c=Math.max(0,Math.floor(Math.min(k,l))),d=dM(a.model),g=d.lastAutoInterval,m=d.lastTickCount;return null!=g&&null!=m&&Math.abs(g-c)<=1&&Math.abs(m-f)<=1&&g>c?c=g:(d.lastTickCount=f,d.lastAutoInterval=c),c}function uu(a){var b=a.getLabelModel();return {axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:b.get('rotate')||0,font:b.getFont()}}function hu(f,k,l){function n(a){h.push(l?a:{formattedLabel:m(a),rawLabel:e.getLabel(a),tickValue:a})}var m=Fl(f),e=f.scale,a=e.getExtent(),i=f.getLabelModel(),h=[],c=Math.max((k||0)+1,1),b=a[0],j=e.count();0!==b&&c>1&&j/c>2&&(b=Math.round(Math.ceil(b/c)*c));var g={min:i.get('showMinLabel'),max:i.get('showMaxLabel')};g.min&&b!==a[0]&&n(a[0]);for(var d=b;d<=a[1];d+=c){n(d)}return g.max&&d!==a[1]&&n(a[1]),h}function cu(c,e,f){var b=c.scale,g=Fl(c),a=[];return d(b.getTicks(),function(d){var h=b.getLabel(d);e(d,h)&&a.push(f?d:{formattedLabel:g(d),rawLabel:h,tickValue:d})}),a}function du(b){var a=b.get('interval');return null==a?'auto':a}function fu(a,c){var b=(a[1]-a[0])/c/2;a[0]+=b,a[1]-=b}function pu(i,b,l,k,f){function a(c,a){return j?c>a:c<a}var g=b.length;if(i.onBand&&!k&&g){var e,c=i.getExtent();if(1===g){b[0].coord=c[0],e=b[1]={coord:c[0]}}else {var h=b[1].coord-b[0].coord;d(b,function(c){c.coord-=h/2;var a=a||0;a%2>0&&(c.coord-=h/(2*(a+1)))}),e={coord:b[g-1].coord+h},b.push(e)}var j=c[0]>c[1];a(b[0].coord,c[0])&&(f?b[0].coord=c[0]:b.shift()),f&&a(c[0],b[0].coord)&&b.unshift({coord:c[0]}),a(c[1],e.coord)&&(f?e.coord=c[1]:b.pop()),f&&a(e.coord,c[1])&&b.push({coord:c[1]})}}function gu(c,d){var a=c.mapDimension('defaultedLabel',!0),e=a.length;if(1===e){return hr(c,d,a[0])}if(e){for(var f=[],b=0;b<a.length;b++){var g=hr(c,d,a[b]);f.push(g)}return f.join(' ')}}function mu(c,a,b){t.call(this),this.updateData(c,a,b)}function vu(a){return [a[0]/2,a[1]/2]}function yu(b,a){this.parent.drift(b,a)}function xu(){!oo(this)&&wu.call(this)}function _u(){!oo(this)&&bu.call(this)}function wu(){if(!this.incremental&&!this.useHoverLayer){var a=this.__symbolOriginalScale,b=a[1]/a[0];this.animateTo({scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*b)]},400,'elasticOut')}}function bu(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,'elasticOut')}function Su(a){this.group=new t(),this._symbolCtor=a||mu}function Mu(d,a,c,b){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(b.isIgnore&&b.isIgnore(c))&&!(b.clipShape&&!b.clipShape.contain(a[0],a[1]))&&'none'!==d.getItemVisual(c,'symbol')}function Iu(a){return null==a||w(a)||(a={isIgnore:a}),a||{}}function Tu(b){var a=b.hostModel;return {itemStyle:a.getModel('itemStyle').getItemStyle(['color']),hoverItemStyle:a.getModel('emphasis.itemStyle').getItemStyle(),symbolRotate:a.get('symbolRotate'),symbolOffset:a.get('symbolOffset'),hoverAnimation:a.get('hoverAnimation'),labelModel:a.getModel('label'),hoverLabelModel:a.getModel('emphasis.label'),cursorStyle:a.get('cursor')}}function Au(e,a,m){var d,h=e.getBaseAxis(),g=e.getOtherAxis(h),n=Du(g,m),j=h.dim,c=g.dim,o=a.mapDimension(c),l=a.mapDimension(j),k='x'===c||'radius'===c?1:0,b=f(e.dimensions,function(b){return a.mapDimension(b)}),i=a.getCalculationInfo('stackResultDimension');return (d|=hl(a,b[0]))&&(b[0]=i),(d|=hl(a,b[1]))&&(b[1]=i),{dataDimsForPoint:b,valueStart:n,valueAxisDim:c,baseAxisDim:j,stacked:!!d,valueDim:o,baseDim:l,baseDataOffset:k,stackedOverDimension:a.getCalculationInfo('stackedOverDimension')}}function Du(d,c){var b=0,a=d.scale.getExtent();return 'start'===c?b=a[0]:'end'===c?b=a[1]:a[0]>0?b=a[0]:a[1]<0&&(b=a[1]),b}function Cu(b,g,c,f){var a=NaN;b.stacked&&(a=c.get(c.getCalculationInfo('stackedOverDimension'),f)),isNaN(a)&&(a=b.valueStart);var e=b.baseDataOffset,d=[];return d[e]=c.get(b.baseDim,f),d[1-e]=a,g.dataToPoint(d)}function Lu(c,b){var a=[];return b.diff(c).add(function(d){a.push({cmd:'+',idx:d})}).update(function(e,d){a.push({cmd:'=',idx:d,idx1:e})}).remove(function(d){a.push({cmd:'-',idx:d})}).execute(),a}function ku(a){return isNaN(a[0])||isNaN(a[1])}function Pu(k,c,e,g,h,b,i,j,f,a,d){return 'none'!==a&&a?Nu.apply(this,arguments):Ou.apply(this,arguments)}function Nu(g,i,j,n,o,d,q,r,k,p,m){for(var h=0,b=j,e=0;e<n;e++){var a=i[b];if(b>=o||b<0){break}if(ku(a)){if(m){b+=d;continue}break}if(b===j){g[d>0?'moveTo':'lineTo'](a[0],a[1])}else {if(k>0){var f=i[h],c='y'===p?1:0,l=(a[c]-f[c])*k;fQ(a$,f),a$[c]=f[c]+l,fQ(a0,a),a0[c]=a[c]-l,g.bezierCurveTo(a$[0],a$[1],a0[0],a0[1],a[0],a[1])}else {g.lineTo(a[0],a[1])}}h=b,b+=d}return e}function Ou(l,d,q,u,v,e,r,s,k,m,j){for(var p=0,c=q,i=0;i<u;i++){var a=d[c];if(c>=v||c<0){break}if(ku(a)){if(j){c+=e;continue}break}if(c===q){l[e>0?'moveTo':'lineTo'](a[0],a[1]),fQ(a$,a)}else {if(k>0){var g=c+e,b=d[g];if(j){for(;b&&ku(d[g]);){b=d[g+=e]}}var t=0.5,o=d[p];if(!(b=d[g])||ku(b)){fQ(a0,a)}else {ku(b)&&!j&&(b=a),U(hV,b,o);var n,f;if('x'===m||'y'===m){var h='x'===m?0:1;n=Math.abs(a[h]-o[h]),f=Math.abs(a[h]-b[h])}else {n=cI(a,o),f=cI(a,b)}mC(a0,a,hV,-k*(1-(t=f/(f+n))))}lK(a$,a$,s),l3(a$,a$,r),lK(a0,a0,s),l3(a0,a0,r),l.bezierCurveTo(a$[0],a$[1],a0[0],a0[1],a[0],a[1]),mC(a$,a,hV,k*t)}else {l.lineTo(a[0],a[1])}}p=c,c+=e}return i}function Eu(f,d){var b=[1/0,1/0],c=[-1/0,-1/0];if(d){for(var e=0;e<f.length;e++){var a=f[e];a[0]<b[0]&&(b[0]=a[0]),a[1]<b[1]&&(b[1]=a[1]),a[0]>c[0]&&(c[0]=a[0]),a[1]>c[1]&&(c[1]=a[1])}}return {min:d?b:c,max:d?c:b}}function Ru(b,c){if(b.length===c.length){for(var a=0;a<b.length;a++){var d=b[a],e=c[a];if(d[0]!==e[0]||d[1]!==e[1]){return}}return !0}}function zu(a){return 'number'==typeof a?a:a?0.5:0}function Bu(b){var a=b.getGlobalExtent();if(b.onBand){var c=b.getBandWidth()/2-1,d=a[1]>a[0]?1:-1;a[0]+=d*c,a[1]-=d*c}return a}function Vu(f,b,c){if(!c.valueDim){return []}for(var d=[],a=0,e=b.count();a<e;a++){d.push(Cu(c,f,b,a))}return d}function Gu(j,m,n,i){var f=Bu(j.getAxis('x')),c=Bu(j.getAxis('y')),k=j.getBaseAxis().isHorizontal(),g=Math.min(f[0],f[1]),e=Math.min(c[0],c[1]),b=Math.max(f[0],f[1])-g,a=Math.max(c[0],c[1])-e;if(n){g-=0.5,b+=0.5,e-=0.5,a+=0.5}else {var l=i.get('lineStyle.width')||2,d=i.get('clipOverflow')?l/2:Math.max(b,a);k?(e-=d,a+=2*d):(g-=d,b+=2*d)}var h=new aA({shape:{x:g,y:e,width:b,height:a}});return m&&(h.shape[k?'width':'height']=0,So(h,{shape:{width:b,height:a}},i)),h}function Fu(d,g,h,i){var f=d.getAngleAxis(),a=d.getRadiusAxis().getExtent().slice();a[0]>a[1]&&a.reverse();var b=f.getExtent(),c=Math.PI/180;h&&(a[0]-=0.5,a[1]+=0.5);var e=new bI({shape:{cx:zo(d.cx,1),cy:zo(d.cy,1),r0:zo(a[0],1),r:zo(a[1],1),startAngle:-b[0]*c,endAngle:-b[1]*c,clockwise:f.inverse}});return g&&(e.shape.endAngle=-b[0]*c,So(e,{shape:{endAngle:-b[1]*c}},i)),e}function Wu(a,b,c,d){return 'polar'===a.type?Fu(a,b,c,d):Gu(a,b,c,d)}function Hu(f,j,l){for(var i=j.getBaseAxis(),a='x'===i.dim||'radius'===i.dim?0:1,c=[],d=0;d<f.length-1;d++){var g=f[d+1],e=f[d];c.push(e);var b=[];switch(l){case 'end':b[a]=g[a],b[1-a]=e[1-a],c.push(b);break;case 'middle':var k=(e[a]+g[a])/2,h=[];b[a]=h[a]=k,b[1-a]=e[1-a],h[1-a]=g[1-a],c.push(b),c.push(h);break;default:b[a]=e[a],b[1-a]=g[1-a],c.push(b);}}return f[d]&&c.push(f[d]),c}function Zu(i,m){var c=i.getVisual('visualMeta');if(c&&c.length&&i.count()&&'cartesian2d'===m.type){for(var e,h,g=c.length-1;g>=0;g--){var r=c[g].dimension,s=i.dimensions[r],n=i.getDimensionInfo(s);if('x'===(e=n&&n.coordDim)||'y'===e){h=c[g];break}}if(h){var p=m.getAxis(e),a=f(h.stops,function(a){return {coord:p.toGlobalCoord(p.dataToCoord(a.value)),color:a.color}}),b=a.length,k=h.outerColors.slice();b&&a[0].coord>a[b-1].coord&&(a.reverse(),k.reverse());var j=a[0].coord-10,o=a[b-1].coord+10,q=o-j;if(q<0.001){return 'transparent'}d(a,function(a){a.offset=(a.coord-j)/q}),a.push({offset:b?a[b-1].offset:0.5,color:k[1]||'transparent'}),a.unshift({offset:b?a[0].offset:0.5,color:k[0]||'transparent'});var l=new cH(0,0,0,0,a,!0);return l[e]=j,l[e+'2']=o,l}}}function Uu(i,b,g){var c=i.get('showAllSymbol'),e='auto'===c;if(!c||e){var a=g.getAxesByScale('ordinal')[0];if(a&&(!e||!Xu(a,b))){var h=b.mapDimension(a.dim),f={};return d(a.getViewLabels(),function(a){f[a.tickValue]=1}),function(a){return !f.hasOwnProperty(b.get(h,a))}}}}function Xu(c,d){var e=c.getExtent(),a=Math.abs(e[1]-e[0])/c.scale.count();isNaN(a)&&(a=0);for(var f=d.count(),g=Math.max(1,Math.round(f/5)),b=0;b<f;b+=g){if(1.5*mu.getSymbolSize(d,b)[c.isHorizontal()?1:0]>a){return !1}}return !0}function ju(a){return this._axes[a]}function Yu(a){fS.call(this,a)}function qu(b,a){return a.type||(a.data?'category':'value')}function Ku(b,a,c){return b.getCoordSysModel()===a}function $u(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this.model=a}function Ju(j,h,e,f){function o(a){return a.dim+'_'+a.index}e.getAxesOnZeroOf=function(){return b?[b]:[]};var b,a=j[h],g=e.model,i=g.get('axisLine.onZero'),d=g.get('axisLine.onZeroAxisIndex');if(i){if(null!=d){Qu(a[d])&&(b=a[d])}else {for(var c in a){if(a.hasOwnProperty(c)&&Qu(a[c])&&!f[o(a[c])]){b=a[c];break}}}b&&(f[o(b)]=!0)}}function Qu(a){return a&&'category'!==a.type&&'time'!==a.type&&Gl(a)}function th(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord='x'===a.dim?function(c){return c+b}:function(c){return d-c+b},a.toLocalCoord='x'===a.dim?function(c){return c-b}:function(c){return d-c+b}}function eh(a,b){return f(p$,function(c){return a.getReferringComponents(c)[0]})}function ih(a){return 'cartesian2d'===a.get('coordinateSystem')}function nh(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};return b[a.mainType+'Index']=a.componentIndex,b}function oh(i,e,h,f){var d,b,a=Ho(h-i.rotation),g=f[0]>f[1],c='start'===e&&!g||'start'!==e&&g;return Zo(a-bX/2)?(b=c?'bottom':'top',d='center'):Zo(a-1.5*bX)?(b=c?'top':'bottom',d='center'):(b='middle',d=a<1.5*bX&&a>bX/2?c?'left':'right':c?'right':'left'),{rotation:a,textAlign:d,textVerticalAlign:b}}function ah(a){var b=a.get('tooltip');return a.get('silent')||!(a.get('triggerEvent')||b&&b.show)}function rh(j,a,b){var g=j.get('axisLabel.showMinLabel'),h=j.get('axisLabel.showMaxLabel');a=a||[],b=b||[];var c=a[0],i=a[1],d=a[a.length-1],f=a[a.length-2],k=b[0],m=b[1],e=b[b.length-1],l=b[b.length-2];!1===g?(sh(c),sh(k)):lh(c,i)&&(g?(sh(i),sh(m)):(sh(c),sh(k))),!1===h?(sh(d),sh(e)):lh(f,d)&&(h?(sh(f),sh(l)):(sh(d),sh(e)))}function sh(a){a&&(a.ignore=!0)}function lh(b,c,f){var d=b&&b.getBoundingRect().clone(),e=c&&c.getBoundingRect().clone();if(d&&e){var a=vt([]);return wt(a,a,-b.rotation),d.applyTransform(xt([],a,b.getLocalTransform())),e.applyTransform(xt([],a,c.getLocalTransform())),d.intersect(e)}}function uh(a){return 'middle'===a||'center'===a}function hh(l,c,n){var i=c.axis;if(c.get('axisTick.show')&&!i.scale.isBlank()){for(var j=c.getModel('axisTick'),m=j.getModel('lineStyle'),o=j.get('length'),f=i.getTicksCoords(),b=[],a=[],e=l._transform,g=[],d=0;d<f.length;d++){var k=f[d].coord;b[0]=k,b[1]=0,a[0]=k,a[1]=n.tickDirection*o,e&&(Q(b,b,e),Q(a,a,e));var h=new aU(Xn({anid:'tick_'+f[d].tickValue,shape:{x1:b[0],y1:b[1],x2:a[0],y2:a[1]},style:r(m.getLineStyle(),{stroke:c.get('axisLine.lineStyle.color')}),z2:2,silent:!0}));l.group.add(h),g.push(h)}return g}}function ch(i,a,b){var c=a.axis;if(T(b.axisLabelShow,a.get('axisLabel.show'))&&!c.scale.isBlank()){var e=a.getModel('axisLabel'),j=e.get('margin'),m=c.getViewLabels(),n=(T(b.labelRotate,e.get('rotate'))||0)*bX/180,g=jq(b.rotation,n,b.labelDirection),f=a.getCategories(!0),h=[],k=ah(a),l=a.get('triggerEvent');return d(m,function(o,s){var m=o.tickValue,r=o.formattedLabel,q=o.rawLabel,n=e;f&&f[m]&&f[m].textStyle&&(n=new Lo(f[m].textStyle,e,a.ecModel));var p=n.getTextColor()||a.get('axisLine.lineStyle.color'),t=[c.dataToCoord(m),b.labelOffset+b.labelDirection*j],d=new ak({anid:'label_'+m,position:t,rotation:g.rotation,silent:k,z2:10});fo(d.style,n,{text:r,textAlign:n.getShallow('align',!0)||g.textAlign,textVerticalAlign:n.getShallow('verticalAlign',!0)||n.getShallow('baseline',!0)||g.textVerticalAlign,textFill:'function'==typeof p?p('category'===c.type?q:'value'===c.type?m+'':m,s):p}),l&&(d.eventData=nh(a),d.eventData.targetType='axisLabel',d.eventData.value=q),i._dumbGroup.add(d),d.updateTransform(),h.push(d),i.group.add(d),d.decomposeTransform()}),h}}function dh(b,c){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return fh(a,b,c),a.seriesInvolved&&gh(a,b),a}function fh(a,b,g){var e=b.getComponent('tooltip'),c=b.getComponent('axisPointer'),d=c.get('link',!0)||[],f=[];cV(g.getCoordinateSystems(),function(h){function s(p,k,j){var e=j.model.getModel('axisPointer',c),r=e.get('show');if(r&&('auto'!==r||p||wh(e))){null==k&&(k=e.get('triggerTooltip'));var s=(e=p?ph(j,i,c,b,p,k):e).get('snap'),l=bh(j.model),t=k||s||'category'===j.type,o=a.axesInfo[l]={key:l,axis:j,coordSys:h,axisPointerModel:e,triggerTooltip:k,involveSeries:t,snap:s,useHandle:wh(e),seriesModels:[]};n[l]=o,a.seriesInvolved|=t;var m=mh(d,j);if(null!=m){var q=f[m]||(f[m]={axesInfo:{}});q.axesInfo[l]=o,q.mapper=d[m].mapper,o.linkGroup=q}}}if(h.axisPointerEnabled){var m=bh(h.model),n=a.coordSysAxesInfo[m]={};a.coordSysMap[m]=h;var i=h.model.getModel('tooltip',e);if(cV(h.getAxes(),gD(s,!1,null)),h.getTooltipAxes&&e&&i.get('show')){var k='axis'===i.get('trigger'),j='cross'===i.get('axisPointer.type'),l=h.getTooltipAxes(i.get('axisPointer.axis'));(k||j)&&cV(l.baseAxes,gD(s,!j||'cross',k)),j&&cV(l.otherAxes,gD(s,'cross',!1))}}})}function ph(g,j,k,l,h,f){var c=j.getModel('axisPointer'),a={};cV(['type','snap','lineStyle','shadowStyle','label','animation','animationDurationUpdate','animationEasingUpdate','z'],function(b){a[b]=i(c.get(b))}),a.snap='category'!==g.type&&!!f,'cross'===c.get('type')&&(a.type='line');var b=a.label||(a.label={});if(null==b.show&&(b.show=!1),'cross'===h){var d=c.get('label.show');if(b.show=null==d||d,!f){var e=a.lineStyle=c.get('crossStyle');e&&r(b,e.textStyle)}}return g.model.getModel('axisPointer',new Lo(a,k,l))}function gh(b,a){a.eachSeries(function(c){var d=c.coordinateSystem,e=c.get('tooltip.trigger',!0),f=c.get('tooltip.show',!0);d&&'none'!==e&&!1!==e&&'item'!==e&&!1!==f&&!1!==c.get('axisPointer.show',!0)&&cV(b.coordSysAxesInfo[bh(d.model)],function(e){var f=e.axis;d.getAxis(f.dim)===f&&(e.seriesModels.push(c),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=c.getData().count())})},this)}function mh(f,e){for(var c=e.model,d=e.dim,a=0;a<f.length;a++){var b=f[a]||{};if(vh(b[d+'AxisId'],c.id)||vh(b[d+'AxisIndex'],c.componentIndex)||vh(b[d+'AxisName'],c.name)){return a}}}function vh(a,b){return 'all'===a||y(a)&&l(a,b)>=0||a===b}function yh(i){var c=xh(i);if(c){var d=c.axisPointerModel,f=c.axis.scale,e=d.option,h=d.get('status'),a=d.get('value');null!=a&&(a=f.parse(a));var g=wh(d);null==h&&(e.status=g?'show':'hide');var b=f.getExtent().slice();b[0]>b[1]&&b.reverse(),(null==a||a>b[1])&&(a=b[1]),a<b[0]&&(a=b[0]),e.value=a,g&&(e.status=c.axis.scale.isBlank()?'hide':'show')}}function xh(b){var a=(b.ecModel.getComponent('axisPointer')||{}).coordSysAxesInfo;return a&&a.axesInfo[bh(b)]}function _h(b){var a=xh(b);return a&&a.axisPointerModel}function wh(a){return !!a.get('handle.show')}function bh(a){return a.type+'||'+a.id}function Sh(a,b,g,c,h,f){var d=aR.getAxisPointerClass(a.axisPointerClass);if(d){var e=_h(b);e?(a._axisPointer||(a._axisPointer=new d())).render(b,e,c,f):Mh(a,c)}}function Mh(b,c,d){var a=b._axisPointer;a&&a.dispose(c,d),b._axisPointer=null}function Ih(r,f,j){j=j||{};var q=r.coordinateSystem,l=f.axis,a={},g=l.getAxesOnZeroOf()[0],m=l.position,k=g?'onZero':m,i=l.dim,d=q.getRect(),c=[d.x,d.x+d.width,d.y,d.y+d.height],e={left:0,right:1,top:0,bottom:1,onZero:2},h=f.get('offset')||0,b='x'===i?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(g){var o=g.toGlobalCoord(g.dataToCoord(0));b[e.onZero]=Math.max(Math.min(o,b[1]),b[0])}a.position=['y'===i?b[e[k]]:c[0],'x'===i?b[e[k]]:c[3]],a.rotation=Math.PI/2*('x'===i?0:1);var p={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=p[m],a.labelOffset=g?b[e[m]]-b[e.onZero]:0,f.get('axisTick.inside')&&(a.tickDirection=-a.tickDirection),T(j.labelInside,f.get('axisLabel.inside'))&&(a.labelDirection=-a.labelDirection);var n=f.get('axisLabel.rotate');return a.labelRotate='top'===k?-n:n,a.z2=1,a}function Th(e,b,c,f,d,a,g){co(e,b,c.getModel('label'),c.getModel('emphasis.label'),{labelFetcher:d,labelDataIndex:a,defaultText:gu(d.getData(),a),isRectText:!0,autoColor:f}),Ah(e),Ah(b)}function Ah(a,b){'outside'===a.textPosition&&(a.textPosition=b)}function Dh(c,b,a){a.style.text=null,bo(a,{shape:{width:0}},b,c,function(){a.parent&&a.parent.remove(a)})}function Ch(c,b,a){a.style.text=null,bo(a,{shape:{r:a.shape.r0}},b,c,function(){a.parent&&a.parent.remove(a)})}function Lh(a,f,c,b,i,k,n,h){var j=f.getItemVisual(c,'color'),l=f.getItemVisual(c,'opacity'),d=b.getModel('itemStyle'),e=b.getModel('emphasis.itemStyle').getBarItemStyle();h||a.setShape('r',d.get('barBorderRadius')||0),a.useStyle(r({fill:j,opacity:l},d.getBarItemStyle()));var g=b.getShallow('cursor');g&&a.attr('cursor',g);var m=n?i.height>0?'bottom':'top':i.width>0?'left':'right';h||Th(a.style,e,b,j,k,c,m),uo(a,e)}function kh(c,a){var b=c.get(nM)||0;return Math.min(b,Math.abs(a.width),Math.abs(a.height))}function Ph(e,f,g){var a=e.getData(),c=[],b=a.getLayout('valueAxisHorizontal')?1:0;c[1-b]=a.getLayout('valueAxisStart');var d=new n6({shape:{points:a.getLayout('largePoints')},incremental:!!g,__startPoint:c,__valueIdx:b});f.add(d),Nh(d,e,a)}function Nh(a,c,b){var d=b.getVisual('borderColor')||b.getVisual('color'),e=c.getModel('itemStyle').getItemStyle(['color','borderColor']);a.useStyle(e),a.style.fill=null,a.style.stroke=d,a.style.lineWidth=b.getLayout('barWidth')}function Oh(h,b,d,e){var a=b.getData(),c=this.dataIndex,f=a.getName(c),g=b.get('selectedOffset');e.dispatchAction({type:'pieToggleSelect',from:h,name:f,seriesId:b.id}),a.each(function(c){Eh(a.getItemGraphicEl(c),a.getItemLayout(c),b.isSelected(a.getName(c)),g,d)})}function Eh(d,b,f,g,h){var a=(b.startAngle+b.endAngle)/2,i=Math.cos(a),j=Math.sin(a),c=f?g:0,e=[i*c,j*c];h?d.animate().when(200,{position:e}).start('bounceOut'):d.attr('position',e)}function Rh(e,c){function i(){a.ignore=a.hoverIgnore,b.ignore=b.hoverIgnore}function n(){a.ignore=a.normalIgnore,b.ignore=b.normalIgnore}t.call(this);var d=new bI({z2:2}),a=new a4(),b=new ak();this.add(d),this.add(a),this.add(b),this.updateData(e,c,!0),this.on('emphasis',i).on('normal',n).on('mouseover',i).on('mouseout',n)}function zh(a,g,e,i,j,n,k){function s(c,d){for(var b=c;b>=0&&(a[b].y-=d,!(b>0&&a[b].y>a[b-1].y+a[b-1].height));b--){}}function l(c,h,q,t,m,r){for(var f=h?Number.MAX_VALUE:0,b=0,s=c.length;b<s;b++){if('center'!==c[b].position){var o=Math.abs(c[b].y-t),l=c[b].len,p=c[b].len2,d=o<m+l?Math.sqrt((m+l+p)*(m+l+p)-o*o):Math.abs(c[b].x-q);h&&d>=f&&(d=f-10),!h&&d<=f&&(d=f+10),c[b].x=q+d*r,f=d}}}a.sort(function(c,b){return c.y-b.y});for(var m,d=0,c=a.length,f=[],h=[],b=0;b<c;b++){(m=a[b].y-d)<0&&function(f,c,d,h){for(var b=f;b<c;b++){if(a[b].y+=d,b>f&&b+1<c&&a[b+1].y>a[b].y+a[b].height){return void s(b,d/2)}}s(c-1,d/2)}(b,c,-m),d=a[b].y+a[b].height}k-d<0&&s(c-1,d-k);for(b=0;b<c;b++){a[b].y>=e?h.push(a[b]):f.push(a[b])}l(f,!1,g,e,i,j),l(h,!0,g,e,i,j)}function Bh(b,d,f,g,h,e){for(var i=[],j=[],a=0;a<b.length;a++){b[a].x<d?i.push(b[a]):j.push(b[a])}zh(j,d,f,g,1,h,e),zh(i,d,f,g,-1,h,e);for(a=0;a<b.length;a++){var c=b[a].linePoints;if(c){var k=c[1][0]-c[2][0];b[a].x<d?c[2][0]=b[a].x+3:c[2][0]=b[a].x-3,c[1][1]=c[2][1]=b[a].y,c[1][0]=c[2][0]+k}}}function Vh(){this.group=new t()}function Gh(c,a,b){aF.call(this,c,a,b),this.type='value',this.angle=0,this.name='',this.model}function Fh(a,c,b){this._model=a,this.dimensions=[],this._indicatorAxes=f(a.getIndicatorModels(),function(e,g){var f='indicator_'+g,d=new Gh(f,new bC());return d.name=e.get('name'),d.model=e,e.axis=d,this.dimensions.push(f),d},this),this.resize(a,b),this.cx,this.cy,this.r,this.r0,this.startAngle}function Wh(b,a){return r({show:a},b)}function Hh(a){return y(a)||(a=[+a,+a]),a}function Zh(){bF.call(this)}function Uh(a){this.name=a,this.zoomLimit,bF.call(this),this._roamTransformable=new Zh(),this._rawTransformable=new Zh(),this._center,this._zoom}function Xh(e,f,c,d){var b=c.seriesModel,a=b?b.coordinateSystem:null;return a===this?a[e](d):null}function jh(d){for(var a,b=0;b<d.length;b++){var c=d[b].getBoundingRect();(a=a||c.clone()).union(c)}return a}function Yh(j,a){var c,b,h=j.svgXML;try{k(null!=(b=(c=h&&ns(h,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root))}catch(tN){throw new Error('Invalid svg format\n'+tN.message)}var d=c.width,e=c.height,i=c.viewBoxRect;if(a||(a=null==d||null==e?b.getBoundingRect():new ue(0,0,0,0),null!=d&&(a.width=d),null!=e&&(a.height=e)),i){var g=is(i,a.width,a.height),f=b;(b=new t()).add(f),f.scale=g.scale,f.position=g.position}return b.setClipPath(new aA({shape:a.plain()})),{root:b,boundingRect:a}}function qh(a){return function(b,e){var c=[];return d(Kh(b),function(f){var d=m8[f.type][a];d&&c.push(d(b,f,e))}),c}}function Kh(a){return fT.retrieveMap(a)||[]}function $h(e,b,d,c){Uh.call(this,e),this.map=b;var a=f6.load(b,d);this._nameCoordMap=a.nameCoordMap,this._regionsMap=a.nameCoordMap,this._invertLongitute=null==c||c,this.regions=a.regions,this._rect=a.boundingRect}function Jh(f,g,b,e){var c=b.geoModel,a=b.seriesModel,d=c?c.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents('geo')[0]||{}).coordinateSystem:null;return d===this?d[f](e):null}function Qh(e,m){var i=e.get('boundingCoords');if(null!=i){var d=i[0],g=i[1];isNaN(d[0])||isNaN(d[1])||isNaN(g[0])||isNaN(g[1])||this.setBoundingRect(d[0],d[1],g[0]-d[0],g[1]-d[1])}var k,n=this.getBoundingRect(),c=e.get('layoutCenter'),b=e.get('layoutSize'),j=m.getWidth(),h=m.getHeight(),f=n.width/n.height*this.aspectScale,l=!1;c&&b&&(c=[Ro(c[0],j),Ro(c[1],h)],b=Ro(b,Math.min(j,h)),isNaN(c[0])||isNaN(c[1])||isNaN(b)||(l=!0));if(l){var a={};f>1?(a.width=b,a.height=b/f):(a.height=b,a.width=b*f),a.y=c[1]-a.height/2,a.x=c[0]-a.width/2}else {(k=e.getBoxLayoutParams()).aspect=f,a=la(k,{width:j,height:h})}this.setViewRect(a.x,a.y,a.width,a.height),this.setCenter(e.get('center')),this.setZoom(e.get('zoom'))}function tc(b,a){d(a.get('geoCoord'),function(c,d){b.addGeoCoord(d,c)})}function ec(c,a,b){oc(c)[a]=b}function ic(d,a,c){var b=oc(d);b[a]===c&&(b[a]=null)}function nc(b,a){return !!oc(b)[a]}function oc(a){return a[lB]||(a[lB]={})}function ac(a){this.pointerChecker,this._zr=a,this._opt={};var b=m,e=b(rc,this),f=b(sc,this),c=b(lc,this),g=b(uc,this),d=b(hc,this);aG.call(this),this.setPointerChecker=function(b){this.pointerChecker=b},this.enable=function(b,h){this.disable(),this._opt=r(i(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==b&&(b=!0),!0!==b&&'move'!==b&&'pan'!==b||(a.on('mousedown',e),a.on('mousemove',f),a.on('mouseup',c)),!0!==b&&'scale'!==b&&'zoom'!==b||(a.on('mousewheel',g),a.on('pinch',d))},this.disable=function(){a.off('mousedown',e),a.off('mousemove',f),a.off('mouseup',c),a.off('mousewheel',g),a.off('pinch',d)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function rc(a){if(!(ct(a)||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function sc(a){if(!ct(a)&&fc('moveOnMouseMove',a,this._opt)&&this._dragging&&'pinch'!==a.gestureEvent&&!nc(this._zr,'globalPan')){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b,this._y=c,this._opt.preventDefaultMouseMove&&bL(a.event),dc(this,'pan','moveOnMouseMove',a,{dx:f,dy:g,oldX:d,oldY:e,newX:b,newY:c})}}function lc(a){ct(a)||(this._dragging=!1)}function uc(a){var d=fc('zoomOnMouseWheel',a,this._opt),e=fc('moveOnMouseWheel',a,this._opt),b=a.wheelDelta,g=Math.abs(b),c=a.offsetX,h=a.offsetY;if(0!==b&&(d||e)){if(d){var i=g>3?1.4:g>1?1.2:1.1;cc(this,'zoom','zoomOnMouseWheel',a,{scale:b>0?i:1/i,originX:c,originY:h})}if(e){var f=Math.abs(b);cc(this,'scrollMove','moveOnMouseWheel',a,{scrollDelta:(b>0?1:-1)*(f>3?0.4:f>1?0.15:0.05),originX:c,originY:h})}}}function hc(a){nc(this._zr,'globalPan')||cc(this,'zoom',null,a,{scale:a.pinchScale>1?1.1:1/1.1,originX:a.pinchX,originY:a.pinchY})}function cc(c,d,e,a,b){c.pointerChecker&&c.pointerChecker(a,b.originX,b.originY)&&(bL(a.event),dc(c,d,e,a,b))}function dc(e,b,c,d,a){a.isAvailableBehavior=m(fc,null,c,d),e.trigger(b,a)}function fc(b,c,d){var a=d[b];return !b||a&&(!_(a)||c.event[a+'Key'])}function pc(e,c,d){var a=e.target,b=a.position;b[0]+=c,b[1]+=d,a.dirty()}function gc(a,h,j,k){var f=a.target,e=a.zoomLimit,d=f.position,g=f.scale,b=a.zoom=a.zoom||1;if(b*=h,e){var l=e.min||0,i=e.max||1/0;b=Math.max(Math.min(i,b),l)}var c=b/a.zoom;a.zoom=b,d[0]-=(j-d[0])*(c-1),d[1]-=(k-d[1])*(c-1),g[0]*=c,g[1]*=c,f.dirty()}function mc(e,d,b){var a=d.getComponentByElement(e.topTarget),c=a&&a.coordinateSystem;return a&&a!==b&&!pZ[a.mainType]&&c&&c.model!==b}function vc(c,d){var a=c.getItemStyle(),b=c.get('areaColor');return null!=b&&(a.fill=b),a}function yc(c,a,b,d,e){b.off('click'),b.off('mousedown'),a.get('selectedMode')&&(b.on('mousedown',function(){c._mouseDownFlag=!0}),b.on('click',function(i){if(c._mouseDownFlag){c._mouseDownFlag=!1;for(var g=i.target;!g.__regions;){g=g.parent}if(g){var h={type:('geo'===a.mainType?'geo':'map')+'ToggleSelect',batch:f(g.__regions,function(f){return {name:f.name,from:e.uid}})};h[a.mainType+'Id']=a.id,d.dispatchAction(h),xc(a,b)}}}))}function xc(b,a){a.eachChild(function(c){d(c.__regions,function(d){c.trigger(b.isSelected(d.name)?'emphasis':'normal')})})}function _c(c,b){var a=new t();this.uid=No('ec_map_draw'),this._controller=new ac(c.getZr()),this._controllerHost={target:b?a:null},this.group=a,this._updateGroup=b,this._mouseDownFlag,this._mapName,this._initialized,a.add(this._regionsGroup=new t()),a.add(this._backgroundGroup=new t())}function wc(a,c,g){var h=a.getZoom(),d=a.getCenter(),b=c.zoom,e=a.dataToPoint(d);if(null!=c.dx&&null!=c.dy){e[0]-=c.dx,e[1]-=c.dy;d=a.pointToData(e);a.setCenter(d)}if(null!=b){if(g){var l=g.min||0,k=g.max||1/0;b=Math.max(Math.min(h*b,k),l)/h}a.scale[0]*=b,a.scale[1]*=b;var f=a.position,j=(c.originX-f[0])*(b-1),i=(c.originY-f[1])*(b-1);f[0]-=j,f[1]-=i,a.updateTransform();d=a.pointToData(e);a.setCenter(d),a.setZoom(b*h)}return {center:a.getCenter(),zoom:a.getZoom()}}function bc(b,c){var a={};return d(b,function(d){d.each(d.mapDimension('value'),function(f,g){var e='ec-'+d.getName(g);a[e]=a[e]||[],isNaN(f)||a[e].push(f)})}),b[0].map(b[0].mapDimension('value'),function(l,k){for(var e='ec-'+b[0].getName(k),g=0,h=1/0,f=-1/0,i=a[e].length,d=0;d<i;d++){h=Math.min(h,a[e][d]),f=Math.max(f,a[e][d]),g+=a[e][d]}var j;return j='min'===c?h:'max'===c?f:'average'===c?g/i:g,0===i?NaN:j})}function Sc(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:'data'}),a.datas=a.mainData=null,Cc(b,c,a),dQ(c,function(c){dQ(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,v(Mc,a))})}),b.wrapMethod('cloneShallow',v(Tc,a)),dQ(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,v(Ic,a))}),k(c[b.dataType]===b)}function Mc(d,b){if(Dc(this)){var c=a({},this[dP]);c[this.dataType]=b,Cc(b,c,d)}else {Lc(b,this.dataType,this[e1],d)}return b}function Ic(a,b){return a.struct&&a.struct.update(this),b}function Tc(b,a){return dQ(a[dP],function(c,d){c!==a&&Lc(c.cloneShallow(),d,a,b)}),a}function Ac(b){var a=this[e1];return null==b||null==a?a:a[dP][b]}function Dc(a){return a[e1]===a}function Cc(a,b,c){a[dP]={},dQ(b,function(d,e){Lc(d,e,a,c)})}function Lc(a,c,d,b){d[dP][c]=a,a[e1]=d,a.dataType=c,b.struct&&(a[b.structAttr]=b.struct,b.struct[b.datasAttr[c]]=a),a.getLinkedData=Ac}function kc(a,b,c){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=f(b||[],function(d){return new Lo(d,a,a.ecModel)}),this.leavesModel=new Lo(c||{},a,a.ecModel)}function Pc(b,a){var c=a.children;b.parentNode!==a&&(c.push(b),b.parentNode=a)}function Nc(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var d,a,f=[e];d=f.pop();){if(a=d.children,d.isExpand&&a.length){for(var b=a.length-1;b>=0;b--){var c=a[b];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null},f.push(c)}}}}function Oc(a,d){var c=a.isExpand?a.children:[],f=a.parentNode.children,b=a.hierNode.i?f[a.hierNode.i-1]:null;if(c.length){Vc(a);var e=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;b?(a.hierNode.prelim=b.hierNode.prelim+d(a,b),a.hierNode.modifier=a.hierNode.prelim-e):a.hierNode.prelim=e}else {b&&(a.hierNode.prelim=b.hierNode.prelim+d(a,b))}a.parentNode.hierNode.defaultAncestor=Gc(a,b,a.parentNode.hierNode.defaultAncestor||f[0],d)}function Ec(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function Rc(a){return arguments.length?a:Uc}function zc(b,c){var a={};return b-=Math.PI/2,a.x=c*Math.cos(b),a.y=c*Math.sin(b),a}function Bc(b,a){return la(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function Vc(f){for(var c=f.children,d=c.length,b=0,e=0;--d>=0;){var a=c[d];a.hierNode.prelim+=b,a.hierNode.modifier+=b,e+=a.hierNode.change,b+=a.hierNode.shift+e}}function Gc(e,k,i,m){if(k){for(var c=e,a=e,d=a.parentNode.children[0],b=k,j=c.hierNode.modifier,g=a.hierNode.modifier,l=d.hierNode.modifier,h=b.hierNode.modifier;b=Fc(b),a=Wc(a),b&&a;){c=Fc(c),d=Wc(d),c.hierNode.ancestor=e;var f=b.hierNode.prelim+h-a.hierNode.prelim-g+m(b,a);f>0&&(Zc(Hc(b,e,i),e,f),g+=f,j+=f),h+=b.hierNode.modifier,g+=a.hierNode.modifier,j+=c.hierNode.modifier,l+=d.hierNode.modifier}b&&!Fc(c)&&(c.hierNode.thread=b,c.hierNode.modifier+=h-j),a&&!Wc(d)&&(d.hierNode.thread=a,d.hierNode.modifier+=g-l,i=e)}return i}function Fc(b){var a=b.children;return a.length&&b.isExpand?a[a.length-1]:b.hierNode.thread}function Wc(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function Hc(a,b,c){return a.hierNode.ancestor.parentNode===b.parentNode?a.hierNode.ancestor:c}function Zc(d,a,b){var c=b/(a.hierNode.i-d.hierNode.i);a.hierNode.change-=c,a.hierNode.shift+=b,a.hierNode.modifier+=b,a.hierNode.prelim+=b,d.hierNode.change+=c}function Uc(b,a){return b.parentNode===a.parentNode?1:2}function Xc(c,b){var a=c.getItemLayout(b);return a&&!isNaN(a.x)&&!isNaN(a.y)&&'none'!==c.getItemVisual(b,'symbol')}function jc(c,b,a){return a.itemModel=b,a.itemStyle=b.getModel('itemStyle').getItemStyle(),a.hoverItemStyle=b.getModel('emphasis.itemStyle').getItemStyle(),a.lineStyle=b.getModel('lineStyle').getLineStyle(),a.labelModel=b.getModel('label'),a.hoverLabelModel=b.getModel('emphasis.label'),!1===c.isExpand&&0!==c.children.length?a.symbolInnerColor=a.itemStyle.fill:a.symbolInnerColor='#fff',a}function Yc(g,l,a,t,u,e){var x=!a,b=g.tree.getNodeByDataIndex(l),e=jc(b,b.getModel(),e),o=g.tree.root,s=b.parentNode===o?b:b.parentNode||b,i=g.getItemGraphicEl(s.dataIndex),q=s.getLayout(),m=i?{x:i.position[0],y:i.position[1],rawX:i.__radialOldRawX,rawY:i.__radialOldRawY}:q,d=b.getLayout();x?(a=new mu(g,l,e)).attr('position',[m.x,m.y]):a.updateData(g,l,e),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=d.rawX,a.__radialRawY=d.rawY,t.add(a),g.setItemGraphicEl(l,a),bo(a,{position:[d.x,d.y]},u);var w=a.getSymbolPath();if('radial'===e.layout){var c,n,h=o.children[0],f=h.getLayout(),p=h.children.length;if(d.x===f.x&&!0===b.isExpand){var j={};j.x=(h.children[0].getLayout().x+h.children[p-1].getLayout().x)/2,j.y=(h.children[0].getLayout().y+h.children[p-1].getLayout().y)/2,(c=Math.atan2(j.y-f.y,j.x-f.x))<0&&(c=2*Math.PI+c),(n=j.x<f.x)&&(c-=Math.PI)}else {(c=Math.atan2(d.y-f.y,d.x-f.x))<0&&(c=2*Math.PI+c),0===b.children.length||0!==b.children.length&&!1===b.isExpand?(n=d.x<f.x)&&(c-=Math.PI):(n=d.x>f.x)||(c-=Math.PI)}var v=n?'left':'right';w.setStyle({textPosition:v,textRotation:-c,textOrigin:'center',verticalAlign:'middle'})}if(b.parentNode&&b.parentNode!==o){var k=a.__edge;k||(k=a.__edge=new iw({shape:Kc(e,m,m),style:r({opacity:0,strokeNoScale:!0},e.lineStyle)})),bo(k,{shape:Kc(e,q,d),style:{opacity:1}},u),t.add(k)}}function qc(g,h,d,j,k,e){for(var c,a=g.tree.getNodeByDataIndex(h),i=g.tree.root,e=jc(a,a.getModel(),e),b=a.parentNode===i?a:a.parentNode||a;null==(c=b.getLayout());){b=b.parentNode===i?b:b.parentNode||b}bo(d,{position:[c.x+1,c.y+1]},k,function(){j.remove(d),g.setItemGraphicEl(h,null)}),d.fadeOut(null,{keepLabel:!0});var f=d.__edge;f&&bo(f,{shape:Kc(e,c,c),style:{opacity:0}},k,function(){j.remove(f)})}function Kc(e,g,h){var j,k,i,l,d,c,b,a,f=e.orient;if('radial'===e.layout){d=g.rawX,b=g.rawY,c=h.rawX,a=h.rawY;var m=zc(d,b),n=zc(d,b+(a-b)*e.curvature),p=zc(c,a+(b-a)*e.curvature),o=zc(c,a);return {x1:m.x,y1:m.y,x2:o.x,y2:o.y,cpx1:n.x,cpy1:n.y,cpx2:p.x,cpy2:p.y}}return d=g.x,b=g.y,c=h.x,a=h.y,'LR'!==f&&'RL'!==f||(j=d+(c-d)*e.curvature,k=b,i=c+(d-c)*e.curvature,l=a),'TB'!==f&&'BT'!==f||(j=d,k=b+(a-b)*e.curvature,i=c,l=a+(b-a)*e.curvature),{x1:d,y1:b,x2:c,y2:a,cpx1:j,cpy1:k,cpx2:i,cpy2:l}}function $c(h,f,g){for(var a,e=[h],d=[];a=e.pop();){if(d.push(a),a.isExpand){var b=a.children;if(b.length){for(var c=0;c<b.length;c++){e.push(b[c])}}}}for(;a=d.pop();){f(a,g)}}function Jc(f,e){for(var a,d=[f];a=d.pop();){if(e(a),a.isExpand){var c=a.children;if(c.length){for(var b=c.length-1;b>=0;b--){d.push(c[b])}}}}}function Qc(m,s){var l=Bc(m,s);m.layoutInfo=l;var r=m.get('layout'),i=0,g=0,p=null;'radial'===r?(i=2*Math.PI,g=Math.min(l.height,l.width)/2,p=Rc(function(a,b){return (a.parentNode===b.parentNode?1:2)/a.depth})):(i=l.width,g=l.height,p=Rc());var q=m.getData().tree.root,a=q.children[0];if(a){Nc(q),$c(a,Oc,p),q.hierNode.modifier=-a.hierNode.prelim,Jc(a,Ec);var n=a,c=a,k=a;Jc(a,function(a){var b=a.getLayout().x;b<n.getLayout().x&&(n=a),b>c.getLayout().x&&(c=a),a.depth>k.depth&&(k=a)});var o=n===c?1:p(n,c)/2,h=o-n.getLayout().x,e=0,b=0,d=0,f=0;if('radial'===r){e=i/(c.getLayout().x+o+h),b=g/(k.depth-1||1),Jc(a,function(a){d=(a.getLayout().x+h)*e,f=(a.depth-1)*b;var c=zc(d,f);a.setLayout({x:c.x,y:c.y,rawX:d,rawY:f},!0)})}else {var j=m.getOrient();'RL'===j||'LR'===j?(b=g/(c.getLayout().x+o+h),e=i/(k.depth-1||1),Jc(a,function(a){f=(a.getLayout().x+h)*b,d='LR'===j?(a.depth-1)*e:i-(a.depth-1)*e,a.setLayout({x:d,y:f},!0)})):'TB'!==j&&'BT'!==j||(e=i/(c.getLayout().x+o+h),b=g/(k.depth-1||1),Jc(a,function(a){d=(a.getLayout().x+h)*e,f='TB'===j?(a.depth-1)*b:g-(a.depth-1)*b,a.setLayout({x:d,y:f},!0)}))}}}function td(b,e,f){if(b&&l(e,b.type)>=0){var c=f.getData().tree.root,a=b.targetNode;if('string'==typeof a&&(a=c.getNodeById(a)),a&&c.contains(a)){return {node:a}}var d=b.targetNodeId;if(null!=d&&(a=c.getNodeById(d))){return {node:a}}}}function ed(a){for(var b=[];a;){(a=a.parentNode)&&b.push(a)}return b.reverse()}function id(b,a){return l(ed(b),a)>=0}function nd(a,d){for(var b=[];a;){var c=a.dataIndex;b.push({name:a.name,dataIndex:c,value:d.getRawValue(c)}),a=a.parentNode}return b.reverse(),b}function od(b){var c=0;d(b.children,function(d){od(d);var a=d.value;y(a)&&(a=a[0]),c+=a});var a=b.value;y(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=c),a<0&&(a=0),y(b.value)?b.value[0]=a:b.value=a}function ad(a,e){var b=e.get('color');if(b){var c;return d(a=a||[],function(f){var b=new Lo(f),d=b.get('color');(b.get('itemStyle.color')||d&&'none'!==d)&&(c=!0)}),c||((a[0]||(a[0]={})).color=b.slice()),a}}function rd(a){this.group=new t(),a.add(this.group)}function sd(a,b,d,c,e,g){var f=[[e?a:a-gG,b],[a+d,b],[a+d,b+c],[e?a:a-gG,b+c]];return !g&&f.splice(2,0,[a+d+gG,b+c/2]),!e&&f.push([a,b+c/2]),f}function ld(c,b,a){c.eventData={componentType:'series',componentSubType:'treemap',componentIndex:b.componentIndex,seriesIndex:b.componentIndex,seriesName:b.name,seriesType:'treemap',selfType:'breadcrumb',nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&nd(a,b)}}function ud(){var c,a=[],b={};return {add:function(d,f,g,c,e){return _(c)&&(e=c,c=0),!b[d.id]&&(b[d.id]=1,a.push({el:d,target:f,time:g,delay:c,easing:e}),!0)},done:function(a){return c=a,this},start:function(){for(var g=a.length,e=0,f=a.length;e<f;e++){var d=a[e];d.el.animateTo(d.target,d.time,d.delay,d.easing,function(){--g||(a.length=0,b={},c&&c())})}return this}}}function hd(j,D,z,q,A,F,b,B,E,x){function d(a,c){C?!a.invisible&&F.push(a):(c(),a.__tmWillVisible||(a.invisible=!1))}function f(f,n,o,l,p,a){var g=b.getModel(),d=T(j.getFormattedLabel(b.dataIndex,'normal',null,null,a?'upperLabel':'label'),g.get('name'));if(!a&&c.isLeafRoot){var h=j.get('drillDownIcon',!0);d=h?h+' '+d:d}var e=g.getModel(a?n2:o5),m=g.getModel(a?pQ:pq),k=e.getShallow('show');co(f,n,e,m,{defaultText:k?d:null,autoColor:o,isRectText:!0}),a&&(f.textRect=i(a)),f.truncate=k&&e.get('ellipsis')?{outerWidth:l,outerHeight:p,minChar:2}:null}function p(a,h,e,f){var c=null!=n&&z[a][n],d=A[a];return c?(z[a][n]=null,g(d,c,a)):C||((c=new h({z:cd(e,f)})).__tmDepth=e,c.__tmStorageName=a,m(d,c,a)),D[a][o]=c}function g(e,c,d){(e[o]={}).old='nodeGroup'===d?c.position.slice():a({},c.shape)}function m(h,i,e){var f=h[o]={},d=b.parentNode;if(d&&(!q||'drillDown'===q.direction)){var g=0,c=0,a=A.background[d.getRawIndex()];!q&&a&&a.old&&(g=a.old.width,c=a.old.height),f.old='nodeGroup'===e?[0,c]:{x:g,y:c,width:0,height:0}}f.fadein='nodeGroup'!==e}if(b){var c=b.getLayout();if(c&&c.isInView){var k=c.width,r=c.height,h=c.borderWidth,C=c.invisible,o=b.getRawIndex(),n=B&&B.getRawIndex(),v=b.viewChildren,u=c.upperHeight,s=v&&v.length,t=b.getModel('itemStyle'),l=b.getModel('emphasis.itemStyle'),e=p('nodeGroup',j8);if(e){if(E.add(e),e.attr('position',[c.x||0,c.y||0]),e.__tmNodeWidth=k,e.__tmNodeHeight=r,c.isAboveViewRoot){return e}var y=p('background',l8,x,nL);if(y&&function(g,a,i){a.dataIndex=b.dataIndex,a.seriesIndex=j.seriesIndex,a.setShape({x:0,y:0,width:k,height:r});var c=b.getVisual('borderColor',!0),e=l.get('borderColor');d(a,function(){var m=jP(t);m.fill=c;var d=gO(l);if(d.fill=e,i){var n=k-2*h;f(m,d,c,n,u,{x:h,y:0,width:n,height:u})}else {m.text=d.text=null}a.setStyle(m),uo(a,d)}),g.add(a)}(e,y,s&&c.upperHeight),!s){var w=p('content',l8,x,qA);w&&function(i,a){a.dataIndex=b.dataIndex,a.seriesIndex=j.seriesIndex;var e=Math.max(k-2*h,0),g=Math.max(r-2*h,0);a.culling=!0,a.setShape({x:h,y:h,width:e,height:g});var c=b.getVisual('color',!0);d(a,function(){var d=jP(t);d.fill=c;var h=gO(l);f(d,h,c,e,g),a.setStyle(d),uo(a,h)}),i.add(a)}(e,w)}return e}}}}function cd(c,b){var a=c*tJ+b;return (a-1)/a}function dd(a){var b=a.pieceList;a.hasSpecialVisual=!1,d(b,function(b,c){b.originIndex=c,null!=b.visual&&(a.hasSpecialVisual=!0)})}function fd(d){var c=d.categories,a=d.visual,e=d.categoryMap={};if(d2(c,function(b,a){e[b]=a}),!y(a)){var f=[];w(a)?d2(a,function(c,b){var a=e[b];f[null!=a?a:e9]=c}):f[e9]=a,a=bd(d,f)}for(var b=c.length-1;b>=0;b--){null==a[b]&&(delete e[c[b]],c.pop())}}function pd(c,d){var b=c.visual,a=[];w(b)?d2(b,function(b){a.push(b)}):null!=b&&a.push(b);var e={color:1,symbol:1};d||1!==a.length||e.hasOwnProperty(c.type)||(a[1]=a[0]),bd(c,a)}function gd(a){return {applyVisual:function(b,c,d){b=this.mapValueToVisual(b),d('color',a(c('color'),b))},_doMap:_d([0,1])}}function md(b){var a=this.option.visual;return a[Math.round(Eo(b,[0,1],[0,a.length-1],!0))]||{}}function vd(a){return function(b,d,c){c(a,this.mapValueToVisual(b))}}function yd(a){var b=this.option.visual;return b[this.option.loop&&a!==e9?a%b.length:a]}function xd(){return this.option.visual[0]}function _d(a){return {linear:function(b){return Eo(b,a,this.option.visual,!0)},category:yd,piecewise:function(c,d){var b=wd.call(this,d);return null==b&&(b=Eo(c,a,this.option.visual,!0)),b},fixed:xd}}function wd(d){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual){var a=c[aC.findPieceIndex(d,c)];if(a&&a.visual){return a.visual[this.type]}}}function bd(b,a){return b.visual=a,'color'===b.type&&(b.parsedVisual=f(a,function(c){return zt(c)})),a}function Sd(c,a,b){return c?a<=b:a<b}function Md(a,o,l,m,h,i){var n=a.getModel(),e=a.getLayout();if(e&&!e.invisible&&e.isInView){var g,f=a.getModel(gq),b=Id(f,o,l[a.depth],m),j=f.get('borderColor'),k=f.get('borderColorSaturation');null!=k&&(j=Ad(k,g=Td(b))),a.setVisual('borderColor',j);var c=a.viewChildren;if(c&&c.length){var p=Cd(a,n,e,f,b,c);d(c,function(c,d){(c.depth>=h.length||c===h[c.depth])&&Md(c,kd(n,b,c,d,p,i),l,m,h,i)})}else {g=Td(b),a.setVisual('color',g)}}}function Id(g,b,c,f){var e=a({},b);return d(['color','colorAlpha','colorSaturation'],function(d){var a=g.get(d,!0);null==a&&c&&(a=c[d]),null==a&&(a=b[d]),null==a&&(a=f.get(d)),null!=a&&(e[d]=a)}),e}function Td(b){var a=Dd(b,'color');if(a){var c=Dd(b,'colorAlpha'),d=Dd(b,'colorSaturation');return d&&(a=Zt(a,null,null,d)),c&&(a=Ut(a,c)),a}}function Ad(b,a){return null!=a?Zt(a,null,null,b):null}function Dd(c,b){var a=c[b];if(null!=a&&'none'!==a){return a}}function Cd(m,a,k,l,j,h){if(h&&h.length){var f=Ld(a,'color')||null!=j.color&&'none'!==j.color&&(Ld(a,'colorAlpha')||Ld(a,'colorSaturation'));if(f){var g=a.get('visualMin'),e=a.get('visualMax'),c=k.dataExtent.slice();null!=g&&g<c[0]&&(c[0]=g),null!=e&&e>c[1]&&(c[1]=e);var d=a.get('colorMappingBy'),b={type:f.name,dataExtent:c,visual:f.range};'color'!==b.type||'index'!==d&&'id'!==d?b.mappingMethod='linear':(b.mappingMethod='category',b.loop=!0);var i=new aC(b);return i.__drColorMappingBy=d,i}}}function Ld(c,b){var a=c.get(b);return oP(a)&&a.length?{name:b,range:a}:null}function kd(k,g,c,i,b,j){var e=a({},g);if(b){var d=b.type,f='color'===d&&b.__drColorMappingBy,h='index'===f?i:'id'===f?j.mapIdToIndex(c.getId()):c.getValue(k.get('visualDimension'));e[d]=b.mapValueToVisual(h)}return e}function Pd(c,m,h,v){var g,d;if(!c.isRemoved()){var x=c.getLayout();g=x.width,d=x.height;var n=(e=c.getModel()).get(mD),i=e.get(sI)/2,y=Wd(e),u=Math.max(n,y),l=n-i,t=u-i,e=c.getModel();c.setLayout({borderWidth:n,upperHeight:u,upperLabelHeight:y},!0);var w=(g=dS(g-2*l,0))*(d=dS(d-l-t,0)),f=Nd(c,e,w,m,h,v);if(f.length){var j={x:l,y:t,width:g,height:d},k=f$(g,d),p=1/0,a=[];a.area=0;for(var b=0,o=f.length;b<o;){var s=f[b];a.push(s),a.area+=s.getLayout().area;var r=zd(a,k,m.squareRatio);r<=p?(b++,p=r):(a.area-=a.pop().getLayout().area,Bd(a,k,j,i,!1),k=f$(j.width,j.height),a.length=a.area=0,p=1/0)}if(a.length&&Bd(a,k,j,i,!0),!h){var q=e.get('childrenVisibleMin');null!=q&&w<q&&(h=!0)}for(var b=0,o=f.length;b<o;b++){Pd(f[b],m,h,v+1)}}}}function Nd(b,h,i,f,n,k){var a=b.children||[],c=f.sort;'asc'!==c&&'desc'!==c&&(c=null);var j=null!=f.leafDepth&&f.leafDepth<=k;if(n&&!j){return b.viewChildren=[]}Ed(a=g(a,function(a){return !a.isRemoved()}),c);var d=Rd(h,a,c);if(0===d.sum){return b.viewChildren=[]}if(d.sum=Od(h,i,d.sum,c,a),0===d.sum){return b.viewChildren=[]}for(var e=0,l=a.length;e<l;e++){var m=a[e].getValue()/d.sum*i;a[e].setLayout({area:m})}return j&&(a.length&&b.setLayout({isLeafRoot:!0},!0),a.length=0),b.viewChildren=a,b.setLayout({dataExtent:d.dataExtent},!0),a}function Od(j,i,c,f,d){if(!f){return c}for(var h=j.get('visibleMin'),b=d.length,e=b,a=b-1;a>=0;a--){var g=d['asc'===f?b-a-1:a].getValue();g/c*i<h&&(e=a,c-=g)}return 'asc'===f?d.splice(0,b-e):d.splice(e,b-e),c}function Ed(b,a){return a&&b.sort(function(d,c){var e='asc'===a?d.getValue()-c.getValue():c.getValue()-d.getValue();return 0===e?'asc'===a?d.dataIndex-c.dataIndex:c.dataIndex-d.dataIndex:e}),b}function Rd(h,a,d){for(var e=0,c=0,g=a.length;c<g;c++){e+=a[c].getValue()}var f=h.get('visualDimension');if(a&&a.length){if('value'===f&&d){b=[a[a.length-1].getValue(),a[0].getValue()],'asc'===d&&b.reverse()}else {var b=[1/0,-1/0];h6(a,function(e){var c=e.getValue(f);c<b[0]&&(b[0]=c),c>b[1]&&(b[1]=c)})}}else {b=[NaN,NaN]}return {sum:e,dataExtent:b}}function zd(b,g,i){for(var a,e=0,c=1/0,f=0,j=b.length;f<j;f++){(a=b[f].getLayout().area)&&(a<c&&(c=a),a>e&&(e=a))}var d=b.area*b.area,h=g*g*i;return d?dS(h*e/d,d/(h*c)):1/0}function Bd(k,j,a,i,s){var d=j===a.width?0:1,c=1-d,f=['x','y'],e=['width','height'],l=a[f[d]],b=j?k.area/j:0;(s||b>a[e[c]])&&(b=a[e[c]]);for(var h=0,m=k.length;h<m;h++){var n=k[h],g={},o=b?n.getLayout().area/b:0,r=g[e[c]]=dS(b-2*i,0),p=a[f[d]]+a[e[d]]-l,q=h===m-1||p<o?p:o,t=g[e[d]]=dS(q-2*i,0);g[f[c]]=a[f[c]]+f$(i,r/2),g[f[d]]=l+f$(i,t/2),l+=q,n.setLayout(g,!0)}a[f[c]]+=b,a[e[c]]-=b}function Vd(r,o,q,g,h){var b=(o||{}).node,m=[g,h];if(!b||b===q){return m}for(var e,c=g*h,a=c*r.option.zoomToNodeRatio;e=b.parentNode;){for(var k=0,i=e.children,f=0,p=i.length;f<p;f++){k+=i[f].getValue()}var l=b.getValue();if(0===l){return m}a*=k/l;var j=e.getModel(),d=j.get(mD);(a+=4*d*d+(3*d+Math.max(d,Wd(j)))*Math.pow(a,0.5))>ib&&(a=ib),b=e}a<c&&(a=c);var n=Math.pow(a/c,0.5);return [g*n,h*n]}function Gd(i,d,e){if(d){return {x:d.x,y:d.y}}var g={x:0,y:0};if(!e){return g}var h=e.node,c=h.getLayout();if(!c){return g}for(var a=[c.width/2,c.height/2],b=h;b;){var f=b.getLayout();a[0]+=f.x,a[1]+=f.y,b=b.parentNode}return {x:i.width/2-a[0],y:i.height/2-a[1]}}function Fd(b,a,d,h,e){var c=b.getLayout(),f=d[e],g=f&&f===b;if(!(f&&!g||e===d.length&&b!==h)){b.setLayout({isInView:!0,invisible:!g&&!a.intersect(c),isAboveViewRoot:g},!0);var i=new ue(a.x-c.x,a.y-c.y,a.width,a.height);h6(b.viewChildren||[],function(c){Fd(c,i,d,h,e+1)})}}function Wd(a){return a.get(q$)?a.get(sV):0}function Hd(a){return '_EC_'+a}function Zd(b,a){this.id=null==b?'':b,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==a?-1:a}function Ud(c,b,a){this.node1=c,this.node2=b,this.dataIndex=null==a?-1:a}function Xd(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function jd(a){return '_'+a+'Type'}function Yd(e,b,c){var g=b.getItemVisual(c,'color'),d=b.getItemVisual(c,e),a=b.getItemVisual(c,e+'Size');if(d&&'none'!==d){y(a)||(a=[a,a]);var f=Xl(d,-a[0]/2,-a[1]/2,a[0],a[1],g);return f.name=e,f}}function qd(b){var a=new rO({name:'line'});return Kd(a.shape,b),a}function Kd(a,b){var d=b[0],e=b[1],c=b[2];a.x1=d[0],a.y1=d[1],a.x2=e[0],a.y2=e[1],a.percent=1,c?(a.cpx1=c[0],a.cpy1=c[1]):(a.cpx1=NaN,a.cpy1=NaN)}function $d(c,a,b){t.call(this),this._createLine(c,a,b)}function Jd(a){this._ctor=a||$d,this.group=new t()}function Qd(d,a,b,e){if(of(a.getItemLayout(b))){var c=new d._ctor(a,b,e);a.setItemGraphicEl(b,c),d.group.add(c)}}function tf(d,f,b,g,c,e){var a=f.getItemGraphicEl(g);of(b.getItemLayout(c))?(a?a.updateData(b,c,e):a=new d._ctor(b,c,e),b.setItemGraphicEl(c,a),d.group.add(a)):d.group.remove(a)}function ef(b){var a=b.hostModel;return {lineStyle:a.getModel('lineStyle').getLineStyle(),hoverLineStyle:a.getModel('emphasis.lineStyle').getLineStyle(),labelModel:a.getModel('label'),hoverLabelModel:a.getModel('emphasis.label')}}function nf(a){return isNaN(a[0])||isNaN(a[1])}function of(a){return !nf(a[0])&&!nf(a[1])}function af(j,h,m){for(var a,c=j[0],b=j[1],d=j[2],o=1/0,i=m*m,e=0.1,f=0.1;f<=0.9;f+=0.1){i6[0]=c9(c[0],b[0],d[0],f),i6[1]=c9(c[1],b[1],d[1],f),(g=kj(hA(i6,h)-i))<o&&(o=g,a=f)}for(var k=0;k<32;k++){var l=a+e;hQ[0]=c9(c[0],b[0],d[0],a),hQ[1]=c9(c[1],b[1],d[1],a),i1[0]=c9(c[0],b[0],d[0],l),i1[1]=c9(c[1],b[1],d[1],l);var g=hA(hQ,h)-i;if(kj(g)<0.01){break}var n=hA(i1,h)-i;e/=2,g<0?n>=0?a+=e:a-=e:n>=0?a-=e:a+=e}return a}function rf(a,b){return a.getVisual('opacity')||a.getModel().get(b)}function sf(d,e,c){var b=d.getGraphicEl(),a=rf(d,e);null!=c&&(null==a&&(a=1),a*=c),b.downplay&&b.downplay(),b.traverse(function(b){'group'!==b.type&&b.setStyle('opacity',a)})}function lf(b,c){var d=rf(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(a){'group'!==a.type&&a.setStyle('opacity',d)})}function uf(a){return a instanceof Array||(a=[a,a]),a}function hf(c){var a=c.coordinateSystem;if(!a||'view'===a.type){var b=c.getGraph();b.eachNode(function(b){var a=b.getModel();b.setLayout([+a.get('x'),+a.get('y')])}),cf(b)}}function cf(a){a.eachEdge(function(d){var e=d.getModel().get('lineStyle.curveness')||0,b=F(d.node1.getLayout()),c=F(d.node2.getLayout()),f=[b,c];+e&&f.push([(b[0]+c[0])/2-(b[1]-c[1])*e,(b[1]+c[1])/2-(c[0]-b[0])*e]),d.setLayout(f)})}function df(k){var d=k.coordinateSystem;if(!d||'view'===d.type){var a=d.getBoundingRect(),c=k.getData(),i=c.graph,b=0,f=c.getSum('value'),j=2*Math.PI/(f||c.count()),e=a.width/2+a.x,g=a.height/2+a.y,h=Math.min(a.width,a.height)/2;i.eachNode(function(c){var a=c.getValue('value');b+=j*(f?a:1)/2,c.setLayout([h*Math.cos(b)+e,h*Math.sin(b)+g]),b+=j*(f?a:1)/2}),c.setLayout({cx:e,cy:g}),i.eachEdge(function(b){var f,a=b.getModel().get('lineStyle.curveness')||0,c=F(b.node1.getLayout()),d=F(b.node2.getLayout()),h=(c[0]+d[0])/2,i=(c[1]+d[1])/2;+a&&(f=[e*(a*=3)+h*(1-a),g*a+i*(1-a)]),b.setLayout([c,d,f])})}}function ff(a,e,f){for(var d=f.rect,j=d.width,i=d.height,h=[d.x+j/2,d.y+i/2],k=null==f.gravity?0.1:f.gravity,g=0;g<a.length;g++){var c=a[g];c.p||(c.p=V(j*(Math.random()-0.5)+h[0],i*(Math.random()-0.5)+h[1])),c.pp=F(c.p),c.edges=null}var b=0.6;return {warmUp:function(){b=0.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(s){for(var d=[],n=a.length,c=0;c<e.length;c++){var p=e[c],i=p.n1;U(d,(g=p.n2).p,i.p);var l=X(d)-p.d,m=g.w/(i.w+g.w);isNaN(m)&&(m=0),q(d,d),!i.fixed&&cW(i.p,i.p,d,m*l*b),!g.fixed&&cW(g.p,g.p,d,-(1-m)*l*b)}for(c=0;c<n;c++){(j=a[c]).fixed||(U(d,h,j.p),cW(j.p,j.p,d,k*b))}for(c=0;c<n;c++){for(var i=a[c],o=c+1;o<n;o++){var g=a[o];U(d,g.p,i.p),0===(l=X(d))&&(W(d,Math.random()-0.5,Math.random()-0.5),l=1);var r=(i.rep+g.rep)/l/l;!i.fixed&&cW(i.pp,i.pp,d,r),!g.fixed&&cW(g.pp,g.pp,d,-r)}}for(var t=[],c=0;c<n;c++){var j=a[c];j.fixed||(U(t,j.p,j.pp),cW(j.p,j.p,t,b),G(j.pp,j.p))}b*=0.992,s&&s(a,e,b<0.01)}}}function pf(d,a,c){var b=d.getBoxLayoutParams();return b.aspect=c,la(b,{width:a.getWidth(),height:a.getHeight()})}function gf(c,a){var b=c.get('center'),e=a.getWidth(),f=a.getHeight(),d=Math.min(e,f);return {cx:Ro(b[0],a.getWidth()),cy:Ro(b[1],a.getHeight()),r:Ro(c.get('radius'),d/2)}}function mf(a,b){return b&&('string'==typeof b?a=b.replace('{value}',null!=a?a:''):'function'==typeof b&&(a=b(a))),a}function vf(e,c){function i(){a.ignore=a.hoverIgnore,b.ignore=b.hoverIgnore}function n(){a.ignore=a.normalIgnore,b.ignore=b.normalIgnore}t.call(this);var d=new aY(),a=new a4(),b=new ak();this.add(d),this.add(a),this.add(b),this.updateData(e,c,!0),this.on('emphasis',i).on('normal',n).on('mouseover',i).on('mouseout',n)}function yf(b,a){return la(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function xf(e,a){for(var g=e.mapDimension('value'),b=e.mapArray(g,function(b){return b}),c=[],f='ascending'===a,d=0,h=e.count();d<h;d++){c[d]=d}return 'function'==typeof a?c.sort(a):'none'!==a&&c.sort(function(d,c){return f?b[d]-b[c]:b[c]-b[d]}),c}function _f(a){a.each(function(l){var f,d,g,i,o=a.getItemModel(l),h=o.getModel('label').get('position'),q=o.getModel('labelLine'),p=a.getItemLayout(l),b=p.points,k='inner'===h||'inside'===h||'center'===h;if(k){f='center',i=[[d=(b[0][0]+b[1][0]+b[2][0]+b[3][0])/4,g=(b[0][1]+b[1][1]+b[2][1]+b[3][1])/4],[d,g]]}else {var c,e,j,m=q.get('length');'left'===h?(c=(b[3][0]+b[0][0])/2,e=(b[3][1]+b[0][1])/2,d=(j=c-m)-5,f='right'):(c=(b[1][0]+b[2][0])/2,e=(b[1][1]+b[2][1])/2,d=(j=c+m)+5,f='left');var n=e;i=[[c,e],[j,n]],g=n}p.label={linePoints:i,x:d,y:g,verticalAlign:'middle',textAlign:f,inside:k}})}function wf(a){if(!a.parallel){var b=!1;d(a.series,function(c){c&&'parallel'===c.type&&(b=!0)}),b&&(a.parallel=[{}])}}function bf(a){d(Di(a.parallelAxis),function(b){if(w(b)){var d=b.parallelIndex||0,c=Di(a.parallel)[d];c&&c.parallelAxisDefault&&n(b,c.parallelAxisDefault,!1)}})}function Sf(c,a){var b=c[a]-c[1-a];return {span:Math.abs(b),sign:b>0?-1:b<0?1:a?-1:1}}function Mf(b,a){return Math.min(a[1],Math.max(a[0],b))}function If(a,b,c){this._axesMap=R(),this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,c)}function Tf(b,a){return nj(jB(b,a[0]),a[1])}function Af(c,a){var b=a.layoutLength/(a.axisCount-1);return {position:b*c,axisNameAvailableWidth:b,axisLabelShow:!0}}function Df(c,a){var d,e,j=a.layoutLength,f=a.axisExpandWidth,k=a.axisCount,b=a.axisCollapseWidth,h=a.winInnerIndices,i=b,g=!1;return c<h[0]?(d=c*b,e=b):c<=h[1]?(d=a.axisExpandWindow0Pos+c*f-a.axisExpandWindow[0],i=f,g=!0):(d=j-(k-1-c)*b,e=b),{position:d,axisNameAvailableWidth:i,axisLabelShow:g,nameTruncateMaxWidth:e}}function Cf(a){aG.call(this),this._zr=a,this.group=new t(),this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid='brushController_'+sL++,this._handlers={},bq(q2,function(c,b){this._handlers[b]=m(c,this)},this)}function Lf(a,b){var c=a._zr;a._enableGlobalPan||ec(c,mY,a._uid),bq(a._handlers,function(e,d){c.on(d,e)}),a._brushType=b.brushType,a._brushOption=n(i(mF),b,!0)}function kf(a){var b=a._zr;ic(b,mY,a._uid),bq(a._handlers,function(d,c){b.off(c,d)}),a._brushType=a._brushOption=null}function Pf(c,a){var b=fX[a.brushType].createCover(c,a);return b.__brushOption=a,Ef(b,a),c.group.add(b),b}function Nf(c,a){var b=zf(a);return b.endCreating&&(b.endCreating(c,a),Ef(a,a.__brushOption)),a}function Of(c,a){var b=a.__brushOption;zf(a).updateCoverShape(c,a,b.range,b)}function Ef(c,b){var a=b.z;null==a&&(a=nD),c.traverse(function(d){d.z=a,d.z2=a})}function Rf(b,a){zf(a).updateCommon(b,a),Of(b,a)}function zf(a){return fX[a.__brushOption.brushType]}function Bf(c,e,f){var a=c._panels;if(!a){return !0}var b,d=c._transform;return bq(a,function(a){a.isTargetByCursor(e,f,d)&&(b=a)}),b}function Vf(d,c){var a=d._panels;if(!a){return !0}var b=c.__brushOption.panelId;return null==b||a[b]}function Gf(b){var a=b._covers,c=a.length;return bq(a,function(a){b.group.remove(a)},b),a.length=0,!!c}function Ff(b,a){var c=r1(b._covers,function(e){var c=e.__brushOption,d=i(c.range);return {brushType:c.brushType,panelId:c.panelId,range:d}});b.trigger('brush',c,{isEnd:!!a.isEnd,removeOnClick:!!a.removeOnClick})}function Wf(f){var a=f._track;if(!a.length){return !1}var c=a[a.length-1],d=a[0],e=c[0]-d[0],b=c[1]-d[1];return oQ(e*e+b*b,0.5)>oK}function Hf(b){var a=b.length-1;return a<0&&(a=0),[b[0],b[a]]}function Zf(c,b,d,e){var a=new t();return a.add(new aA({name:'main',style:Yf(d),silent:!0,draggable:!0,cursor:'move',drift:b$(c,b,a,'nswe'),ondragend:b$(Ff,b,{isEnd:!0})})),bq(e,function(f){a.add(new aA({name:f,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:b$(c,b,a,f),ondragend:b$(Ff,b,{isEnd:!0})}))}),a}function Uf(c,b,g,p){var d=p.brushStyle.lineWidth||0,a=dD(d,pJ),j=g[0][0],k=g[1][0],e=j-d/2,f=k-d/2,n=g[0][1],l=g[1][1],h=n-a+d/2,i=l-a+d/2,q=n-j,m=l-k,o=q+d,r=m+d;jf(c,b,'main',j,k,q,m),p.transformable&&(jf(c,b,'w',e,f,a,r),jf(c,b,'e',h,f,a,r),jf(c,b,'n',e,f,o,a),jf(c,b,'s',e,i,o,a),jf(c,b,'nw',e,f,a,a),jf(c,b,'ne',h,f,a,a),jf(c,b,'sw',e,i,a,a),jf(c,b,'se',h,i,a,a))}function Xf(e,b){var c=b.__brushOption,a=c.transformable,d=b.childAt(0);d.useStyle(Yf(c)),d.attr({silent:!a,cursor:a?'move':'default'}),bq(['w','e','n','s','se','sw','ne','nw'],function(c){var d=b.childOfName(c),f=$f(e,c);d&&d.attr({silent:!a,invisible:!a,cursor:a?r$[f]+'-resize':null})})}function jf(h,a,f,b,c,e,g){var d=a.childOfName(f);d&&d.setShape(ip(ep(h,a,[[b,c],[b+e,c+g]])))}function Yf(a){return r({strokeNoScale:!0},a.brushStyle)}function qf(f,b,c,d){var e=[d1(f,c),d1(b,d)],a=[dD(f,c),dD(b,d)];return [[e[0],a[0]],[e[1],a[1]]]}function Kf(a){return Mo(a.group)}function $f(c,a){if(a.length>1){return ('e'===(b=[$f(c,(a=a.split(''))[0]),$f(c,a[1])])[0]||'w'===b[0])&&b.reverse(),b.join('')}var d={left:'w',right:'e',top:'n',bottom:'s'},b=To({w:'left',e:'right',n:'top',s:'bottom'}[a],Kf(c));return d[b]}function Jf(j,f,b,d,h,e,i,k){var c=d.__brushOption,a=j(c.range),g=tp(b,e,i);bq(h.split(''),function(l){var c=rI[l];a[c[0]][c[1]]+=g[c[0]]}),c.range=f(qf(a[0][0],a[1][0],a[0][1],a[1][1])),Rf(b,d),Ff(b,{isEnd:!1})}function Qf(a,b,e,f,g){var d=b.__brushOption.range,c=tp(a,e,f);bq(d,function(d){d[0]+=c[0],d[1]+=c[1]}),Rf(a,b),Ff(a,{isEnd:!1})}function tp(f,d,e){var b=f.group,c=b.transformCoordToLocal(d,e),a=b.transformCoordToLocal(0,0);return [c[0]-a[0],c[1]-a[1]]}function ep(c,d,b){var a=Vf(c,d);return a&&!0!==a?a.clipPath(b,c._transform):i(b)}function ip(a){var b=d1(a[0][0],a[1][0]),c=d1(a[0][1],a[1][1]);return {x:b,y:c,width:dD(a[0][0],a[1][0])-b,height:dD(a[0][1],a[1][1])-c}}function np(a,g,d){if(a._brushType){var h=a._zr,e=a._covers,b=Bf(a,g,d);if(!a._dragging){for(var c=0;c<e.length;c++){var f=e[c].__brushOption;if(b&&(!0===b||f.panelId===b.panelId)&&fX[f.brushType].contain(e[c],d[0],d[1])){return}}}b&&h.setCursorStyle('crosshair')}}function op(b){var a=b.event;a.preventDefault&&a.preventDefault()}function ap(c,a,b){return c.childOfName('main').contain(a,b)}function rp(a,k,j,e){var g,b=a._creatingCover,c=a._creatingPanel,d=a._brushOption;if(a._track.push(j.slice()),Wf(a)||b){if(c&&!b){'single'===d.brushMode&&Gf(a);var f=i(d);f.brushType=sp(f.brushType,c),f.panelId=!0===c?null:c.panelId,b=a._creatingCover=Pf(a,f),a._covers.push(b)}if(b){var h=fX[sp(a._brushType,c)];b.__brushOption.range=h.getCreatingRange(ep(a,b,a._track)),e&&(Nf(a,b),h.updateCommon(a,b)),Of(a,b),g={isEnd:e}}}else {e&&'single'===d.brushMode&&d.removeOnClick&&Bf(a,k,j)&&Gf(a)&&(g={isEnd:e,removeOnClick:!0})}return g}function sp(a,b){return 'auto'===a?b.defaultBrushType:a}function lp(a){if(this._dragging){op(a);var b=rp(this,a,this.group.transformCoordToLocal(a.offsetX,a.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,b&&Ff(this,b)}}function up(a){return {createCover:function(b,c){return Zf(b$(Jf,function(e){var d=[e,[0,100]];return a&&d.reverse(),d},function(d){return d[a]}),b,c,[['w','e'],['n','s']][a])},getCreatingRange:function(c){var b=Hf(c);return [d1(b[0][a],b[1][a]),dD(b[0][a],b[1][a])]},updateCoverShape:function(b,e,h,i){var c,d=Vf(b,e);if(!0!==d&&d.getLinearBrushOtherExtent){c=d.getLinearBrushOtherExtent(a,b._transform)}else {var g=b._zr;c=[0,[g.getWidth(),g.getHeight()][1-a]]}var f=[h,c];a&&f.reverse(),Uf(b,e,f,i)},updateCommon:Xf,contain:ap}}function hp(a){return a=fp(a),function(b,c){return Do(b,a)}}function cp(a,b){return a=fp(a),function(e){var d=null!=b?b:e,f=d?a.width:a.height,c=d?a.x:a.y;return [c,c+(f||0)]}}function dp(a,b,c){return a=fp(a),function(e,d,f){return a.contain(d[0],d[1])&&!mc(e,b,c)}}function fp(a){return ue.create(a)}function pp(c,b,a){return a&&'axisAreaSelect'===a.type&&b.findComponents({mainType:'parallelAxis',query:a})[0]===c}function gp(b){var a=b.axis;return f(b.activeIntervals,function(c){return {brushType:'lineX',panelId:'pl',range:[a.dataToCoord(c[0],!0),a.dataToCoord(c[1],!0)]}})}function mp(b,a){return a.getComponent('parallel',b.get('parallelIndex'))}function vp(c,b){var a=c._model;return a.get('axisExpandable')&&a.get('axisExpandTriggerOn')===b}function yp(c,a){if(!c.encodeDefine){var b=a.ecModel.getComponent('parallel',a.get('parallelIndex'));if(b){var e=c.encodeDefine=R();d(b.dimensions,function(b){var d=xp(b);e.set(b,d)})}}}function xp(a){return +a.replace('dim','')}function _p(c,d,e){var f=c.model,a=c.getRect(),b=new aA({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),g='horizontal'===f.get('layout')?'width':'height';return b.setShape(g,0),So(b,{shape:{width:a.width,height:a.height}},d,e),b}function wp(g,h,c,d){for(var e=[],a=0;a<c.length;a++){var b=c[a],f=g.get(g.mapDimension(b),h);Ip(f,d.getAxis(b).type)||e.push(d.dataToPoint(f,b))}return e}function bp(c,e,b,f,g){var d=wp(c,b,f,g),a=new a4({shape:{points:d},silent:!0,z2:10});return e.add(a),c.setItemGraphicEl(b,a),a}function Sp(b){var a=b.get('smooth',!0);return !0===a&&(a=l2),{lineStyle:b.getModel('lineStyle').getLineStyle(),smooth:null!=a?a:l2}}function Mp(e,a,c,d){var f=d.lineStyle;a.hasItemOption&&(f=a.getItemModel(c).getModel('lineStyle').getLineStyle()),e.useStyle(f);var b=e.style;b.fill=null,b.stroke=a.getItemVisual(c,'color'),b.opacity=a.getItemVisual(c,'opacity'),d.smooth&&(e.shape.smooth=d.smooth)}function Ip(a,b){return 'category'===b?null==a:null==a||isNaN(a)}function Tp(a,b){return a.getVisual('opacity')||a.getModel().get(b)}function Ap(d,e,c){var b=d.getGraphicEl(),a=Tp(d,e);null!=c&&(null==a&&(a=1),a*=c),b.downplay&&b.downplay(),b.traverse(function(b){'group'!==b.type&&b.setStyle('opacity',a)})}function Dp(b,c){var d=Tp(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(a){'group'!==a.type&&a.setStyle('opacity',d)})}function Cp(a,c,d){var b=new aA({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return So(b,{shape:{width:a.width+20,height:a.height+20}},c,d),b}function Lp(){function t(b,f){if(f>=a.length){return b}for(var c=-1,j=b.length,k=a[f++],h={},e={};++c<j;){var i=k(b[c]),g=e[i];g?g.push(b[c]):e[i]=[b[c]]}return d(e,function(a,c){h[c]=t(a,f)}),h}function e(h,f){if(f>=a.length){return h}var c=[],g=b[f++];return d(h,function(b,a){c.push({key:a,values:e(b,f)})}),g?c.sort(function(b,a){return g(b.key,a.key)}):c}var a=[],b=[];return {key:function(b){return a.push(b),this},sortKeys:function(c){return b[a.length-1]=c,this},entries:function(a){return e(t(a,0),0)}}}function kp(b,a){return la(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function Pp(b,d,f,g,e,c,h,a){Op(b,d,f,e,c,a),zp(b,d,c,e,g,h,a),Yp(b,a)}function Np(a){d(a,function(b){var c=Xp(b.outEdges,Up),d=Xp(b.inEdges,Up),e=Math.max(c,d);b.setLayout({value:e},!0)})}function Op(d,m,g,p,q,f){for(var j=[],k=[],e=[],l=[],c=0,a=0;a<m.length;a++){j[a]=1}for(a=0;a<d.length;a++){k[a]=d[a].inEdges.length,0===k[a]&&e.push(d[a])}for(;e.length;){for(var h=0;h<e.length;h++){var b=e[h];'vertical'===f?(b.setLayout({y:c},!0),b.setLayout({dy:g},!0)):(b.setLayout({x:c},!0),b.setLayout({dx:g},!0));for(var i=0;i<b.outEdges.length;i++){var n=b.outEdges[i];j[m.indexOf(n)]=0;var o=n.node2;0==--k[d.indexOf(o)]&&l.push(o)}}++c,e=l,l=[]}for(a=0;a<j.length;a++){}Ep(d,c,f),Rp(d,'vertical'===f?(q-g)/(c-1):(p-g)/(c-1),f)}function Ep(c,a,b){d(c,function(d){d.outEdges.length||('vertical'===b?d.setLayout({y:a-1},!0):d.setLayout({x:a-1},!0))})}function Rp(c,a,b){d(c,function(d){if('vertical'===b){var e=d.getLayout().y*a;d.setLayout({y:e},!0)}else {var f=d.getLayout().x*a;d.setLayout({x:f},!0)}})}function zp(h,i,c,d,e,f,a){var b=Lp().key(Bp(a)).sortKeys(function(g,b){return g-b}).entries(h).map(function(b){return b.values});Vp(h,b,i,c,d,e,a),Gp(b,e,c,d,a);for(var g=1;f>0;f--){Fp(b,g*=0.99,a),Gp(b,e,c,d,a),jp(b,g,a),Gp(b,e,c,d,a)}}function Bp(a){return 'vertical'===a?function(b){return b.getLayout().y}:function(b){return b.getLayout().x}}function Vp(j,c,g,h,i,b,f){var a=[];d(c,function(m){var k=m.length,e=0,l=0;d(m,function(a){e+=a.getLayout().value}),l='vertical'===f?(i-(k-1)*b)/e:(h-(k-1)*b)/e,a.push(l)}),a.sort(function(d,a){return d-a});var e=a[0];d(c,function(a){d(a,function(d,k){var l=d.getLayout().value*e;'vertical'===f?(d.setLayout({x:k},!0),d.setLayout({dx:l},!0)):(d.setLayout({y:k},!0),d.setLayout({dy:l},!0))})}),d(g,function(a){var d=+a.getValue()*e;a.setLayout({dy:d},!0)})}function Gp(f,a,b,c,e){d(f,function(l){var d,i,g,h=0,m=l.length;if('vertical'===e){var k;for(l.sort(function(g,d){return g.getLayout().x-d.getLayout().x}),g=0;g<m;g++){(i=h-(d=l[g]).getLayout().x)>0&&(k=d.getLayout().x+i,d.setLayout({x:k},!0)),h=d.getLayout().x+d.getLayout().dx+a}if((i=h-a-c)>0){for(k=d.getLayout().x-i,d.setLayout({x:k},!0),h=k,g=m-2;g>=0;--g){(i=(d=l[g]).getLayout().x+d.getLayout().dx+a-h)>0&&(k=d.getLayout().x-i,d.setLayout({x:k},!0)),h=d.getLayout().x}}}else {var j;for(l.sort(function(g,d){return g.getLayout().y-d.getLayout().y}),g=0;g<m;g++){(i=h-(d=l[g]).getLayout().y)>0&&(j=d.getLayout().y+i,d.setLayout({y:j},!0)),h=d.getLayout().y+d.getLayout().dy+a}if((i=h-a-b)>0){for(j=d.getLayout().y-i,d.setLayout({y:j},!0),h=j,g=m-2;g>=0;--g){(i=(d=l[g]).getLayout().y+d.getLayout().dy+a-h)>0&&(j=d.getLayout().y-i,d.setLayout({y:j},!0)),h=d.getLayout().y}}}})}function Fp(c,b,a){d(c.slice().reverse(),function(e){d(e,function(d){if(d.outEdges.length){var f=Xp(d.outEdges,Wp,a)/Xp(d.outEdges,Up,a);if('vertical'===a){var h=d.getLayout().x+(f-Zp(d,a))*b;d.setLayout({x:h},!0)}else {var g=d.getLayout().y+(f-Zp(d,a))*b;d.setLayout({y:g},!0)}}})})}function Wp(a,b){return Zp(a.node2,b)*a.getValue()}function Hp(a,b){return Zp(a.node1,b)*a.getValue()}function Zp(a,b){return 'vertical'===b?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function Up(a){return a.getValue()}function Xp(a,e,f){for(var c=0,g=a.length,b=-1;++b<g;){var d=+e.call(a,a[b],f);isNaN(d)||(c+=d)}return c}function jp(c,b,a){d(c,function(e){d(e,function(d){if(d.inEdges.length){var f=Xp(d.inEdges,Hp,a)/Xp(d.inEdges,Up,a);if('vertical'===a){var h=d.getLayout().x+(f-Zp(d,a))*b;d.setLayout({x:h},!0)}else {var g=d.getLayout().y+(f-Zp(d,a))*b;d.setLayout({y:g},!0)}}})})}function Yp(a,b){d(a,function(c){'vertical'===b?(c.outEdges.sort(function(e,d){return e.node2.getLayout().x-d.node2.getLayout().x}),c.inEdges.sort(function(e,d){return e.node1.getLayout().x-d.node1.getLayout().x})):(c.outEdges.sort(function(e,d){return e.node2.getLayout().y-d.node2.getLayout().y}),c.inEdges.sort(function(e,d){return e.node1.getLayout().y-d.node1.getLayout().y}))}),d(a,function(f){var c=0,e=0;d(f.outEdges,function(d){d.setLayout({sy:c},!0),c+=d.getLayout().dy}),d(f.inEdges,function(c){c.setLayout({ty:e},!0),e+=c.getLayout().dy})})}function qp(a,e,f,g,c){var b=a.ends,d=new tE({shape:{points:c?$p(b,g,a):b}});return Kp(a,d,e,f,c),d}function Kp(j,a,b,c,h){var f=b.hostModel;(0,a2[h?'initProps':'updateProps'])(a,{shape:{points:j.ends}},f,c);var e=b.getItemModel(c),i=e.getModel(tA),g=b.getItemVisual(c,'color'),d=i.getItemStyle(['borderColor']);d.stroke=g,d.strokeNoScale=!0,a.useStyle(d),a.z2=100,uo(a,e.getModel(tH).getItemStyle())}function $p(c,a,b){return f(c,function(d){return d=d.slice(),d[a]=b.initBaseline,d})}function Jp(c){var a=[],b=[];return c.eachSeriesByType('boxplot',function(f){var e=f.getBaseAxis(),d=l(b,e);d<0&&(d=b.length,b[d]=e,a[d]={axis:e,seriesModels:[]}),a[d].seriesModels.push(f)}),a}function Qp(c){var f,a,i=c.axis,b=c.seriesModels,d=b.length,m=c.boxWidthList=[],n=c.boxOffsetList=[],h=[];if('category'===i.type){a=i.getBandWidth()}else {var l=0;eq(b,function(a){l=Math.max(l,a.getData().count())}),f=i.getExtent(),Math.abs(f[1]-f[0])}eq(b,function(d){var b=d.get('boxWidth');y(b)||(b=[b,b]),h.push([Ro(b[0],a)||0,Ro(b[1],a)||0])});var g=0.8*a-2,j=g/d*0.3,e=(g-j*(d-1))/d,k=e/2-g/2;eq(b,function(b,a){n.push(k),k+=j+e,m.push(Math.min(Math.max(e,h[a][0]),h[a][1]))})}function tg(j,t,u){function n(e,g,h){var d=f.get(g,h),a=[];a[c]=e,a[i]=d;var b;return isNaN(e)||isNaN(d)?b=[NaN,NaN]:(b=v.dataToPoint(a))[c]+=t,b}function o(e,d,f){var a=d.slice(),b=d.slice();a[c]+=h,b[c]-=h,f?e.push(a,b):e.push(b,a)}function a(e,a){var b=a.slice(),d=a.slice();b[c]-=h,d[c]+=h,e.push(b,d)}var v=j.coordinateSystem,f=j.getData(),h=u/2,c='horizontal'===j.get('layout')?0:1,i=1-c,l=['x','y'],m=f.mapDimension(l[c]),e=f.mapDimension(l[i],!0);if(!(null==m||e.length<5)){for(var b=0;b<f.count();b++){var g=f.get(m,b),p=n(g,e[2],b),q=n(g,e[0],b),s=n(g,e[1],b),r=n(g,e[3],b),k=n(g,e[4],b),d=[];o(d,s,0),o(d,r,1),d.push(q,s,k,r),a(d,q),a(d,k),a(d,p),f.setItemLayout(b,{initBaseline:p[i],ends:d})}}}function eg(b,d,c){var a=b.ends;return new oG({shape:{points:c?ng(a,b):a},z2:100})}function ig(a,b,c,h){var d=b.getItemModel(c),f=d.getModel(lF),e=b.getItemVisual(c,'color'),i=b.getItemVisual(c,'borderColor')||e,g=f.getItemStyle(kw);a.useStyle(g),a.style.strokeNoScale=!0,a.style.fill=e,a.style.stroke=i,a.__simpleBox=h,uo(a,d.getModel(p4).getItemStyle())}function ng(b,a){return f(b,function(c){return c=c.slice(),c[1]=a.initBaseline,c})}function og(d,e,g){var b=d.getData(),f=b.getLayout('largePoints'),a=new kP({shape:{points:f},__sign:1});e.add(a);var c=new kP({shape:{points:f},__sign:-1});e.add(c),ag(1,a,d,b),ag(-1,c,d,b),g&&(a.incremental=!0,c.incremental=!0)}function ag(g,a,e,b){var c=g>0?'P':'N',d=b.getVisual('borderColor'+c)||b.getVisual('color'+c),f=e.getModel(lF).getItemStyle(kw);a.useStyle(f),a.style.fill=null,a.style.stroke=d}function rg(e,b,c,a,d){return c>a?-1:c<a?1:b>0?e.get(d,b-1)<=a?1:-1:1}function sg(b,g){var c,d=b.getBaseAxis(),a='category'===d.type?d.getBandWidth():(c=d.getExtent(),Math.abs(c[1]-c[0])/g.count()),f=Ro(A(b.get('barMaxWidth'),a),a),h=Ro(A(b.get('barMinWidth'),1),a),e=b.get('barWidth');return null!=e?Ro(e,a):Math.max(Math.min(a/2,f),h)}function lg(a){return y(a)||(a=[+a,+a]),a}function ug(b,a){b.eachChild(function(c){c.attr({z:a.z,zlevel:a.zlevel,style:{stroke:'stroke'===a.brushType?a.color:null,fill:'fill'===a.brushType?a.color:null}})})}function hg(d,a){t.call(this);var b=new mu(d,a),c=new t();this.add(b),this.add(c),c.beforeUpdate=function(){this.attr(b.getScale())},this.updateData(d,a)}function cg(b){var a=b.data;a&&a[0]&&a[0][0]&&a[0][0].coord&&(b.data=f(a,function(a){var c={coords:[a[0].coord,a[1].coord]};return a[0].name&&(c.fromName=a[0].name),a[1].name&&(c.toName=a[1].name),o([c,a[0],a[1]])}))}function dg(b,a,c){t.call(this),this.add(this.createLine(b,a,c)),this._updateEffectSymbol(b,a)}function fg(c,a,b){t.call(this),this._createPolyline(c,a,b)}function pg(c,a,b){dg.call(this,c,a,b),this._lastFrame=0,this._lastFramePercent=0}function gg(){this.group=new t()}function mg(a){return a instanceof Array||(a=[a,a]),a}function vg(){var a=c7();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function yg(c,b,g){var e=c[1]-c[0],d=(b=f(b,function(a){return {interval:[(a.interval[0]-c[0])/e,(a.interval[1]-c[0])/e]}})).length,a=0;return function(h){for(e=a;e<d;e++){if((f=b[e].interval)[0]<=h&&h<=f[1]){a=e;break}}if(e===d){for(var e=a-1;e>=0;e--){var f=b[e].interval;if(f[0]<=h&&h<=f[1]){a=e;break}}}return e>=0&&e<d&&g[e]}}function xg(b,a){var c=b[1]-b[0];return a=[(a[0]-b[0])/c,(a[1]-b[0])/c],function(c){return c>=a[0]&&c<=a[1]}}function _g(b){var a=b.dimensions;return 'lng'===a[0]&&'lat'===a[1]}function wg(h,c,a,f){var g=h.getItemLayout(c),e=a.get('symbolRepeat'),j=a.get('symbolClip'),n=a.get('symbolPosition')||'start',l=(a.get('symbolRotate')||0)*Math.PI/180||0,m=a.get('symbolPatternSize')||2,k=a.isAnimationEnabled(),b={dataIndex:c,layout:g,itemModel:a,symbolType:h.getItemVisual(c,'symbol')||'circle',color:h.getItemVisual(c,'color'),symbolClip:j,symbolRepeat:e,symbolRepeatDirection:a.get('symbolRepeatDirection'),symbolPatternSize:m,rotation:l,animationModel:k?a:null,hoverAnimation:k&&a.get('hoverAnimation'),z2:a.getShallow('z',!0)||0};bg(a,e,g,f,b),Mg(h,c,g,e,j,b.boundingLength,b.pxSign,m,f,b),Ig(a,b.symbolScale,l,f,b);var i=b.symbolSize,d=a.get('symbolOffset');return y(d)&&(d=[Ro(d[0],i[0]),Ro(d[1],i[1])]),Tg(a,i,g,e,j,d,n,b.valueLineWidth,b.boundingLength,b.repeatCutLength,f,b),b}function bg(l,j,h,e,i){var a,f=e.valueDim,c=l.get('symbolBoundingData'),b=e.coordSys.getOtherAxis(e.coordSys.getBaseAxis()),g=b.toGlobalCoord(b.dataToCoord(0)),k=1-+(h[f.wh]<=0);if(y(c)){var d=[Sg(b,c[0])-g,Sg(b,c[1])-g];d[1]<d[0]&&d.reverse(),a=d[k]}else {a=null!=c?Sg(b,c)-g:j?e.coordSysExtent[f.index][k]-g:h[f.wh]}i.boundingLength=a,j&&(i.repeatCutLength=h[f.wh]),i.pxSign=a>0?1:a<0?-1:0}function Sg(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function Mg(m,i,j,k,n,h,l,f,d,g){var c=d.valueDim,b=d.categoryDim,e=Math.abs(j[b.wh]),a=m.getItemVisual(i,'symbolSize');y(a)?a=a.slice():(null==a&&(a='100%'),a=[a,a]),a[b.index]=Ro(a[b.index],e),a[c.index]=Ro(a[c.index],k?e:Math.abs(h)),g.symbolSize=a,(g.symbolScale=[a[0]/f,a[1]/f])[c.index]*=(d.isHorizontal?-1:1)*l}function Ig(f,b,c,d,e){var a=f.get(r5)||0;a&&(iO.attr({scale:b.slice(),rotation:c}),iO.updateTransform(),a/=iO.getLineScale(),a*=b[d.valueDim.index]),e.valueLineWidth=a}function Tg(C,v,e,m,D,q,y,B,r,x,p,f){var d=p.categoryDim,c=p.valueDim,w=f.pxSign,l=Math.max(v[c.index]+B,0),z=l;if(m){var A=Math.abs(r),b=T(C.get('symbolMargin'),'15%')+'',j=!1;b.lastIndexOf('!')===b.length-1&&(j=!0,b=b.slice(0,b.length-1)),b=Ro(b,v[c.index]);var n=Math.max(l+2*b,0),k=j?0:2*b,u=Ko(m),g=u?m:Hg((A+k)/n);n=l+2*(b=(A-g*l)/2/(j?g:g-1)),k=j?0:2*b,u||'fixed'===m||(g=x?Hg((Math.abs(x)+k)/n):0),z=g*n-k,f.repeatTimes=g,f.symbolMargin=b}var o=w*(z/2),h=f.pathPosition=[];h[d.index]=e[d.wh]/2,h[c.index]='start'===y?o:'end'===y?r-o:r/2,q&&(h[0]+=q[0],h[1]+=q[1]);var t=f.bundlePosition=[];t[d.index]=e[d.xy],t[c.index]=e[c.xy];var s=f.barRectShape=a({},e);s[c.wh]=w*Math.max(Math.abs(e[c.wh]),Math.abs(h[c.index]+o)),s[d.wh]=e[d.wh];var i=f.clipShape={};i[d.xy]=-e[d.xy],i[d.wh]=p.ecSize[d.wh],i[c.xy]=0,i[c.wh]=e[c.wh]}function Ag(c){var a=c.symbolPatternSize,b=Xl(c.symbolType,-a/2,-a/2,a,a,c.color);return b.attr({culling:!0}),'image'!==b.type&&b.setStyle({strokeNoScale:!0}),b}function Dg(e,i,a,f){function o(h){var b=j.slice(),c=a.pxSign,g=h;return ('start'===a.symbolRepeatDirection?c>0:c<0)&&(g=d-1-h),b[k.index]=l*(g-d/2+0.5)+j[k.index],{position:b,scale:a.symbolScale.slice(),rotation:a.rotation}}var h=e.__pictorialBundle,m=a.symbolSize,n=a.valueLineWidth,j=a.pathPosition,k=i.valueDim,d=a.repeatTimes||0,b=0,l=m[i.valueDim.index]+n+2*a.symbolMargin;for(Gg(e,function(c){c.__pictorialAnimationIndex=b,c.__pictorialRepeatTimes=d,b<d?Fg(c,null,o(b),a,f):Fg(c,null,{scale:[0,0]},a,f,function(){h.remove(c)}),Eg(c,a),b++});b<d;b++){var c=Ag(a);c.__pictorialAnimationIndex=b,c.__pictorialRepeatTimes=d,h.add(c);var g=o(b);Fg(c,{position:g.position,scale:[0,0]},{scale:g.scale,rotation:g.rotation},a,f),c.on('mouseover',function(){Gg(e,function(b){b.trigger('emphasis')})}).on('mouseout',function(){Gg(e,function(b){b.trigger('normal')})}),Eg(c,a)}}function Cg(c,f,a,d){var e=c.__pictorialBundle,b=c.__pictorialMainPath;b?Fg(b,null,{position:a.pathPosition.slice(),scale:a.symbolScale.slice(),rotation:a.rotation},a,d):(b=c.__pictorialMainPath=Ag(a),e.add(b),Fg(b,{position:a.pathPosition.slice(),scale:[0,0],rotation:a.rotation},{scale:a.symbolScale.slice()},a,d),b.on('mouseover',function(){this.trigger('emphasis')}).on('mouseout',function(){this.trigger('normal')})),Eg(b,a)}function Lg(c,d,f){var e=a({},d.barRectShape),b=c.__pictorialBarRect;b?Fg(b,null,{shape:e},d,f):(b=c.__pictorialBarRect=new aA({z2:2,shape:e,silent:!0,style:{stroke:'transparent',fill:'transparent',lineWidth:0}}),c.add(b))}function kg(f,j,c,k){if(c.symbolClip){var b=f.__pictorialClipPath,d=a({},c.clipShape),e=j.valueDim,h=c.animationModel,i=c.dataIndex;if(b){bo(b,{shape:d},h,i)}else {d[e.wh]=0,b=new aA({shape:d}),f.__pictorialBundle.setClipPath(b),f.__pictorialClipPath=b;var g={};g[e.wh]=c.clipShape[e.wh],a2[k?'updateProps':'initProps'](b,{shape:g},h,i)}}}function Pg(c,b){var a=c.getItemModel(b);return a.getAnimationDelayParams=Ng,a.isAnimationEnabled=Og,a}function Ng(a){return {index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function Og(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow('animation')}function Eg(c,b){c.off('emphasis').off('normal');var a=b.symbolScale.slice();b.hoverAnimation&&c.on('emphasis',function(){this.animateTo({scale:[1.1*a[0],1.1*a[1]]},400,'elasticOut')}).on('normal',function(){this.animateTo({scale:a.slice()},400,'elasticOut')})}function Rg(f,d,b,e){var a=new t(),c=new t();return a.add(c),a.__pictorialBundle=c,c.attr('position',b.bundlePosition.slice()),b.symbolRepeat?Dg(a,d,b):Cg(a,d,b),Lg(a,b,e),kg(a,d,b,e),a.__pictorialShapeStr=Vg(f,b),a.__pictorialSymbolMeta=b,a}function zg(b,c,a){var d=a.animationModel,e=a.dataIndex;bo(b.__pictorialBundle,{position:a.bundlePosition.slice()},d,e),a.symbolRepeat?Dg(b,c,a,!0):Cg(b,c,a,!0),Lg(b,a,!0),kg(b,c,a,!0)}function Bg(g,c,e,a){var f=a.__pictorialBarRect;f&&(f.style.text=null);var b=[];Gg(a,function(d){b.push(d)}),a.__pictorialMainPath&&b.push(a.__pictorialMainPath),a.__pictorialClipPath&&(e=null),d(b,function(b){bo(b,{scale:[0,0]},e,c,function(){a.parent&&a.parent.remove(a)})}),g.setItemGraphicEl(c,null)}function Vg(b,a){return [b.getItemVisual(a.dataIndex,'symbol')||'none',!!a.symbolRepeat,!!a.symbolClip].join(':')}function Gg(a,b,c){d(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function Fg(c,d,a,b,e,f){d&&c.attr(d),b.symbolClip&&!e?a&&c.attr(a):a&&a2[e?'updateProps':'initProps'](c,a,b.animationModel,b.dataIndex,f)}function Wg(g,e,a){var c=a.color,k=a.dataIndex,b=a.itemModel,l=b.getModel('itemStyle').getItemStyle(['color']),j=b.getModel('emphasis.itemStyle').getItemStyle(),h=b.getShallow('cursor');Gg(g,function(b){b.setColor(c),b.setStyle(r({fill:c,opacity:a.opacity},l)),uo(b,j),h&&(b.cursor=h),b.z2=a.z2});var f={},i=e.valueDim.posDesc[+(a.boundingLength>0)],d=g.__pictorialBarRect;Th(d.style,f,b,c,e.seriesModel,k,i),uo(d,f)}function Hg(a){var b=Math.round(a);return Math.abs(a-b)<1.0E-4?b:Math.ceil(a)}function Zg(a,b,c){this.dimension='single',this.dimensions=['single'],this._axis=null,this._rect,this._init(a,b,c),this.model=a}function Ug(d,g){g=g||{};var m=d.coordinateSystem,i=d.axis,a={},e=i.position,h=i.orient,c=m.getRect(),b=[c.x,c.x+c.width,c.y,c.y+c.height],j={horizontal:{top:b[2],bottom:b[3]},vertical:{left:b[0],right:b[1]}};a.position=['vertical'===h?j.vertical[e]:b[0],'horizontal'===h?j.horizontal[e]:b[3]];var l={horizontal:0,vertical:1};a.rotation=Math.PI/2*l[h];var k={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=k[e],d.get('axisTick.inside')&&(a.tickDirection=-a.tickDirection),T(g.labelInside,d.get('axisLabel.inside'))&&(a.labelDirection=-a.labelDirection);var f=g.rotate;return null==f&&(f=d.get('axisLabel.rotate')),a.labelRotation='top'===e?-f:f,a.z2=1,a}function Xg(b,c,e,j,g){var h=b.axis;if(!h.scale.isBlank()&&h.containData(c)){if(b.involveSeries){var i=jg(c,b),f=i.payloadBatch,d=i.snapToValue;f[0]&&null==g.seriesIndex&&a(g,f[0]),!j&&b.snap&&h.containData(d)&&null!=d&&(c=d),e.showPointer(b,c,f,g),e.showTooltip(b,i,d)}else {e.showPointer(b,c)}}}function jg(a,e){var c=e.axis,h=c.dim,f=a,b=[],d=Number.MAX_VALUE,g=-1;return bD(e.seriesModels,function(i,p){var j,k,l=i.getData().mapDimension(h,!0);if(i.getAxisTooltipData){var o=i.getAxisTooltipData(l,a,c);k=o.dataIndices,j=o.nestestValue}else {if(!(k=i.getData().indicesOfNearest(l[0],a,'category'===c.type?0.5:null)).length){return}j=i.getData().get(l[0],k[0])}if(null!=j&&isFinite(j)){var m=a-j,n=Math.abs(m);n<=d&&((n<d||m>=0&&g<0)&&(d=n,g=m,f=j,b.length=0),bD(k,function(c){b.push({seriesIndex:i.seriesIndex,dataIndexInside:c,dataIndex:i.getData().getRawIndex(c)})}))}}),{payloadBatch:b,snapToValue:f}}function Yg(d,a,b,c){d[a.key]={value:b,payloadBatch:c}}function qg(e,b,j,k){var g=j.payloadBatch,f=b.axis,d=f.model,h=b.axisPointerModel;if(b.triggerTooltip&&g.length){var a=b.coordSys.model,i=bh(a),c=e.map[i];c||(c=e.map[i]={coordSysId:a.id,coordSysIndex:a.componentIndex,coordSysType:a.type,coordSysMainType:a.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:f.dim,axisIndex:d.componentIndex,axisType:d.type,axisId:d.id,value:k,valueLabelOpt:{precision:h.get('label.precision'),formatter:h.get('label.formatter')},seriesDataIndices:g.slice()})}}function Kg(d,a,b){var c=b.axesInfo=[];bD(a,function(f,h){var e=f.axisPointerModel.option,g=d[h];g?(!f.useHandle&&(e.status='show'),e.value=g.value,e.seriesDataIndices=(g.payloadBatch||[]).slice()):!f.useHandle&&(e.status='hide'),'show'===e.status&&c.push({axisDim:f.axis.dim,axisIndex:f.axis.model.componentIndex,value:e.value})})}function $g(c,a,d,e){if(!em(a)&&c.list.length){var b=((c.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};e({type:'showTip',escapeConnect:!0,x:a[0],y:a[1],tooltipOption:d.tooltipOption,position:d.position,dataIndexInside:b.dataIndexInside,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex,dataByCoordSys:c.list})}else {e({type:'hideTip'})}}function Jg(h,i,b){var f=b.getZr(),g=mH(f).axisPointerLastHighlights||{},a=mH(f).axisPointerLastHighlights={};bD(h,function(d,e){var c=d.axisPointerModel.option;'show'===c.status&&bD(c.seriesDataIndices,function(c){var f=c.seriesIndex+' | '+c.dataIndex;a[f]=c})});var c=[],e=[];d(g,function(d,c){!a[c]&&e.push(d)}),d(a,function(d,a){!g[a]&&c.push(d)}),e.length&&b.dispatchAction({type:'downplay',escapeConnect:!0,batch:e}),c.length&&b.dispatchAction({type:'highlight',escapeConnect:!0,batch:c})}function Qg(d,c){for(var a=0;a<(d||[]).length;a++){var b=d[a];if(c.axis.dim===b.axisDim&&c.axis.model.componentIndex===b.axisIndex){return b}}}function tm(d){var b=d.axis.model,a={},c=a.axisDim=d.axis.dim;return a.axisIndex=a[c+'AxisIndex']=b.componentIndex,a.axisName=a[c+'AxisName']=b.name,a.axisId=a[c+'AxisId']=b.id,a}function em(a){return !a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function im(c,b,d){if(!aq.node){var a=b.getZr();bJ(a).records||(bJ(a).records={}),nm(a,b),(bJ(a).records[c]||(bJ(a).records[c]={})).handler=d}}function nm(a,b){function i(c,d){a.on(c,function(f){var e=sm(b);sX(bJ(a).records,function(g){g&&d(g,f,e.dispatchAction)}),om(e.pendings,b)})}bJ(a).initialized||(bJ(a).initialized=!0,i('click',v(rm,'click')),i('mousemove',v(rm,'mousemove')),i('globalout',am))}function om(b,e){var a,c=b.showTip.length,d=b.hideTip.length;c?a=b.showTip[c-1]:d&&(a=b.hideTip[d-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function am(b,c,a){b.handler('leave',null,a)}function rm(d,a,b,c){a.handler(d,b,c)}function sm(c){var a={showTip:[],hideTip:[]},b=function(d){var e=a[d.type];e?e.push(d):(d.dispatchAction=b,c.dispatchAction(d))};return {dispatchAction:b,pendings:a}}function lm(b,c){if(!aq.node){var a=c.getZr();(bJ(a).records||{})[b]&&(bJ(a).records[b]=null)}}function um(){}function hm(d,c,a,b){cm(cL(a).lastProp,b)||(cL(a).lastProp=b,c?bo(a,b,d):(a.stopAnimation(),a.attr(b)))}function cm(c,a){if(w(c)&&w(a)){var b=!0;return d(a,function(d,e){b=b&&cm(c[e],d)}),!!b}return c===a}function dm(b,a){b[a.get('label.show')?'show':'hide']()}function fm(a){return {position:a.position.slice(),rotation:a.rotation||0}}function pm(d,a,e){var b=a.get('z'),c=a.get('zlevel');d&&d.traverse(function(f){'group'!==f.type&&(null!=b&&(f.z=b),null!=c&&(f.zlevel=c),f.silent=e)})}function gm(d){var a,b=d.get('type'),c=d.getModel(b+'Style');return 'line'===b?(a=c.getLineStyle()).fill=null:'shadow'===b&&((a=c.getAreaStyle()).stroke=null),a}function mm(p,h,c,o,i){var j=ym(c.get('value'),h.axis,h.ecModel,c.get('seriesDataIndices'),{precision:c.get('label.precision'),formatter:c.get('label.formatter')}),a=c.getModel('label'),g=cz(a.get('padding')||0),l=a.getFont(),n=De(j,l),b=i.position,d=n.width+g[1]+g[3],e=n.height+g[0]+g[2],k=i.align;'right'===k&&(b[0]-=d),'center'===k&&(b[0]-=d/2);var m=i.verticalAlign;'bottom'===m&&(b[1]-=e),'middle'===m&&(b[1]-=e/2),vm(b,d,e,o);var f=a.get('backgroundColor');f&&'auto'!==f||(f=h.get('axisLine.lineStyle.color')),p.label={shape:{x:0,y:0,width:d,height:e,r:a.get('borderRadius')},position:b.slice(),style:{text:j,textFont:l,textFill:a.getTextColor(),textPosition:'inside',fill:f,stroke:a.get('borderColor')||'transparent',lineWidth:a.get('borderWidth')||0,shadowBlur:a.get('shadowBlur'),shadowColor:a.get('shadowColor'),shadowOffsetX:a.get('shadowOffsetX'),shadowOffsetY:a.get('shadowOffsetY')},z2:10}}function vm(a,b,c,d){var f=d.getWidth(),e=d.getHeight();a[0]=Math.min(a[0]+b,f)-b,a[1]=Math.min(a[1]+c,e)-c,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function ym(c,e,h,i,f){c=e.scale.parse(c);var b=e.scale.getLabel(c,{precision:f.precision}),a=f.formatter;if(a){var g={value:Wl(e,c),seriesData:[]};d(i,function(d){var a=h.getSeriesByIndex(d.seriesIndex),j=d.dataIndexInside,b=a&&a.getDataParams(j);b&&g.seriesData.push(b)}),_(a)?b=a.replace('{value}',b):x(a)&&(b=a(g))}return b}function xm(d,c,a){var b=mt();return wt(b,b,a.rotation),_t(b,b,a.position),Io([d.dataToCoord(c),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],b)}function _m(g,f,a,b,c,e){var d=a9.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=c.get('label.margin'),mm(f,b,c,e,{position:xm(b.axis,g,a),align:d.textAlign,verticalAlign:d.textVerticalAlign})}function wm(c,b,a){return a=a||0,{x1:c[a],y1:c[1-a],x2:b[a],y2:b[1-a]}}function bm(c,b,a){return a=a||0,{x:c[a],y:c[1-a],width:b[a],height:b[1-a]}}function Sm(f,b,c,d,e,a){return {cx:f,cy:b,r0:c,r:d,startAngle:e,endAngle:a,clockwise:!0}}function Mm(c,a){var b={};return b[a.dim+'AxisIndex']=a.index,c.getCartesian(b)}function Im(a){return 'x'===a.dim?0:1}function Tm(a){return a.isHorizontal()?0:1}function Am(c,a){var b=c.getRect();return [b[lR[a]],b[lR[a]]+b[sQ[a]]]}function Dm(a,c,d){var b=new aA({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return So(b,{shape:{width:a.width+20,height:a.height+20}},c,d),b}function Cm(c,i,m){if(c.count()){for(var h,n=i.coordinateSystem,e=i.getLayerSeries(),p=c.mapDimension('single'),q=c.mapDimension('value'),d=f(e,function(a){return f(a.indices,function(b){var d=n.dataToPoint(c.get(p,b));return d[1]=c.get(q,b),d})}),j=Lm(d),l=j.y0,g=m/j.max,k=e.length,o=e[0].indices.length,a=0;a<o;++a){h=l[a]*g,c.setItemLayout(e[0].indices[a],{layerIndex:0,x:d[0][a][0],y0:h,y:d[0][a][1]*g});for(var b=1;b<k;++b){h+=d[b-1][a][1]*g,c.setItemLayout(e[b].indices[a],{layerIndex:b,x:d[b][a][0],y0:h,y:d[b][a][1]*g})}}}}function Lm(k){for(var m=k.length,e=k[0].length,g=[],h=[],a=0,i={},j=0;j<e;++j){for(var f=0,d=0;f<m;++f){d+=k[f][j][1]}d>a&&(a=d),g.push(d)}for(var c=0;c<e;++c){h[c]=(a-g[c])/2}a=0;for(var b=0;b<e;++b){var l=g[b]+h[b];l>a&&(a=l)}return i.y0=h,i.max=a,i}function km(b){var c=0;d(b.children,function(d){km(d);var a=d.value;y(a)&&(a=a[0]),c+=a});var a=b.value;y(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=c),a<0&&(a=0),y(b.value)?b.value[0]=a:b.value=a}function Pm(d,c,e){function n(){a.ignore=a.hoverIgnore}function o(){a.ignore=a.normalIgnore}t.call(this);var b=new bI({z2:tD});b.seriesIndex=c.seriesIndex;var a=new ak({z2:qZ,silent:d.getModel('label').get('silent')});this.add(b),this.add(a),this.updateData(!0,d,'normal',c,e),this.on('emphasis',n).on('normal',o).on('mouseover',n).on('mouseout',o)}function Nm(a,g,c){var d=a.getVisual('color'),e=a.getVisual('visualMeta');e&&0!==e.length||(d=null);var b=a.getModel('itemStyle').get('color');if(b){return b}if(d){return d}if(0===a.depth){return c.option.color[0]}var f=c.option.color.length;return b=c.option.color[Om(a)%f]}function Om(b){for(var a=b;a.depth>1;){a=a.parentNode}return l(b.getAncestors()[0].children,a)}function Em(b,a,c){return c!==gb.NONE&&(c===gb.SELF?b===a:c===gb.ANCESTOR?b===a||b.isAncestorOf(a):b===a||b.isDescendantOf(a))}function Rm(a,b){var c=a.children||[];a.children=zm(c,b),c.length&&d(a.children,function(c){Rm(c,b)})}function zm(c,a){if('function'==typeof a){return c.sort(a)}var b='asc'===a;return c.sort(function(f,d){var e=(f.getValue()-d.getValue())*(b?1:-1);return 0===e?(f.dataIndex-d.dataIndex)*(b?-1:1):e})}function Bm(b,a){return a=a||[0,0],f(['x','y'],function(g,e){var c=this.getAxis(g),d=a[e],f=b[e]/2;return 'category'===c.type?c.getBandWidth():Math.abs(c.dataToCoord(d-f)-c.dataToCoord(d+f))},this)}function Vm(b,a){return a=a||[0,0],f([0,1],function(c){var f=a[c],g=b[c]/2,d=[],e=[];return d[c]=f-g,e[c]=f+g,d[1-c]=e[1-c]=a[1-c],Math.abs(this.dataToPoint(d)[c]-this.dataToPoint(e)[c])},this)}function Gm(c,b){var a=this.getAxis(),d=b instanceof Array?b[0]:b,e=(c instanceof Array?c[0]:c)/2;return 'category'===a.type?a.getBandWidth():Math.abs(a.dataToCoord(d-e)-a.dataToCoord(d+e))}function Fm(b,a){return f(['Radius','Angle'],function(d,g){var c=this['get'+d+'Axis'](),f=a[g],h=b[g]/2,i='dataTo'+d,e='category'===c.type?c.getBandWidth():Math.abs(c[i](f-h)-c[i](f+h));return 'Angle'===d&&(e=e*Math.PI/180),e},this)}function Wm(d){var b,c=d.type;if('path'===c){var a=d.shape,f=null!=a.width&&null!=a.height?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,e=tv(a);(b=Wn(e,null,f,a.layout||'center')).__customPathData=e}else {'image'===c?(b=new hi({})).__customImagePath=d.style.image:'text'===c?(b=new ak({})).__customText=d.style.text:b=new (0,a2[c.charAt(0).toUpperCase()+c.slice(1)])()}return b.__customGraphicType=c,b.name=d.name,b}function Hm(b,l,a,m,o,f,n){var e={},c=a.style||{};if(a.shape&&(e.shape=i(a.shape)),a.position&&(e.position=a.position.slice()),a.scale&&(e.scale=a.scale.slice()),a.origin&&(e.origin=a.origin.slice()),a.rotation&&(e.rotation=a.rotation),'image'===b.type&&a.style){j=e.style={};d(['x','y','width','height'],function(d){Zm(d,j,c,b.style,f)})}if('text'===b.type&&a.style){var j=e.style={};d(['x','y'],function(d){Zm(d,j,c,b.style,f)}),!c.hasOwnProperty('textFill')&&c.fill&&(c.textFill=c.fill),!c.hasOwnProperty('textStroke')&&c.stroke&&(c.textStroke=c.stroke)}if('group'!==b.type&&(b.useStyle(c),f)){b.style.opacity=0;var g=c.opacity;null==g&&(g=1),So(b,{style:{opacity:g}},m,l)}f?b.attr(e):bo(b,e,m,l),a.hasOwnProperty('z2')&&b.attr('z2',a.z2||0),a.hasOwnProperty('silent')&&b.attr('silent',a.silent),a.hasOwnProperty('invisible')&&b.attr('invisible',a.invisible),a.hasOwnProperty('ignore')&&b.attr('ignore',a.ignore),a.hasOwnProperty('info')&&b.attr('info',a.info);var h=a.styleEmphasis,k=!1===h;b.__cusHasEmphStl&&null==h||!b.__cusHasEmphStl&&k||(no(b,h),b.__cusHasEmphStl=!k),n&&ho(b,!k)}function Zm(a,c,b,d,e){null==b[a]||e||(c[a]=b[a],b[a]=d[a])}function Um(c,b,m,g){function o(a){null==a&&(a=e),l&&(f=b.getItemModel(a),i=f.getModel(nI),j=f.getModel(n$),h=b.getItemVisual(a,'color'),l=!1)}var n=c.get('renderItem'),d=c.coordinateSystem,k={};d&&(k=d.prepareCustoms?d.prepareCustoms():oX[d.type](d));var e,f,i,j,h,p=r({getWidth:g.getWidth,getHeight:g.getHeight,getZr:g.getZr,getDevicePixelRatio:g.getDevicePixelRatio,value:function(d,a){return null==a&&(a=e),b.get(b.getDimension(d||0),a)},style:function(k,d){null==d&&(d=e),o(d);var j=f.getModel(oF).getItemStyle();null!=h&&(j.fill=h);var l=b.getItemVisual(d,'opacity');return null!=l&&(j.opacity=l),fo(j,i,null,{autoColor:h,isRectText:!0}),j.text=i.getShallow('show')?A(c.getFormattedLabel(d,'normal'),gu(b,d)):null,k&&a(j,k),j},styleEmphasis:function(i,d){null==d&&(d=e),o(d);var h=f.getModel(p8).getItemStyle();return fo(h,j,null,{isRectText:!0},!0),h.text=j.getShallow('show')?D(c.getFormattedLabel(d,'emphasis'),c.getFormattedLabel(d,'normal'),gu(b,d)):null,i&&a(h,i),h},visual:function(d,a){return null==a&&(a=e),b.getItemVisual(a,d)},barLayout:function(a){if(d.getBaseAxis){return Tl(r({axis:d.getBaseAxis()},a),g)}},currentSeriesIndices:function(){return m.getCurrentSeriesIndices()},font:function(a){return _o(a,m)}},k.api||{}),q={context:{},seriesId:c.id,seriesName:c.name,seriesIndex:c.seriesIndex,coordSys:k.coordSys,dataInsideLength:b.count(),encode:Xm(c.getData())},l=!0;return function(a,d){return e=a,l=!0,n&&n(r({dataIndexInside:a,dataIndex:b.getRawIndex(a),actionType:d?d.type:null},q),p)}}function Xm(b){var a={};return d(b.dimensions,function(e,f){var c=b.getDimensionInfo(e);if(!c.isExtraCoord){var d=c.coordDim;(a[d]=a[d]||[])[c.coordDimIndex]=f}}),a}function jm(a,c,d,e,f,b){return (a=Ym(a,c,d,e,f,b,!0))&&b.setItemGraphicEl(c,a),a}function Ym(a,g,b,h,i,f,l){var j=!b,c=(b=b||{}).type,e=b.shape,d=b.style;if(a&&(j||null!=c&&c!==a.__customGraphicType||'path'===c&&ev(e)&&tv(e)!==a.__customPathData||'image'===c&&iv(d,'image')&&d.image!==a.__customImagePath||'text'===c&&iv(e,'text')&&d.text!==a.__customText)&&(i.remove(a),a=null),!j){var k=!a;return !a&&(a=Wm(b)),Hm(a,g,b,h,f,k,l),'group'===c&&qm(a,g,b,h,f),i.add(a),a}}function qm(c,e,d,g,h){var a=d.children,i=a?a.length:0,j=d.$mergeChildren,f='byName'===j||d.diffChildrenByName,k=!1===j;if(i||f||k){if(f){Km({oldChildren:c.children()||[],newChildren:a||[],dataIndex:e,animatableModel:g,group:c,data:h})}else {k&&c.removeAll();for(var b=0;b<i;b++){a[b]&&Ym(c.childAt(b),e,a[b],g,c,h)}}}}function Km(a){(new Hs(a.oldChildren,a.newChildren,$m,$m,a)).add(Jm).update(Jm).remove(Qm).execute()}function $m(b,c){var a=b&&b.name;return null!=a?a:nV+c}function Jm(c,b){var a=this.context,d=null!=c?a.newChildren[c]:null;Ym(null!=b?a.oldChildren[b]:null,a.dataIndex,d,a.animatableModel,a.group,a.data)}function Qm(c){var a=this.context,b=a.oldChildren[c];b&&a.group.remove(b)}function tv(a){return a&&(a.pathData||a.d)}function ev(a){return a&&(a.hasOwnProperty('pathData')||a.hasOwnProperty('d'))}function iv(a,b){return a&&a.hasOwnProperty(b)}function nv(d,e,b,f){var c=b.type,a=new (0,a2[c.charAt(0).toUpperCase()+c.slice(1)])(b);e.add(a),f.set(d,a),a.__ecGraphicId=d}function ov(a,b){var c=a&&a.parent;c&&('group'===a.type&&a.traverse(function(c){ov(c,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function av(b){return b=a({},b),d(['id','parentId','$action','hv','bounding'].concat(jX),function(a){delete b[a]}),b}function rv(b,c){var a;return d(c,function(d){null!=b[d]&&'auto'!==b[d]&&(a=!0)}),a}function sv(d,a){var b=d.exist;if(a.id=d.keyInfo.id,!a.type&&b&&(a.type=b.type),null==a.parentId){var c=a.parentOption;c?a.parentId=c.id:b&&(a.parentId=b.parentId)}a.parentOption=null}function lv(e,c,f){var d=a({},f),b=e[c],g=f.$action||'merge';'merge'===g?b?(n(b,d,!0),ca(b,d,{ignoreSize:!0}),fa(f,b)):e[c]=d:'replace'===g?e[c]=d:'remove'===g&&b&&(e[c]=null)}function uv(a,b){a&&(a.hv=b.hv=[rv(b,['left','right']),rv(b,['top','bottom'])],'group'===a.type&&(null==a.width&&(a.width=b.width=0),null==a.height&&(a.height=b.height=0)))}function hv(a,c,d){var b=a.eventData;a.silent||a.ignore||b||(b=a.eventData={componentType:'graphic',componentIndex:c.componentIndex,name:a.name}),b&&(b.info=a.info)}function cv(e,b,g){var c,a={},f='toggleSelected'===e;return g.eachComponent('legend',function(h){f&&null!=c?h[c?'select':'unSelect'](b.name):(h[e](b.name),c=h.isSelected(b.name)),d(h.getData(),function(f){var c=f.get('name');if('\n'!==c&&''!==c){var d=h.isSelected(c);a.hasOwnProperty(c)?a[c]=a[c]&&d:a[c]=d}})}),{name:b.name,selected:a}}function dv(g,a,c){var d=a.getBoxLayoutParams(),e=a.get('padding'),b={width:c.getWidth(),height:c.getHeight()},f=la(d,b,e);dX(a.get('orient'),g,a.get('itemGap'),f.width,f.height),ua(g,d,b,e)}function fv(b,c){var a=cz(c.get('padding')),d=c.getItemStyle(['color','opacity']);return d.fill=c.get('backgroundColor'),b=new aA({shape:{x:b.x-a[3],y:b.y-a[0],width:b.width+a[1]+a[3],height:b.height+a[0]+a[2],r:c.get('borderRadius')},style:d,silent:!0,z2:-1})}function pv(b,a){a.dispatchAction({type:'legendToggleSelect',name:b})}function gv(e,c,a,d){var b=a.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||a.dispatchAction({type:'highlight',seriesName:e,name:c,excludeSeriesId:d})}function mv(e,c,a,d){var b=a.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||a.dispatchAction({type:'downplay',seriesName:e,name:c,excludeSeriesId:d})}function vv(d,b,c){var a=[1,1];a[d.getOrient().index]=0,ca(b,c,{type:'box',ignoreSize:a})}function yv(a){var b='left '+a+'s cubic-bezier(0.23, 1, 0.32, 1),top '+a+'s cubic-bezier(0.23, 1, 0.32, 1)';return f(qV,function(c){return c+'transition:'+b}).join(';')}function xv(b){var a=[],c=b.get('fontSize'),d=b.getTextColor();return d&&a.push('color:'+d),a.push('font:'+b.getFont()),c&&a.push('line-height:'+Math.round(3*c/2)+'px'),k2(['decoration','align'],function(c){var d=b.get(c);d&&a.push('text-'+c+':'+d)}),a.join(';')}function _v(b){var a=[],e=b.get('transitionDuration'),c=b.get('backgroundColor'),f=b.getModel('textStyle'),d=b.get('padding');return e&&a.push(yv(e)),c&&(aq.canvasSupported?a.push('background-Color:'+c):(a.push('background-Color:#'+Ft(c)),a.push('filter:alpha(opacity=70)'))),k2(['width','color','radius'],function(d){var e='border-'+d,f=oz(e),c=b.get(f);null!=c&&a.push(e+':'+c+('color'===d?'':'px'))}),a.push(xv(f)),null!=d&&a.push('padding:'+cz(d).join('px ')+'px'),a.join(';')+';'}function wv(d,c){if(aq.wxa){return null}var b=document.createElement('div'),e=this._zr=c.getZr();this.el=b,this._x=c.getWidth()/2,this._y=c.getHeight()/2,d.appendChild(b),this._container=d,this._show=!1,this._hideTimeout;var a=this;b.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},b.onmousemove=function(b){if(b=b||window.event,!a._enterable){var f=e.handler;lt(d,b,!0),f.dispatch('mousemove',b)}},b.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}function bv(a){this._zr=a.getZr(),this._show=!1,this._hideTimeout}function Sv(c){for(var b=c.pop();c.length;){var a=c.pop();a&&(Lo.isInstance(a)&&(a=a.get('tooltip',!0)),'string'==typeof a&&(a={formatter:a}),b=new Lo(a,b,b.ecModel))}return b}function Mv(b,a){return b.dispatchAction||m(a.dispatchAction,a)}function Iv(d,b,h,i,j,a,c){var f=h.getOuterSize(),e=f.width,g=f.height;return null!=a&&(d+e+a>i?d-=e+a:d+=a),null!=c&&(b+g+c>j?b-=g+c:b+=c),[d,b]}function Tv(b,a,f,g,h){var c=f.getOuterSize(),d=c.width,e=c.height;return b=Math.min(b+d,g)-d,a=Math.min(a+e,h)-e,b=Math.max(b,0),a=Math.max(a,0),[b,a]}function Av(i,a,h){var e=h[0],f=h[1],b=0,c=0,g=a.width,d=a.height;switch(i){case 'inside':b=a.x+g/2-e/2,c=a.y+d/2-f/2;break;case 'top':b=a.x+g/2-e/2,c=a.y-f-5;break;case 'bottom':b=a.x+g/2-e/2,c=a.y+d+5;break;case 'left':b=a.x-e-5,c=a.y+d/2-f/2;break;case 'right':b=a.x+g+5,c=a.y+d/2-f/2;}return [b,c]}function Dv(a){return 'center'===a||'middle'===a}function Cv(a){return a.get('stack')||'__ec_stack_'+a.seriesIndex}function Lv(a){return a.dim}function kv(c,e){var b={};d(c,function(d,p){var o=d.getData(),i=d.coordinateSystem.getBaseAxis(),k=i.getExtent(),j='category'===i.type?i.getBandWidth():Math.abs(k[1]-k[0])/o.count(),a=b[Lv(i)]||{bandWidth:j,remainedWidth:j,autoWidthCount:0,categoryGap:'20%',gap:'30%',stacks:{}},f=a.stacks;b[Lv(i)]=a;var g=Cv(d);f[g]||a.autoWidthCount++,f[g]=f[g]||{width:0,maxWidth:0};var h=Ro(d.get('barWidth'),j),l=Ro(d.get('barMaxWidth'),j),m=d.get('barGap'),n=d.get('barCategoryGap');h&&!f[g].width&&(h=Math.min(a.remainedWidth,h),f[g].width=h,a.remainedWidth-=h),l&&(f[g].maxWidth=l),null!=m&&(a.gap=m),null!=n&&(a.categoryGap=n)});var a={};return d(b,function(f,k){a[k]={};var m=f.stacks,p=f.bandWidth,n=Ro(f.categoryGap,p),h=Ro(f.gap,1),i=f.remainedWidth,g=f.autoWidthCount,b=(i-n)/(g+(g-1)*h);b=Math.max(b,0),d(m,function(d,h){var a=d.maxWidth;a&&a<b&&(a=Math.min(a,i),d.width&&(a=Math.min(a,d.width)),i-=a,d.width=a,g--)}),b=(i-n)/(g+(g-1)*h),b=Math.max(b,0);var l,j=0;d(m,function(a,d){a.width||(a.width=b),l=a,j+=a.width*(1+h)}),l&&(j-=l.width*h);var o=-j/2;d(m,function(d,b){a[k][b]=a[k][b]||{offset:o,width:d.width},o+=d.width*(1+h)})}),a}function Pv(b,a){aF.call(this,'radius',b,a),this.type='category'}function Nv(b,a){a=a||[0,360],aF.call(this,'angle',b,a),this.type='category'}function Ov(b,a){return a.type||(a.data?'category':'value')}function Ev(b,d,e){var g=d.get('center'),h=e.getWidth(),c=e.getHeight();b.cx=Ro(g[0],h),b.cy=Ro(g[1],c);var a=b.getRadiusAxis(),i=Math.min(h,c)/2,f=Ro(d.get('radius'),i);a.inverse?a.setExtent(f,0):a.setExtent(0,f)}function Rv(g,h){var e=this,a=e.getAngleAxis(),c=e.getRadiusAxis();if(a.scale.setExtent(1/0,-1/0),c.scale.setExtent(1/0,-1/0),g.eachSeries(function(f){if(f.coordinateSystem===e){var b=f.getData();d(b.mapDimension('radius',!0),function(a){c.scale.unionExtentFromData(b,cl(b,a))}),d(b.mapDimension('angle',!0),function(c){a.scale.unionExtentFromData(b,cl(b,c))})}}),Bl(a.scale,a.model),Bl(c.scale,c.model),'category'===a.type&&!a.onBand){var b=a.getExtent(),f=360/a.scale.count();a.inverse?b[1]+=f:b[1]-=f,a.setExtent(b[0],b[1])}}function zv(a,b){if(a.type=b.get('type'),a.scale=Vl(b),a.onBand=b.get('boundaryGap')&&'category'===a.type,a.inverse=b.get('inverse'),'angleAxis'===b.mainType){a.inverse^=b.get('clockwise');var c=b.get('startAngle');a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}function Bv(e,a,b){a[1]>a[0]&&(a=a.slice().reverse());var c=e.coordToPoint([a[0],b]),d=e.coordToPoint([a[1],b]);return {x1:c[0],y1:c[1],x2:d[0],y2:d[1]}}function Vv(a){return a.getRadiusAxis().inverse?0:1}function Gv(a){var b=a[0],c=a[a.length-1];b&&c&&Math.abs(Math.abs(b.coord-c.coord)-360)<1.0E-4&&a.pop()}function Fv(a,b,c){return {position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:b.getModel('axisLabel').get('rotate'),z2:1}}function Wv(q,i,r,b,k){var h=i.axis,m=h.dataToCoord(q),d=b.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var a,g,f,o=b.getRadiusAxis().getExtent();if('radius'===h.dim){var c=mt();wt(c,c,d),_t(c,c,[b.cx,b.cy]),a=Io([m,-k],c);var p=i.getModel('axisLabel').get('rotate')||0,l=a9.innerTextLayout(d,p*Math.PI/180,-1);g=l.textAlign,f=l.textVerticalAlign}else {var e=o[1];a=b.coordToPoint([e+k,m]);var j=b.cx,n=b.cy;g=Math.abs(a[0]-j)/e<0.3?'center':a[0]>j?'left':'right',f=Math.abs(a[1]-n)/e<0.3?'middle':a[1]>n?'top':'bottom'}return {position:a,align:g,verticalAlign:f}}function Hv(b,a){a.update='updateView',Ps(a,function(c,f){var e={};return f.eachComponent({mainType:'geo',query:c},function(g){g[b](c.name),d(g.coordinateSystem.regions,function(d){e[d.name]=g.isSelected(d.name)||!1})}),{selected:e,name:c.name}})}function Zv(a){var b={};d(a,function(c){b[c]=1}),a.length=0,d(b,function(c,b){a.push(b)})}function Uv(a){if(a){for(var b in a){if(a.hasOwnProperty(b)){return !0}}}}function Xv(d,c,b){function o(){var a=function(){};return a.prototype.__hidden=a.prototype,new a()}var a={};return mR(c,function(e){var f=a[e]=o();mR(d[e],function(h,g){if(aC.isValidType(g)){var a={type:g,visual:h};b&&b(a,e),f[g]=new aC(a),'opacity'===g&&((a=i(a)).type='colorAlpha',f.__hidden.__alphaForOpacity=new aC(a))}})}),a}function jv(e,a,b){var c;d(b,function(d){a.hasOwnProperty(d)&&Uv(a[d])&&(c=!0)}),c&&d(b,function(c){a.hasOwnProperty(c)&&Uv(a[c])?e[c]=i(a[c]):delete e[c]})}function Yv(i,e,a,g,h,c){function r(d){return a.getItemVisual(b,d)}function s(f,d){a.setItemVisual(b,f,d)}function l(j,p){b=null==c?j:p;var k=a.getRawDataItem(b);if(!k||!1!==k.visualMap){for(var l=g.call(h,j),m=e[l],n=f[l],d=0,q=n.length;d<q;d++){var o=n[d];m[o]&&m[o].applyVisual(j,r,s)}}}var f={};d(i,function(b){var d=aC.prepareVisualTypes(e[b]);f[b]=d});var b;null==c?a.each(l):a.each([c],l)}function qv(f,b,e,a){var c={};return d(f,function(d){var g=aC.prepareVisualTypes(b[d]);c[d]=g}),{progress:function(p,g){null!=a&&(a=g.getDimension(a));for(var d;null!=(d=p.next());){var m=g.getRawDataItem(d);if(m&&!1===m.visualMap){return}for(var k=null!=a?g.get(a,d,!0):d,n=e(k),j=b[n],i=c[n],h=0,o=i.length;h<o;h++){var l=i[h];j[l]&&j[l].applyVisual(k,function(c){return g.getItemVisual(d,c)},function(h,c){g.setItemVisual(d,h,c)})}}}}}function Kv(a){var b=['x','y'],c=['width','height'];return {point:function(b,e,c){if(b){var d=c.range;return $v(b[a],d)}},rect:function(e,h,g){if(e){var f=g.range,d=[e[b[a]],e[b[a]]+e[c[a]]];return d[1]<d[0]&&d.reverse(),$v(d[0],f)||$v(d[1],f)||$v(f[0],d)||$v(f[1],d)}}}}function $v(b,a){return a[0]<=b&&b<=a[1]}function Jv(h,e,f,g,a){for(var b=0,c=a[a.length-1];b<a.length;b++){var d=a[b];if(Qv(h,e,f,g,d[0],d[1],c[0],c[1])){return !0}c=d}}function Qv(d,b,g,h,c,a,i,j){var e=ey(g-d,c-i,h-b,a-j);if(ty(e)){return !1}var k=ey(c-d,c-i,a-b,a-j)/e;if(k<0||k>1){return !1}var f=ey(g-d,c-d,h-b,a-b)/e;return !(f<0||f>1)}function ty(a){return a<=1.0E-6&&a>=-1.0E-6}function ey(d,a,b,c){return d*c-a*b}function iy(f,c,a){var d=this._targetInfoList=[],e={},b=oy(c,f);b4(sP,function(h,g){(!a||!a.include||f0(a.include,g)>=0)&&h(b,d,e)})}function ny(a){return a[0]>a[1]&&a.reverse(),a}function oy(b,a){return Vi(b,a,{includeMainTypes:rz})}function ay(c,g,h,e){var a=h.getAxis(['x','y'][c]),d=ny(f([0,1],function(b){return g?a.coordToData(a.toLocalCoord(e[b])):a.toGlobalCoord(a.dataToCoord(e[b]))})),b=[];return b[c]=d,b[1-c]=[NaN,NaN],{values:d,xyMinMax:b}}function ry(d,a,b,c){return [a[0]-c[d]*b[0],a[1]-c[d]*b[1]]}function sy(e,d){var b=ly(e),c=ly(d),a=[b[0]/c[0],b[1]/c[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function ly(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function uy(b,c,d,e,f){if(f){var a=b.getZr();a[i2]||(a[hR]||(a[hR]=hy),Lr(a,hR,d,c)(b,e))}}function hy(a,c){if(!a.isDisposed()){var b=a.getZr();b[i2]=!0,a.dispatchAction({type:'brushSelect',batch:c}),b[i2]=!1}}function cy(g,c,e,f){for(var a=0,d=c.length;a<d;a++){var b=c[a];if(g[b.brushType](f,e,b.selectors,b)){return !0}}}function dy(e){var a=e.brushSelector;if(_(a)){var b=[];return d(iV,function(d,c){b[c]=function(f,g,h,b){var i=g.getItemLayout(f);return d[a](i,h,b)}}),b}if(x(a)){var c={};return d(iV,function(d,b){c[b]=a}),c}return a}function fy(c,b){var a=c.option.seriesIndex;return null!=a&&'all'!==a&&(y(a)?l(a,b)<0:b!==a)}function py(a){var b=a.selectors={};return d(iV[a.brushType],function(c,d){b[d]=function(e){return c(e,b,a)}}),a}function gy(a){return new ue(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function my(a,b){return n({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new Lo(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function vy(a,d,c,b){(!b||b.$from!==a.id)&&this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}function yy(b,a){j$[b]=a}function xy(a){return j$[a]}function _y(c,a,b){this.model=c,this.ecModel=a,this.api=b,this._brushType,this._brushMode}function wy(a,b,c){this._model=a}function by(f,g,b,e){var c=b.calendarModel,a=b.seriesModel,d=c?c.coordinateSystem:a?a.coordinateSystem:null;return d===this?d[f](e):null}function Sy(b,c){var a=b.cellSize;y(a)?1===a.length&&(a[1]=a[0]):a=b.cellSize=[a,a];var d=f([0,1],function(d){return ha(c,d)&&(a[d]='auto'),null!=a[d]&&'auto'!==a[d]});ca(b,c,{type:'box',ignoreSize:d})}function My(a){return l(r7,a)>=0}function Iy(e,b,c){function n(d,a){return l(a.nodes,d)>=0}function o(g,f){var a=!1;return b(function(h){d(c(g,h)||[],function(d){f.records[h.name][d]&&(a=!0)})}),a}function a(f,a){a.nodes.push(f),b(function(g){d(c(f,g)||[],function(d){a.records[g.name][d]=!0})})}return function(g){var d={nodes:[],records:{}};if(b(function(a){d.records[a.name]={}}),!g){return d}a(g,d);var f;do{f=!1,e(function(h){!n(h,d)&&o(h,d)&&(a(h,d),f=!0)})}while(f);return d}}function Ty(d,b,c){var a=[1/0,-1/0];return bY(c,function(f){var e=f.getData();e&&bY(e.mapDimension(b,!0),function(h){var g=e.getApproximateExtent(h);g[0]<a[0]&&(a[0]=g[0]),g[1]>a[1]&&(a[1]=g[1])})}),a[1]<a[0]&&(a=[NaN,NaN]),Ay(d,a),a}function Ay(g,a){var b=g.getAxisModel(),c=b.getMin(!0),f='category'===b.get('type'),e=f&&b.getCategories().length;null!=c&&'dataMin'!==c&&'function'!=typeof c?a[0]=c:f&&(a[0]=e>0?0:NaN);var d=b.getMax(!0);return null!=d&&'dataMax'!==d&&'function'!=typeof d?a[1]=d:f&&(a[1]=e>0?e-1:NaN),b.get('scale',!0)||(a[0]>0&&(a[0]=0),a[1]<0&&(a[1]=0)),a}function Dy(d,f){var g=d.getAxisModel(),b=d._percentWindow,c=d._valueWindow;if(b){var a=Fo(c,[0,500]);a=Math.min(a,20);var e=f||0===b[0]&&100===b[1];g.setRange(e?null:+c[0].toFixed(a),e?null:+c[1].toFixed(a))}}function Cy(a){var b=a._minMaxSpan={},c=a._dataZoomModel;bY(['min','max'],function(d){b[d+'Span']=c.get(d+'Span');var e=c.get(d+'ValueSpan');if(null!=e&&(b[d+'ValueSpan']=e,null!=(e=a.getAxisModel().axis.scale.parse(e)))){var f=a._dataExtent;b[d+'Span']=Eo(f[0]+e,f,[0,100],!0)}})}function Ly(b){var a={};return c4(['start','end','startValue','endValue','throttle'],function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function ky(d,b){var a=d._rangePropMode,c=d.get('rangeMode');c4([['start','startValue'],['end','endValue']],function(h,e){var f=null!=b[h[0]],g=null!=b[h[1]];f&&!g?a[e]='percent':!f&&g?a[e]='value':c?a[e]=c[e]:f&&(a[e]='percent')})}function Py(a){return {x:'y',y:'x',radius:'angle',angle:'radius'}[a]}function Ny(a){return 'vertical'===a?'ns-resize':'ew-resize'}function Oy(g,b){var c=zy(g),e=b.dataZoomId,f=b.coordId;d(c,function(c,d){var a=c.dataZoomInfos;a[e]&&l(b.allCoordIds,f)<0&&(delete a[e],c.count--)}),Vy(c);var a=c[f];a||((a=c[f]={coordId:f,dataZoomInfos:{},count:0}).controller=By(g,a),a.dispatchAction=v(Gy,g)),!a.dataZoomInfos[e]&&a.count++,a.dataZoomInfos[e]=b;var h=Fy(a.dataZoomInfos);a.controller.enable(h.controlType,h.opt),a.controller.setPointerChecker(b.containsPoint),Lr(a,'dispatchAction',b.dataZoomModel.get('throttle',!0),'fixRate')}function Ey(c,a){var b=zy(c);d(b,function(b){b.controller.dispose();var d=b.dataZoomInfos;d[a]&&(delete d[a],b.count--)}),Vy(b)}function Ry(a){return a.type+'\x00_'+a.id}function zy(b){var a=b.getZr();return a[mO]||(a[mO]={})}function By(c,a){var b=new ac(c.getZr());return d(['pan','zoom','scrollMove'],function(e){b.on(e,function(f){var b=[];d(a.dataZoomInfos,function(d){if(f.isAvailableBehavior(d.dataZoomModel.option)){var h=(d.getRange||{})[e],g=h&&h(a.controller,f);!d.dataZoomModel.get('disabled',!0)&&g&&b.push({dataZoomId:d.dataZoomId,start:g[0],end:g[1]})}}),b.length&&a.dispatchAction(b)})}),b}function Vy(a){d(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function Gy(b,a){b.dispatchAction({type:'dataZoom',batch:a})}function Fy(e){var a,b={type_true:2,type_move:1,type_false:0,type_undefined:-1},c=!0;return d(e,function(g){var d=g.dataZoomModel,f=!d.get('disabled',!0)&&(!d.get('zoomLock',!0)||'move');b['type_'+f]>b['type_'+a]&&(a=f),c&=d.get('preventDefaultMouseMove',!0)}),{controlType:a,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!c}}}function Wy(a){return function(d,f,h,i){var c=this._range,b=c.slice(),e=d.axisModels[0];if(e){var g=a(b,e,d,f,h,i);return cY(g,b,[0,100],'all'),this._range=b,c[0]!==b[0]||c[1]!==b[1]?b:void 0}}}function Hy(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function Zy(k,g,h,j){for(var e=g.targetVisuals[j],c=aC.prepareVisualTypes(e),a={color:k.getData().getVisual('color')},b=0,i=c.length;b<i;b++){var f=c[b],d=e['opacity'===f?'__alphaForOpacity':f];d&&d.applyVisual(h,function(b){return a[b]},function(c,b){a[c]=b})}return a.color}function Uy(g,f,a){if(a[0]===a[1]){return a.slice()}for(var e=(a[1]-a[0])/200,c=a[0],b=[],d=0;d<=200&&c<a[1];d++){b.push(c),c+=e}return b.push(a[1]),b}function Xy(m,j,l){var c=m.option,g=c.align;if(null!=g&&'auto'!==g){return g}for(var i={width:j.getWidth(),height:j.getHeight()},h='horizontal'===c.orient?1:0,k=[['left','right','width'],['top','bottom','height']],f=k[h],n=[0,null,10],e={},a=0;a<3;a++){e[k[1-h][a]]=n[a],e[f[a]]=2===a?l[0]:c[f[a]]}var b=[['x','width',3],['y','height',0]][h],d=la(e,i,c.padding);return f[(d.margin[b[2]]||0)+d[b[0]]+0.5*d[b[1]]<0.5*i[b[1]]?0:1]}function jy(a){return d(a||[],function(b){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}function Yy(d,b,a,c){return new aY({shape:{points:d},draggable:!!a,cursor:b,drift:a,onmousemove:function(e){bL(e.event)},ondragend:c})}function qy(b,a){return 0===b?[[0,0],[a,0],[a,-a]]:[[0,0],[a,0],[a,a]]}function Ky(d,a,b,c){return d?[[0,-f9(a,ez(b,0))],[m6,0],[0,f9(a,ez(c-b,0))]]:[[0,0],[5,-5],[5,5]]}function $y(e,c,d){var a=qY/2,b=e.get('hoverLinkDataSize');return b&&(a=bM(b,c,d,!0)/2),a}function Jy(b){var a=b.get('hoverLinkOnHandle');return !!(null==a?b.get('realtime'):a)}function Qy(a){return 'vertical'===a?'ns-resize':'ew-resize'}function tx(b,c){var a=b.inverse;('vertical'===b.orient?!a:a)&&c.reverse()}function ex(a){Ci(a,'label',['show'])}function ix(a){return !(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function nx(a){return !isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function ox(k,a,h,c,j,d){var b=[],g=hl(a,c)?a.getCalculationInfo('stackResultDimension'):c,i=hx(a,g,k),f=a.indicesOfNearest(g,i)[0];b[j]=a.get(h,f),b[d]=a.get(c,f);var e=Vo(a.get(c,f));return (e=Math.min(e,20))>=0&&(b[d]=+b[d].toFixed(e)),b}function ax(h,a){var d=h.getData(),g=h.coordinateSystem;if(a&&!nx(a)&&!y(a.coord)&&g){var f=g.dimensions,c=rx(a,d,g,h);if((a=i(a)).type&&g4[a.type]&&c.baseAxis&&c.valueAxis){var k=jH(f,c.baseAxis.dim),j=jH(f,c.valueAxis.dim);a.coord=g4[a.type](d,c.baseDataDim,c.valueDataDim,k,j),a.value=a.coord[j]}else {for(var e=[null!=a.xAxis?a.xAxis:a.radiusAxis,null!=a.yAxis?a.yAxis:a.angleAxis],b=0;b<2;b++){g4[e[b]]&&(e[b]=hx(d,d.mapDimension(f[b]),e[b]))}a.coord=e}}return a}function rx(b,c,d,e){var a={};return null!=b.valueIndex||null!=b.valueDim?(a.valueDataDim=null!=b.valueIndex?c.getDimension(b.valueIndex):b.valueDim,a.valueAxis=d.getAxis(sx(e,a.valueDataDim)),a.baseAxis=d.getOtherAxis(a.valueAxis),a.baseDataDim=c.mapDimension(a.baseAxis.dim)):(a.baseAxis=e.getBaseAxis(),a.valueAxis=d.getOtherAxis(a.baseAxis),a.baseDataDim=c.mapDimension(a.baseAxis.dim),a.valueDataDim=c.mapDimension(a.valueAxis.dim)),a}function sx(f,a){var b=f.getData(),e=b.dimensions;a=b.getDimension(a);for(var c=0;c<e.length;c++){var d=b.getDimensionInfo(e[c]);if(d.name===a){return d.coordDim}}}function lx(b,a){return !(b&&b.containData&&a.coord&&!ix(a))||b.containData(a.coord)}function ux(a,c,d,b){return b<2?a.coord&&a.coord[b]:a.value}function hx(c,a,b){if('average'===b){var d=0,e=0;return c.each(a,function(f,g){isNaN(f)||(d+=f,e++)}),d/e}return 'median'===b?c.getMedian(a):c.getDataExtent(a,!0)['max'===b?1:0]}function cx(a,c,d){var b=c.coordinateSystem;a.each(function(f){var e,i=a.getItemModel(f),h=Ro(i.get('x'),d.getWidth()),g=Ro(i.get('y'),d.getHeight());if(isNaN(h)||isNaN(g)){if(c.getMarkerPosition){e=c.getMarkerPosition(a.getValues(a.dimensions,f))}else {if(b){var k=a.get(b.dimensions[0],f),j=a.get(b.dimensions[1],f);e=b.dataToPoint([k,j])}}}else {e=[h,g]}isNaN(h)||(e[0]=h),isNaN(g)||(e[1]=g),a.setItemLayout(f,e)})}function dx(a,c,d){var e;e=a?f(a&&a.dimensions,function(b){return r({name:b},c.getData().getDimensionInfo(c.getData().mapDimension(b))||{})}):[{name:'value',type:'float'}];var h=new aH(e,d),b=f(d.get('data'),v(ax,c));return a&&(b=g(b,v(lx,a))),h.initData(b,null,a?ux:function(b){return b.value}),h}function fx(a){return !isNaN(a)&&!isFinite(a)}function px(a,b,c,d){var e=1-a,f=d.dimensions[a];return fx(b[e])&&fx(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function gx(a,b){if('cartesian2d'===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(px(1,c,d,a)||px(0,c,d,a))){return !0}}return lx(a,b[0])&&lx(a,b[1])}function mx(b,c,j,h,k){var a,d=h.coordinateSystem,m=b.getItemModel(c),f=Ro(m.get('x'),k.getWidth()),g=Ro(m.get('y'),k.getHeight());if(isNaN(f)||isNaN(g)){if(h.getMarkerPosition){a=h.getMarkerPosition(b.getValues(b.dimensions,c))}else {var e=d.dimensions,n=b.get(e[0],c),o=b.get(e[1],c);a=d.dataToPoint([n,o])}if('cartesian2d'===d.type){var i=d.getAxis('x'),l=d.getAxis('y'),e=d.dimensions;fx(b.get(e[0],c))?a[0]=i.toGlobalCoord(i.getExtent()[j?0:1]):fx(b.get(e[1],c))&&(a[1]=l.toGlobalCoord(l.getExtent()[j?0:1]))}isNaN(f)||(a[0]=f),isNaN(g)||(a[1]=g)}else {a=[f,g]}b.setItemLayout(c,a)}function vx(a,d,b){var e;e=a?f(a&&a.dimensions,function(c){return r({name:c},d.getData().getDimensionInfo(d.getData().mapDimension(c))||{})}):[{name:'value',type:'float'}];var j=new aH(e,b),i=new aH(e,b),h=new aH([],b),c=f(b.get('data'),v(pF,d,a,b));a&&(c=g(c,v(gx,a)));var k=a?ux:function(c){return c.value};return j.initData(f(c,function(c){return c[0]}),null,k),i.initData(f(c,function(c){return c[1]}),null,k),h.initData(f(c,function(c){return c[2]})),h.hasItemOption=!0,{from:j,to:i,line:h}}function yx(a){return !isNaN(a)&&!isFinite(a)}function xx(d,b,c,e){var a=1-d;return yx(b[a])&&yx(c[a])}function _x(b,a){var c=a.coord[0],d=a.coord[1];return !('cartesian2d'!==b.type||!c||!d||!xx(1,c,d,b)&&!xx(0,c,d,b))||(lx(b,{coord:c,x:a.x0,y:a.y0})||lx(b,{coord:d,x:a.x1,y:a.y1}))}function bx(e,c,a,i,m){var b,d=i.coordinateSystem,o=e.getItemModel(c),f=Ro(o.get(a[0]),m.getWidth()),g=Ro(o.get(a[1]),m.getHeight());if(isNaN(f)||isNaN(g)){if(i.getMarkerPosition){b=i.getMarkerPosition(e.getValues(a,c))}else {var h=[l=e.get(a[0],c),n=e.get(a[1],c)];d.clampData&&d.clampData(h,h),b=d.dataToPoint(h,!0)}if('cartesian2d'===d.type){var j=d.getAxis('x'),k=d.getAxis('y'),l=e.get(a[0],c),n=e.get(a[1],c);yx(l)?b[0]=j.toGlobalCoord(j.getExtent()['x0'===a[0]?0:1]):yx(n)&&(b[1]=k.toGlobalCoord(k.getExtent()['y0'===a[1]?0:1]))}isNaN(f)||(b[0]=f),isNaN(g)||(b[1]=g)}else {b=[f,g]}return b}function Sx(a,h,c){var d,b,i=['x0','y0','x1','y1'];a?(d=f(a&&a.dimensions,function(d){var b=h.getData();return r({name:d},b.getDimensionInfo(b.mapDimension(d))||{})}),b=new aH(f(i,function(e,b){return {name:e,type:d[b%2].type}}),c)):b=new aH(d=[{name:'value',type:'float'}],c);var e=f(c.get('data'),v(pb,h,a,c));a&&(e=g(e,v(_x,a)));var j=a?function(d,e,f,b){return d.coord[Math.floor(b/2)][b%2]}:function(b){return b.value};return b.initData(e,null,j),b.hasItemOption=!0,b}function Mx(a){var c=a.type,e={number:'value',time:'time'};if(e[c]&&(a.axisType=e[c],delete a.type),Ix(a),Tx(a,'controlPosition')){var b=a.controlStyle||(a.controlStyle={});Tx(b,'position')||(b.position=a.controlPosition),'none'!==b.position||Tx(b,'show')||(b.show=!1,delete b.position),delete a.controlPosition}d(a.data||[],function(b){w(b)&&!y(b)&&(!Tx(b,'value')&&Tx(b,'name')&&(b.value=b.name),Ix(b))})}function Ix(b){var e=b.itemStyle||(b.itemStyle={}),c=e.emphasis||(e.emphasis={}),a=b.label||b.label||{},f=a.normal||(a.normal={}),g={normal:1,emphasis:1};d(a,function(c,a){g[a]||Tx(f,a)||(f[a]=c)}),c.label&&!Tx(a,'emphasis')&&(a.emphasis=c.label,delete c.label)}function Tx(b,a){return b.hasOwnProperty(a)}function Ax(b,a){return la(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()},b.get('padding'))}function Dx(d,b,a,c){return Wn(d.get(b).replace(/^path:\/\//,''),i(c||{}),new ue(a[0],a[1],a[2],a[3]),'center')}function Cx(e,h,i,c,a,d){var j=h.get('color');a?(a.setColor(j),i.add(a),d&&d.onUpdate(a)):((a=Xl(e.get('symbol'),-1,-1,2,2,j)).setStyle('strokeNoScale',!0),i.add(a),d&&d.onCreate(a));var l=h.getItemStyle(['color','symbol','symbolSize']);a.setStyle(l),c=n({rectHover:!0,z2:100},c,!0);var b=e.get('symbolSize');(b=b instanceof Array?b.slice():[+b,+b])[0]/=2,b[1]/=2,c.scale=b;var f=e.get('symbolOffset');if(f){var g=c.position=c.position||[0,0];g[0]+=Ro(f[0],b[0]),g[1]+=Ro(f[1],b[1])}var k=e.get('symbolRotate');return c.rotation=(k||0)*Math.PI/180||0,a.attr(c),a.updateTransform(),a}function Lx(a,e,f,c,g){if(!a.dragging){var b=c.getModel('checkpointStyle'),d=f.dataToCoord(c.getData().get(['value'],e));g||!b.get('animation',!0)?a.attr({position:[d,0]}):(a.stopAnimation(!0),a.animateTo({position:[d,0]},b.get('animationDuration',!0),b.get('animationEasing',!0)))}}function kx(a){return 0===a.indexOf('my')}function Px(a){this.model=a}function Nx(a){this.model=a}function Ox(d){var a={},b=[],c=[];return d.eachRawSeries(function(g){var f=g.coordinateSystem;if(!f||'cartesian2d'!==f.type&&'polar'!==f.type){b.push(g)}else {var e=f.getBaseAxis();if('category'===e.type){var h=e.dim+'_'+e.index;a[h]||(a[h]={categoryAxis:e,valueAxis:f.getOtherAxis(e),series:[]},c.push({axisDim:e.dim,axisIndex:e.index})),a[h].series.push(g)}else {b.push(g)}}}),{seriesGroupByCategoryAxis:a,other:b,meta:c}}function Ex(b){var a=[];return d(b,function(e,n){var l=e.categoryAxis,m=e.valueAxis.dim,k=[' '].concat(f(e.series,function(a){return a.name})),c=[l.model.getCategories()];d(e.series,function(a){c.push(a.getRawData().mapArray(m,function(c){return c}))});for(var i=[k.join(cN)],h=0;h<c[0].length;h++){for(var j=[],g=0;g<c.length;g++){j.push(c[g][h])}i.push(j.join(cN))}a.push(i.join('\n'))}),a.join('\n\n'+fj+'\n\n')}function Rx(a){return f(a,function(e){var b=e.getRawData(),c=[e.name],d=[];return b.each(b.dimensions,function(){for(var h=arguments.length,i=arguments[h-1],g=b.getName(i),f=0;f<h-1;f++){d[f]=arguments[f]}c.push((g?g+cN:'')+d.join(cN))}),c.join('\n')}).join('\n\n'+fj+'\n\n')}function zx(b){var a=Ox(b);return {value:g([Ex(a.seriesGroupByCategoryAxis),Rx(a.other)],function(a){return a.replace(/[\n\t\s]/g,'')}).join('\n\n'+fj+'\n\n'),meta:a.meta}}function Bx(a){return a.replace(/^\s\s*/,'').replace(/\s\s*$/,'')}function Vx(a){if(a.slice(0,a.indexOf('\n')).indexOf(cN)>=0){return !0}}function Gx(h){for(var d=h.split(/\n+/g),g=[],e=f(Bx(d.shift()).split(g2),function(a){return {name:a,data:[]}}),b=0;b<d.length;b++){var c=Bx(d[b]).split(g2);g.push(c.shift());for(var a=0;a<c.length;a++){e[a]&&(e[a].data[b]=c[a])}}return {series:e,categories:g}}function Fx(j){for(var e=j.split(/\n+/g),i=Bx(e.shift()),c=[],a=0;a<e.length;a++){var b,d=Bx(e[a]).split(g2),h='',g=!1;isNaN(d[0])?(g=!0,h=d[0],d=d.slice(1),c[a]={name:h,value:[]},b=c[a].value):b=c[a]=[];for(var f=0;f<d.length;f++){b.push(+d[f])}1===b.length&&(g?c[a].value=b[0]:c[a]=b[0])}return {name:i,data:c}}function Wx(c,b){var a={series:[]};return d(c.split(new RegExp('\n*'+fj+'\n*','g')),function(g,h){if(Vx(g)){var d=Gx(g),e=b[h],f=e.axisDim+'Axis';e&&(a[f]=a[f]||[],a[f][e.axisIndex]={data:d.categories},a.series=a.series.concat(d.series))}else {d=Fx(g);a.series.push(d)}}),a}function Hx(a){this._dom=null,this.model=a}function Zx(b,a){return f(b,function(c,e){var d=a&&a[e];return w(d)&&!y(d)?(w(c)&&!y(c)&&(c=c.value),r({value:c},d)):c})}function Ux(c,b){var a=qx(c);jb(b,function(h,d){for(var e=a.length-1;e>=0&&!a[e][d];e--){}if(e<0){var f=c.queryComponents({mainType:'dataZoom',subType:'select',id:d})[0];if(f){var g=f.getPercentRange();a[0][d]={dataZoomId:d,start:g[0],end:g[1]}}}}),a.push(b)}function Xx(d){var a=qx(d),c=a[a.length-1];a.length>1&&a.pop();var b={};return jb(c,function(f,e){for(var c=a.length-1;c>=0;c--){if(f=a[c][e]){b[e]=f;break}}}),b}function jx(a){a[gZ]=null}function Yx(a){return qx(a).length}function qx(b){var a=b[gZ];return a||(a=b[gZ]=[{}]),a}function Kx(c,b,a){(this._brushController=new Cf(a.getZr())).on('brush',m(this._onBrush,this)).mount(),this._isZoomActive}function $x(b){var a={};return d(['xAxisIndex','yAxisIndex'],function(c){a[c]=b[c],null==a[c]&&(a[c]='all'),(!1===a[c]||'none'===a[c])&&(a[c]=[])}),a}function Jx(b,a){b.setIconStatus('back',Yx(a)>1?'emphasis':'normal')}function Qx(d,e,c,b,f){var a=c._isZoomActive;b&&'takeGlobalCursor'===b.type&&(a='dataZoomSelect'===b.key&&b.dataZoomSelectActive),c._isZoomActive=a,d.setIconStatus('zoom',a?'emphasis':'normal');var g=new iy($x(d.option),e,{include:['grid']});c._brushController.setPanels(g.makePanelOpts(f,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?'lineX':!a.xAxisDeclared&&a.yAxisDeclared?'lineY':'rect'})).enableBrush(!!a&&{brushType:'auto',brushStyle:{lineWidth:0,fill:'rgba(0,0,0,0.2)'}})}function t_(a){this.model=a}function e_(a){return hW(a)}function i_(){if(!mj&&aV){mj=!0;var a=aV.styleSheets;a.length<31?aV.createStyleSheet().addRule('.zrvml','behavior:url(#default#VML)'):a[0].addRule('.zrvml','behavior:url(#default#VML)')}}function n_(a){return parseInt(a,10)}function o_(d,a){i_(),this.root=d,this.storage=a;var c=document.createElement('div'),b=document.createElement('div');c.style.cssText='display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;',b.style.cssText='position:absolute;left:0;top:0;',d.appendChild(c),this._vmlRoot=b,this._vmlViewport=c,this.resize();var f=a.delFromStorage,e=a.addToStorage;a.delFromStorage=function(c){f.call(a,c),c&&c.onRemove&&c.onRemove(b)},a.addToStorage=function(c){c.onAdd&&c.onAdd(b),e.call(a,c)},this._firstPaint=!0}function a_(a){return function(){bU('In IE8.0 VML mode painter not support method "'+a+'"')}}function r_(a){return document.createElementNS(oq,a)}function s_(a){return h7(10000*a)/10000}function l_(a){return a<kH&&a>-kH}function u_(b,c){var a=c?b.textFill:b.fill;return null!=a&&a!==cD}function h_(b,c){var a=c?b.textStroke:b.stroke;return null!=a&&a!==cD}function c_(b,a){a&&d_(b,'transform','matrix('+p9.call(a,',')+')')}function d_(c,b,a){(!a||'linear'!==a.type&&'radial'!==a.type)&&('string'==typeof a&&a.indexOf('NaN')>-1&&console.log(a),c.setAttribute(b,a))}function f_(c,a,b){c.setAttributeNS('http://www.w3.org/1999/xlink',a,b)}function p_(b,a,c,f){if(u_(a,c)){var d=c?a.textFill:a.fill;d='transparent'===d?cD:d,'none'!==b.getAttribute('clip-path')&&d===cD&&(d='rgba(0, 0, 0, 0.002)'),d_(b,'fill',d),d_(b,'fill-opacity',null!=a.fillOpacity?a.fillOpacity*a.opacity:a.opacity)}else {d_(b,'fill',cD)}if(h_(a,c)){var e=c?a.textStroke:a.stroke;d_(b,'stroke',e='transparent'===e?cD:e),d_(b,'stroke-width',(c?a.textStrokeWidth:a.lineWidth)/(!c&&a.strokeNoScale?f.getLineScale():1)),d_(b,'paint-order',c?'stroke':'fill'),d_(b,'stroke-opacity',null!=a.strokeOpacity?a.strokeOpacity:a.opacity),a.lineDash?(d_(b,'stroke-dasharray',a.lineDash.join(',')),d_(b,'stroke-dashoffset',h7(a.lineDashOffset||0))):d_(b,'stroke-dasharray',''),a.lineCap&&d_(b,'stroke-linecap',a.lineCap),a.lineJoin&&d_(b,'stroke-linejoin',a.lineJoin),a.miterLimit&&d_(b,'stroke-miterlimit',a.miterLimit)}else {d_(b,'stroke',cD)}}function g_(t){for(var g=[],b=t.data,w=t.len(),a=0;a<w;){var d='',h=0;switch(b[a++]){case cE.M:d='M',h=2;break;case cE.L:d='L',h=2;break;case cE.Q:d='Q',h=4;break;case cE.C:d='C',h=6;break;case cE.A:var s=b[a++],r=b[a++],m=b[a++],k=b[a++],i=b[a++],e=b[a++],u=b[a++],l=b[a++],j=Math.abs(e),v=l_(j-eC)&&!l_(j),n=!1;n=j>=eC||!l_(j)&&(e>-g1&&e<0||e>g1)==!!l;var y=s_(s+m*mM(i)),x=s_(r+k*k6(i));v&&(e=l?eC-1.0E-4:1.0E-4-eC,n=!0,9===a&&g.push('M',y,x));var c=s_(s+m*mM(i+e)),f=s_(r+k*k6(i+e));g.push('A',s_(m),s_(k),h7(u*oJ),+n,+l,c,f);break;case cE.Z:d='Z';break;case cE.R:var c=s_(b[a++]),f=s_(b[a++]),q=s_(b[a++]),p=s_(b[a++]);g.push('M',c,f,'L',c+q,f,'L',c+q,f+p,'L',c,f+p,'L',c,f);}d&&g.push(d);for(var o=0;o<h;o++){g.push(s_(b[a++]))}}return g.join(' ')}function m_(a){return 'middle'===a?'middle':'bottom'===a?'after-edge':'hanging'}function v_(){}function y_(k,e,i,j){for(var f=0,h=e.length,g=0,d=0;f<h;f++){var a=e[f];if(a.removed){for(var c=[],b=d;b<d+a.count;b++){c.push(b)}a.indices=c,d+=a.count}else {for(var c=[],b=g;b<g+a.count;b++){c.push(b)}a.indices=c,g+=a.count,a.added||(d+=a.count)}}return e}function x_(a){return {newPos:a.newPos,components:a.components.slice(0)}}function __(e,b,a,c,d){this._zrId=e,this._svgRoot=b,this._tagNames='string'==typeof a?[a]:a,this._markLabel=c,this._domName=d||'_dom',this.nextId=0}function w_(b,a){__.call(this,b,a,['linearGradient','radialGradient'],'__gradient_in_use__')}function b_(b,a){__.call(this,b,a,'clipPath','__clippath_in_use__')}function S_(b,a){__.call(this,b,a,['filter'],'__filter_in_use__','_shadowDom')}function M_(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY||a.textShadowBlur||a.textShadowOffsetX||a.textShadowOffsetY)}function I_(a){return parseInt(a,10)}function T_(a){return a instanceof kn?ek:a instanceof hi?h1:a instanceof ak?fK:ek}function A_(b,a){return a&&b&&a.parentNode!==b}function D_(b,a,c){if(A_(b,a)&&c){var d=c.nextSibling;d?b.insertBefore(a,d):b.appendChild(a)}}function C_(a,b){if(A_(a,b)){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function L_(b,a){a&&b&&a.parentNode===b&&b.removeChild(a)}function k_(a){return a.__textSvgEl}function P_(a){return a.__svgEl}function N_(a){return function(){bU('In SVG mode painter not support method "'+a+'"')}}var pA=2311,jN=function(){return pA++},pW={},aq=pW='object'==typeof wx&&'function'==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:'undefined'==typeof document&&'undefined'!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:'undefined'==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(b){var f={},a={},d=b.match(/Firefox\/([\d.]+)/),e=b.match(/MSIE\s([\d.]+)/)||b.match(/Trident\/.+?rv:(([\d.]+))/),c=b.match(/Edge\/([\d.]+)/),g=/micromessenger/i.test(b);return d&&(a.firefox=!0,a.version=d[1]),e&&(a.ie=!0,a.version=e[1]),c&&(a.edge=!0,a.version=c[1]),g&&(a.weChat=!0),{browser:a,os:f,node:!1,canvasSupported:!!document.createElement('canvas').getContext,svgSupported:'undefined'!=typeof SVGRect,touchEventsSupported:'ontouchstart' in window&&!a.ie&&!a.edge,pointerEventsSupported:'onpointerdown' in window&&(a.edge||a.ie&&a.version>=11),domSupported:'undefined'!=typeof document}}(navigator.userAgent),jE={'[object Function]':1,'[object RegExp]':1,'[object Date]':1,'[object Error]':1,'[object CanvasGradient]':1,'[object CanvasPattern]':1,'[object Image]':1,'[object Canvas]':1},kZ={'[object Int8Array]':1,'[object Uint8Array]':1,'[object Uint8ClampedArray]':1,'[object Int16Array]':1,'[object Uint16Array]':1,'[object Int32Array]':1,'[object Uint32Array]':1,'[object Float32Array]':1,'[object Float64Array]':1},dO=Object.prototype.toString,dN=Array.prototype,qG=dN.forEach,oB=dN.filter,d3=dN.slice,qk=dN.map,qL=dN.reduce,h8={},c7=function(){return h8.createCanvas()};h8.createCanvas=function(){return document.createElement('canvas')};var fV,j6='__ec_primitive__';E.prototype={constructor:E,get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},set:function(b,a){return this.data[b]=a},each:function(b,c){void 0!==c&&(b=m(b,c));for(var a in this.data){this.data.hasOwnProperty(a)&&b(this.data[a],a)}},removeKey:function(a){delete this.data[a]}};var nE=(Object.freeze||Object)({$override:e,clone:i,merge:n,mergeAll:o,extend:a,defaults:r,createCanvas:c7,getContext:s,indexOf:l,inherits:u,mixin:h,isArrayLike:c,each:d,map:f,reduce:p,filter:g,find:function(b,c,d){if(b&&c){for(var a=0,e=b.length;a<e;a++){if(c.call(d,b[a],a,b)){return b[a]}}}},bind:m,curry:v,isArray:y,isFunction:x,isString:_,isObject:w,isBuiltInObject:b,isTypedArray:S,isDom:M,eqNaN:I,retrieve:T,retrieve2:A,retrieve3:D,slice:C,normalizeCssArray:L,assert:k,trim:P,setAsPrimitive:N,isPrimitive:O,createHashMap:R,concatArray:z,noop:B}),j3='undefined'==typeof Float32Array?Array:Float32Array,pO=X,s8=j,cI=K,b2=$,sG=(Object.freeze||Object)({create:V,copy:G,clone:F,set:W,add:H,scaleAndAdd:Z,sub:U,len:X,length:pO,lenSquare:j,lengthSquare:s8,mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(b,a){return b[0]*a[0]+b[1]*a[1]},scale:Y,normalize:q,distance:K,dist:cI,distanceSquare:$,distSquare:b2,negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:J,applyTransform:Q,min:tt,max:et});it.prototype={constructor:it,_dragStart:function(b){var a=b.target;a&&a.draggable&&(this._draggingTarget=a,a.dragging=!0,this._x=b.offsetX,this._y=b.offsetY,this.dispatchToElement(nt(a,b),'dragstart',b.event))},_drag:function(a){var c=this._draggingTarget;if(c){var e=a.offsetX,f=a.offsetY,h=e-this._x,g=f-this._y;this._x=e,this._y=f,c.drift(h,g,a),this.dispatchToElement(nt(c,a),'drag',a.event);var b=this.findHover(e,f,c).target,d=this._dropTarget;this._dropTarget=b,c!==b&&(d&&b!==d&&this.dispatchToElement(nt(d,a),'dragleave',a.event),b&&b!==d&&this.dispatchToElement(nt(b,a),'dragenter',a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(nt(b,a),'dragend',a.event),this._dropTarget&&this.dispatchToElement(nt(this._dropTarget,a),'drop',a.event),this._draggingTarget=null,this._dropTarget=null}};var mJ=Array.prototype.slice,aG=function(a){this._$handlers={},this._$eventProcessor=a};aG.prototype={constructor:aG,one:function(b,a,c,f){var d=this._$handlers;if('function'==typeof a&&(f=c,c=a,a=null),!c||!b){return this}a=ot(this,a),d[b]||(d[b]=[]);for(var e=0;e<d[b].length;e++){if(d[b][e].h===c){return this}}return d[b].push({h:c,one:!0,query:a,ctx:f||this}),this},on:function(b,a,c,f){var d=this._$handlers;if('function'==typeof a&&(f=c,c=a,a=null),!c||!b){return this}a=ot(this,a),d[b]||(d[b]=[]);for(var e=0;e<d[b].length;e++){if(d[b][e].h===c){return this}}return d[b].push({h:c,one:!1,query:a,ctx:f||this}),this},isSilent:function(b){var a=this._$handlers;return a[b]&&a[b].length},off:function(a,d){var b=this._$handlers;if(!a){return this._$handlers={},this}if(d){if(b[a]){for(var e=[],c=0,f=b[a].length;c<f;c++){b[a][c].h!==d&&e.push(b[a][c])}b[a]=e}b[a]&&0===b[a].length&&delete b[a]}else {delete b[a]}return this},trigger:function(f){var e=this._$handlers[f],c=this._$eventProcessor;if(e){var b=arguments,h=b.length;h>3&&(b=mJ.call(b,1));for(var g=e.length,d=0;d<g;){var a=e[d];if(c&&c.filter&&null!=a.query&&!c.filter(f,a.query)){d++}else {switch(h){case 1:a.h.call(a.ctx);break;case 2:a.h.call(a.ctx,b[1]);break;case 3:a.h.call(a.ctx,b[1],b[2]);break;default:a.h.apply(a.ctx,b);}a.one?(e.splice(d,1),g--):d++}}}return c&&c.afterTrigger&&c.afterTrigger(f),this},triggerWithContext:function(g){var f=this._$handlers[g],c=this._$eventProcessor;if(f){var a=arguments,h=a.length;h>4&&(a=mJ.call(a,1,a.length-1));for(var e=a[a.length-1],i=f.length,d=0;d<i;){var b=f[d];if(c&&c.filter&&null!=b.query&&!c.filter(g,b.query)){d++}else {switch(h){case 1:b.h.call(e);break;case 2:b.h.call(e,a[1]);break;case 3:b.h.call(e,a[1],a[2]);break;default:b.h.apply(e,a);}b.one?(f.splice(d,1),i--):d++}}}return c&&c.afterTrigger&&c.afterTrigger(g),this}};var iS='undefined'!=typeof window&&!!window.addEventListener,s3=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bL=iS?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},m1='silent';pt.prototype.dispose=function(){};var rV=['click','dblclick','mousewheel','mouseout','mouseup','mousedown','mousemove','contextmenu'],dj=function(d,b,a,c){aG.call(this),this.storage=d,this.painter=b,this.painterRoot=c,a=a||new pt(),this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,it.call(this),this.setHandlerProxy(a)};dj.prototype={constructor:dj,setHandlerProxy:function(a){this.proxy&&this.proxy.dispose(),a&&(d(rV,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this),this.proxy=a},mousemove:function(d){var g=d.zrX,h=d.zrY,b=this._hovered,a=b.target;a&&!a.__zr&&(a=(b=this.findHover(b.x,b.y)).target);var e=this._hovered=this.findHover(g,h),c=e.target,f=this.proxy;f.setCursor&&f.setCursor(c?c.cursor:'default'),a&&c!==a&&this.dispatchToElement(b,'mouseout',d),this.dispatchToElement(e,'mousemove',d),c&&c!==a&&this.dispatchToElement(e,'mouseover',d)},mouseout:function(b){this.dispatchToElement(this._hovered,'mouseout',b);var c,a=b.toElement||b.relatedTarget;do{a=a&&a.parentNode}while(a&&9!=a.nodeType&&!(c=a===this.painterRoot));!c&&this.trigger('globalout',{event:b})},resize:function(a){this._hovered={}},dispatch:function(c,b){var a=this[c];a&&a.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(b){var a=this.proxy;a.setCursor&&a.setCursor(b)},dispatchToElement:function(e,c,f){var a=(e=e||{}).target;if(!a||!a.silent){for(var d='on'+c,b=dt(c,e,f);a&&(a[d]&&(b.cancelBubble=a[d].call(a,b)),a.trigger(c,b),a=a.parent,!b.cancelBubble);){}b.cancelBubble||(this.trigger(c,b),this.painter&&this.painter.eachOtherLayer(function(a){'function'==typeof a[d]&&a[d].call(a,b),a.trigger&&a.trigger(c,b)}))}},findHover:function(f,d,g){for(var b=this.storage.getDisplayList(),c={x:f,y:d},a=b.length-1;a>=0;a--){var e;if(b[a]!==g&&!b[a].ignore&&(e=gt(b[a],f,d))&&(!c.topTarget&&(c.topTarget=b[a]),e!==m1)){c.target=b[a];break}}return c}},d(['click','mousedown','mouseup','mousewheel','dblclick','contextmenu'],function(a){dj.prototype[a]=function(b){var d=this.findHover(b.zrX,b.zrY),c=d.target;if('mousedown'===a){this._downEl=c,this._downPoint=[b.zrX,b.zrY],this._upEl=c}else {if('mouseup'===a){this._upEl=c}else {if('click'===a){if(this._downEl!==this._upEl||!this._downPoint||cI(this._downPoint,[b.zrX,b.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(d,a,b)}}),h(dj,aG),h(dj,it);var rD='undefined'==typeof Float32Array?Array:Float32Array,rN=(Object.freeze||Object)({create:mt,identity:vt,copy:yt,mul:xt,translate:_t,rotate:wt,scale:bt,invert:St,clone:Mt}),iN=vt,lZ=5.0E-5,bF=function(a){(a=a||{}).position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},a5=bF.prototype;a5.transform=null,a5.needLocalTransform=function(){return It(this.rotation)||It(this.position[0])||It(this.position[1])||It(this.scale[0]-1)||It(this.scale[1]-1)};var cT=[];a5.updateTransform=function(){var c=this.parent,f=c&&c.transform,d=this.needLocalTransform(),a=this.transform;if(d||f){a=a||mt(),d?this.getLocalTransform(a):iN(a),f&&(d?xt(a,c.transform,a):yt(a,c.transform)),this.transform=a;var b=this.globalScaleRatio;if(null!=b&&1!==b){this.getGlobalScale(cT);var e=cT[0]<0?-1:1,h=cT[1]<0?-1:1,i=((cT[0]-e)*b+e)/cT[0]||0,g=((cT[1]-h)*b+h)/cT[1]||0;a[0]*=i,a[1]*=i,a[2]*=g,a[3]*=g}this.invTransform=this.invTransform||mt(),St(this.invTransform,a)}else {a&&iN(a)}},a5.getLocalTransform=function(a){return bF.getLocalTransform(this,a)},a5.setTransform=function(c){var b=this.transform,a=c.dpr||1;b?c.setTransform(a*b[0],a*b[1],a*b[2],a*b[3],a*b[4],a*b[5]):c.setTransform(a,0,0,a,0,0)},a5.restoreTransform=function(b){var a=b.dpr||1;b.setTransform(a,0,0,a,0,0)};var dJ=[],hU=mt();a5.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=this.position,e=this.scale;It(b-1)&&(b=Math.sqrt(b)),It(c-1)&&(c=Math.sqrt(c)),a[0]<0&&(b=-b),a[3]<0&&(c=-c),d[0]=a[4],d[1]=a[5],e[0]=b,e[1]=c,this.rotation=Math.atan2(-a[1]/c,a[0]/b)}},a5.decomposeTransform=function(){if(this.transform){var c=this.parent,b=this.transform;c&&c.transform&&(xt(dJ,c.invTransform,b),b=dJ);var a=this.origin;a&&(a[0]||a[1])&&(hU[4]=a[0],hU[5]=a[1],xt(dJ,b,hU),dJ[4]-=a[0],dJ[5]-=a[1],b=dJ),this.setLocalTransform(b)}},a5.getGlobalScale=function(a){var b=this.transform;return a=a||[],b?(a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]),a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]),b[0]<0&&(a[0]=-a[0]),b[3]<0&&(a[1]=-a[1]),a):(a[0]=1,a[1]=1,a)},a5.transformCoordToLocal=function(d,c){var a=[d,c],b=this.invTransform;return b&&Q(a,a,b),a},a5.transformCoordToGlobal=function(d,c){var a=[d,c],b=this.transform;return b&&Q(a,a,b),a},bF.getLocalTransform=function(c,a){iN(a=a||[]);var b=c.origin,f=c.scale||[1,1],e=c.rotation||0,d=c.position||[0,0];return b&&(a[4]-=b[0],a[5]-=b[1]),bt(a,a,f),e&&wt(a,a,e),b&&(a[4]+=b[0],a[5]+=b[1]),a[4]+=d[0],a[5]+=d[1],a};var f5={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return (a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return --a*a*a+1},cubicInOut:function(a){return (a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return (a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return --a*a*a*a*a+1},quinticInOut:function(a){return (a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?0.5*Math.pow(1024,a-1):0.5*(2-Math.pow(2,-10*(a-1)))},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return (a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(b){var c,a=0.1;return 0===b?0:1===b?1:(!a||a<1?(a=1,c=0.1):c=0.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(b-=1))*Math.sin((b-c)*(2*Math.PI)/0.4))},elasticOut:function(b){var c,a=0.1;return 0===b?0:1===b?1:(!a||a<1?(a=1,c=0.1):c=0.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*b)*Math.sin((b-c)*(2*Math.PI)/0.4)+1)},elasticInOut:function(a){var c,b=0.1;return 0===a?0:1===a?1:(!b||b<1?(b=1,c=0.1):c=0.4*Math.asin(1/b)/(2*Math.PI),(a*=2)<1?b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/0.4)*-0.5:b*Math.pow(2,-10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/0.4)*0.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return (a*=2)<1?a*a*((b+1)*a-b)*0.5:0.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-f5.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceInOut:function(a){return a<0.5?0.5*f5.bounceIn(2*a):0.5*f5.bounceOut(2*a-1)+0.5}};Tt.prototype={constructor:Tt,step:function(c,f){if(this._initialized||(this._startTime=c+this._delay,this._initialized=!0),this._paused){this._pausedTime+=f}else {var a=(c-this._startTime-this._pausedTime)/this._life;if(!(a<0)){a=Math.min(a,1);var b=this.easing,d='string'==typeof b?f5[b]:b,e='function'==typeof d?d(a):a;return this.fire('frame',e),1==a?this.loop?(this.restart(c),'restart'):(this._needsRemove=!0,'destroy'):null}}},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){this[a='on'+a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var lG=function(){this.head=null,this.tail=null,this._len=0},dV=lG.prototype;dV.insert=function(b){var a=new kz(b);return this.insertEntry(a),a},dV.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},dV.remove=function(c){var a=c.prev,b=c.next;a?a.next=b:this.head=b,b?b.prev=a:this.tail=a,c.next=c.prev=null,this._len--},dV.len=function(){return this._len},dV.clear=function(){this.head=this.tail=null,this._len=0};var kz=function(a){this.value=a,this.next,this.prev},gW=function(a){this._list=new lG(),this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},hE=gW.prototype;hE.put=function(e,g){var b=this._list,d=this._map,h=null;if(null==d[e]){var f=b.len(),a=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var c=b.head;b.remove(c),delete d[c.key],h=c.value,this._lastRemovedEntry=c}a?a.value=g:a=new kz(g),a.key=e,b.insertEntry(a),d[e]=a}return h},hE.get=function(c){var a=this._map[c],b=this._list;if(null!=a){return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value}},hE.clear=function(){this._list.clear(),this._map={}};var jz={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},jJ=new gW(20),eJ=null,oZ=Wt,sj=Ht,pI=(Object.freeze||Object)({parse:zt,lift:Gt,toHex:Ft,fastLerp:Wt,fastMapToColor:oZ,lerp:Ht,mapToColor:sj,modifyHSL:Zt,modifyAlpha:Ut,stringify:Xt}),g7=Array.prototype.slice,hb=function(d,a,b,c){this._tracks={},this._target=d,this._loop=a||!1,this._getter=b||jt,this._setter=c||Yt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};hb.prototype={when:function(e,c){var b=this._tracks;for(var a in c){if(c.hasOwnProperty(a)){if(!b[a]){b[a]=[];var d=this._getter(this._target,a);if(null==d){continue}0!==e&&b[a].push({time:0,value:ie(d)})}b[a].push({time:e,value:c[a]})}}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].pause()}this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].resume()}this._paused=!1},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var b=this._doneList,c=b.length,a=0;a<c;a++){b[a].call(this)}},start:function(h,f){var a,d=this,e=0;for(var c in this._tracks){if(this._tracks.hasOwnProperty(c)){var b=ae(this,h,function(){--e||d._doneCallback()},this._tracks[c],c,f);b&&(this._clipList.push(b),e++,this.animation&&this.animation.addClip(b),a=b)}}if(a){var g=a.onframe;a.onframe=function(c,b){g(c,b);for(var a=0;a<d._onframeList.length;a++){d._onframeList[a](c,b)}}}return e||this._doneCallback(),this},stop:function(e){for(var a=this._clipList,c=this.animation,b=0;b<a.length;b++){var d=a[b];e&&d.onframe(this._target,1),c&&c.removeClip(d)}a.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var jO=1;'undefined'!=typeof window&&(jO=Math.max(window.devicePixelRatio||1,1));var e$=jO,tM=function(){},bU=tM,e4=function(){this.animators=[]};e4.prototype={constructor:e4,animate:function(g,k){var d,j=!1,b=this,i=this.__zr;if(g){var f=g.split('.'),c=b;j='shape'===f[0];for(var h=0,m=f.length;h<m;h++){c&&(c=c[f[h]])}c&&(d=c)}else {d=b}if(d){var e=b.animators,a=new hb(d,k);return a.during(function(a){b.dirty(j)}).done(function(){e.splice(l(e,a),1)}),e.push(a),i&&i.animation.addAnimator(a),a}bU('Property "'+g+'" is not existed in element '+b.id)},stopAnimation:function(d){for(var a=this.animators,c=a.length,b=0;b<c;b++){a[b].stop(d)}return a.length=0,this},animateTo:function(f,b,c,d,e,a){re(this,f,b,c,d,e,a)},animateFrom:function(f,b,c,d,e,a){re(this,f,b,c,d,e,a,!0)}};var bG=function(a){bF.call(this,a),aG.call(this,a),e4.call(this,a),this.id=a.id||jN()};bG.prototype={type:'element',name:'',__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(c,b){switch(this.draggable){case 'horizontal':b=0;break;case 'vertical':c=0;}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=c,a[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(b,a){},attrKV:function(a,b){if('position'===a||'scale'===a||'origin'===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else {this[a]=b}},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,c){if('string'==typeof a){this.attrKV(a,c)}else {if(w(a)){for(var b in a){a.hasOwnProperty(b)&&this.attrKV(b,a[b])}}}return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(c){this.__zr=c;var a=this.animators;if(a){for(var b=0;b<a.length;b++){c.animation.addAnimator(a[b])}}this.clipPath&&this.clipPath.addSelfToZr(c)},removeSelfFromZr:function(c){this.__zr=null;var a=this.animators;if(a){for(var b=0;b<a.length;b++){c.animation.removeAnimator(a[b])}}this.clipPath&&this.clipPath.removeSelfFromZr(c)}},h(bG,e4),h(bG,bF),h(bG,aG);var eM=Q,e8=Math.min,eQ=Math.max;ue.prototype={constructor:ue,union:function(a){var b=e8(a.x,this.x),c=e8(a.y,this.y);this.width=eQ(a.x+a.width,this.x+this.width)-b,this.height=eQ(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var d=[],a=[],b=[],c=[];return function(e){if(e){d[0]=b[0]=this.x,d[1]=c[1]=this.y,a[0]=c[0]=this.x+this.width,a[1]=b[1]=this.y+this.height,eM(d,d,e),eM(a,a,e),eM(b,b,e),eM(c,c,e),this.x=e8(d[0],a[0],b[0],c[0]),this.y=e8(d[1],a[1],b[1],c[1]);var f=eQ(d[0],a[0],b[0],c[0]),g=eQ(d[1],a[1],b[1],c[1]);this.width=f-this.x,this.height=g-this.y}}}(),calculateTransform:function(c){var b=this,d=c.width/b.width,e=c.height/b.height,a=mt();return _t(a,a,[-b.x,-b.y]),bt(a,a,[d,e]),_t(a,a,[c.x,c.y]),a},intersect:function(a){if(!a){return !1}a instanceof ue||(a=ue.create(a));var b=this,d=b.x,f=b.x+b.width,g=b.y,c=b.y+b.height,h=a.x,i=a.x+a.width,e=a.y,j=a.y+a.height;return !(f<h||i<d||c<e||j<g)},contain:function(c,b){var a=this;return c>=a.x&&c<=a.x+a.width&&b>=a.y&&b<=a.y+a.height},clone:function(){return new ue(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return {x:this.x,y:this.y,width:this.width,height:this.height}}},ue.create=function(a){return new ue(a.x,a.y,a.width,a.height)};var t=function(a){a=a||{},bG.call(this,a);for(var b in a){a.hasOwnProperty(b)&&(this[b]=a[b])}this._children=[],this.__storage=null,this.__dirty=!0};t.prototype={constructor:t,isGroup:!0,type:'group',silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(c){for(var b=this._children,a=0;a<b.length;a++){if(b[a].name===c){return b[a]}}},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof t&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var c=this.__zr,b=this.__storage,d=this._children,e=l(d,a);return e<0?this:(d.splice(e,1),a.parent=null,b&&(b.delFromStorage(a),a instanceof t&&a.delChildrenFromStorage(b)),c&&c.refresh(),this)},removeAll:function(){var a,b,c=this._children,d=this.__storage;for(b=0;b<c.length;b++){a=c[b],d&&(d.delFromStorage(a),a instanceof t&&a.delChildrenFromStorage(d)),a.parent=null}return c.length=0,this},eachChild:function(e,c){for(var b=this._children,a=0;a<b.length;a++){var d=b[a];e.call(c,d,a)}return this},traverse:function(d,c){for(var a=0;a<this._children.length;a++){var b=this._children[a];d.call(c,b),'group'===b.type&&b.traverse(d,c)}return this},addChildrenToStorage:function(c){for(var a=0;a<this._children.length;a++){var b=this._children[a];c.addToStorage(b),b instanceof t&&b.addChildrenToStorage(c)}},delChildrenFromStorage:function(c){for(var a=0;a<this._children.length;a++){var b=this._children[a];c.delFromStorage(b),b instanceof t&&b.delChildrenFromStorage(c)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(i){for(var a=null,b=new ue(0,0,0,0),g=i||this._children,h=[],d=0;d<g.length;d++){var c=g[d];if(!c.ignore&&!c.invisible){var e=c.getBoundingRect(),f=c.getLocalTransform(h);f?(b.copy(e),b.applyTransform(f),(a=a||b.clone()).union(b)):(a=a||e.clone()).union(e)}}return a||b}},u(t,bG);var kV=32,d$=7,h9=function(){this._roots=[],this._displayList=[],this._displayListLen=0};h9.prototype={constructor:h9,traverse:function(c,b){for(var a=0;a<this._roots.length;a++){this._roots[a].traverse(c,b)}},getDisplayList:function(b,a){return a=a||!1,b&&this.updateDisplayList(a),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var b=this._roots,c=this._displayList,a=0,d=b.length;a<d;a++){this._updateAndAddDisplayable(b[a],null,e)}c.length=this._displayListLen,aq.canvasSupported&&ve(c,ye)},_updateAndAddDisplayable:function(a,c,f){if(!a.ignore||f){a.beforeUpdate(),a.__dirty&&a.update(),a.afterUpdate();var h=a.clipPath;if(h){c=c?c.slice():[];for(var b=h,e=a;b;){b.parent=e,b.updateTransform(),c.push(b),e=b,b=b.clipPath}}if(a.isGroup){for(var i=a._children,d=0;d<i.length;d++){var g=i[d];a.__dirty&&(g.__dirty=!0),this._updateAndAddDisplayable(g,c,f)}a.__dirty=!1}else {a.__clipPaths=c,this._displayList[this._displayListLen++]=a}}},addRoot:function(a){a.__storage!==this&&(a instanceof t&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(b=0;b<this._roots.length;b++){var c=this._roots[b];c instanceof t&&c.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(a instanceof Array){for(var b=0,e=a.length;b<e;b++){this.delRoot(a[b])}}else {var d=l(this._roots,a);d>=0&&(this.delFromStorage(a),this._roots.splice(d,1),a instanceof t&&a.delChildrenFromStorage(this))}},addToStorage:function(a){return a&&(a.__storage=this,a.dirty(!1)),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ye};var qS={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},iP=function(c,b,a){return qS.hasOwnProperty(b)?a*=c.dpr:a},eV=[['shadowBlur',0],['shadowOffsetX',0],['shadowOffsetY',0],['shadowColor','#000'],['lineCap','butt'],['lineJoin','miter'],['miterLimit',10]],bP=function(a){this.extendFrom(a,!1)};bP.prototype={constructor:bP,fill:'#000',stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:'#000',textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:'inside',textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:'transparent',textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:'transparent',textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(b,f,h){for(var a=this,c=h&&h.style,d=!c,g=0;g<eV.length;g++){var i=eV[g],e=i[0];(d||a[e]!==c[e])&&(b[e]=iP(b,e,a[e]||i[1]))}if((d||a.fill!==c.fill)&&(b.fillStyle=a.fill),(d||a.stroke!==c.stroke)&&(b.strokeStyle=a.stroke),(d||a.opacity!==c.opacity)&&(b.globalAlpha=null==a.opacity?1:a.opacity),(d||a.blend!==c.blend)&&(b.globalCompositeOperation=a.blend||'source-over'),this.hasStroke()){var j=a.lineWidth;b.lineWidth=j/(this.strokeNoScale&&f&&f.getLineScale?f.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&'none'!==a},hasStroke:function(){var a=this.stroke;return null!=a&&'none'!==a&&this.lineWidth>0},extendFrom:function(b,c){if(b){for(var a in b){!b.hasOwnProperty(a)||!0!==c&&(!1===c?this.hasOwnProperty(a):null==b[a])||(this[a]=b[a])}}},set:function(a,b){'string'==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor();return a.extendFrom(this,!0),a},getGradient:function(f,b,e){for(var d=('radial'===b.type?_e:xe)(f,b,e),c=b.colorStops,a=0;a<c.length;a++){d.addColorStop(c[a].offset,c[a].color)}return d}};for(var g0=bP.prototype,hk=0;hk<eV.length;hk++){var iW=eV[hk];iW[0] in g0||(g0[iW[0]]=iW[1])}bP.getGradient=g0.getGradient;var h2=function(b,a){this.image=b,this.repeat=a,this.type='pattern'};h2.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||'repeat')};var d9=function(b,e,d){var c;d=d||e$,'string'==typeof b?c=be(b,e,d):w(b)&&(b=(c=b).id),this.id=b,this.dom=c;var a=c.style;a&&(c.onselectstart=we,a['-webkit-user-select']='none',a['user-select']='none',a['-webkit-touch-callout']='none',a['-webkit-tap-highlight-color']='rgba(0,0,0,0)',a.padding=0,a.margin=0,a['border-width']=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.dpr=d};d9.prototype={constructor:d9,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext('2d'),this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=be('back-'+this.id,this.painter,a),this.ctxBack=this.domBack.getContext('2d'),1!=a&&this.ctxBack.scale(a,a)},resize:function(f,c){var a=this.dpr,d=this.dom,e=d.style,b=this.domBack;e&&(e.width=f+'px',e.height=c+'px'),d.width=f*a,d.height=c*a,b&&(b.width=f*a,b.height=c*a,1!=a&&this.ctxBack.scale(a,a))},clear:function(k,a){var f=this.dom,b=this.ctx,d=f.width,c=f.height,a=a||this.clearColor,h=this.motionBlur&&!k,j=this.lastFrameAlpha,g=this.dpr;if(h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation='copy',this.ctxBack.drawImage(f,0,0,d/g,c/g)),b.clearRect(0,0,d,c),a&&'transparent'!==a){var e;a.colorStops?(e=a.__canvasGradient||bP.getGradient(b,a,{x:0,y:0,width:d,height:c}),a.__canvasGradient=e):a.image&&(e=h2.prototype.getCanvasPattern.call(a,b)),b.save(),b.fillStyle=e||a,b.fillRect(0,0,d,c),b.restore()}if(h){var i=this.domBack;b.save(),b.globalAlpha=j,b.drawImage(i,0,0,d,c),b.restore()}}};var iH='undefined'!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},iK=new gW(50),fA={},iR=0,s1=5000,iA=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,dG='12px sans-serif',h5={};h5.measureText=function(c,b){var a=s();return a.font=b||dG,a.measureText(c)};var rb={left:1,right:1,center:1},rB={top:1,bottom:1,middle:1},lT=[['textShadowBlur','shadowBlur',0],['textShadowOffsetX','shadowOffsetX',0],['textShadowOffsetY','shadowOffsetY',0],['textShadowColor','shadowColor','transparent']],iM=new ue(),fH=function(){};fH.prototype={constructor:fH,drawRectText:function(d,b){var a=this.style;b=a.textRect||b,this.__dirty&&Ue(a);var c=a.text;if(null!=c&&(c+=''),li(c,a)){d.save();var e=this.transform;a.transformText?this.setTransform(d):e&&(iM.copy(b),iM.applyTransform(e),b=iM),je(this,d,c,a,b),d.restore()}}},ui.prototype={constructor:ui,type:'displayable',__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:'pointer',rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(b,a){},getBoundingRect:function(){},contain:function(b,a){return this.rectContain(b,a)},traverse:function(b,a){b.call(a,this)},rectContain:function(c,b){var a=this.transformCoordToLocal(c,b);return this.getBoundingRect().contain(a[0],a[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate('style',a)},attrKV:function(b,a){'style'!==b?bG.prototype.attrKV.call(this,b,a):this.style.set(a)},setStyle:function(b,a){return this.style.set(b,a),this.dirty(!1),this},useStyle:function(a){return this.style=new bP(a,this),this.dirty(!1),this}},u(ui,bG),h(ui,fH),hi.prototype={constructor:hi,type:'image',brush:function(e,l){var a=this.style,n=a.image;a.bind(e,this,l);var d=this._image=Me(n,this._image,this,this.onload);if(d&&Te(d)){var f=a.x||0,i=a.y||0,c=a.width,b=a.height,j=d.width/d.height;if(null==c&&null!=b?c=b*j:null==b&&null!=c?b=c/j:null==c&&null==b&&(c=d.width,b=d.height),this.setTransform(e),a.sWidth&&a.sHeight){var h=a.sx||0,g=a.sy||0;e.drawImage(d,h,g,a.sWidth,a.sHeight,f,i,c,b)}else {if(a.sx&&a.sy){var k=c-(h=a.sx),m=b-(g=a.sy);e.drawImage(d,h,g,k,m,f,i,c,b)}else {e.drawImage(d,f,i,c,b)}}null!=a.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new ue(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},u(hi,ui);var iD=new ue(0,0,0,0),i$=new ue(0,0,0,0),i8=function(b,j,c){this.type='canvas';var h=!b.nodeName||'CANVAS'===b.nodeName.toUpperCase();this._opts=c=a({},c||{}),this.dpr=c.devicePixelRatio||e$,this._singleCanvas=h,this.root=b;var d=b.style;d&&(d['-webkit-tap-highlight-color']='transparent',d['-webkit-user-select']=d['user-select']=d['-webkit-touch-callout']='none',b.innerHTML=''),this.storage=j;var k=this._zlevelList=[],l=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,h){var f=b.width,g=b.height;null!=c.width&&(f=c.width),null!=c.height&&(g=c.height),this.dpr=c.devicePixelRatio||1,b.width=f*this.dpr,b.height=g*this.dpr,this._width=f,this._height=g;var e=new d9(b,this,this.dpr);e.__builtin__=!0,e.initContext(),l[314159]=e,e.zlevel=314159,k.push(314159),this._domRoot=b}else {this._width=this._getSize(0),this._height=this._getSize(1);var i=this._domRoot=mi(this._width,this._height);b.appendChild(i)}this._hoverlayer=null,this._hoverElements=[]};i8.prototype={constructor:i8,getType:function(){return 'canvas'},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a){return {offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}}},refresh:function(g){var d=this.storage.getDisplayList(!0),c=this._zlevelList;this._redrawId=Math.random(),this._paintList(d,g,this._redrawId);for(var a=0;a<c.length;a++){var e=c[a],b=this._layers[e];if(!b.__builtin__&&b.refresh){var f=0===a?this._backgroundColor:null;b.refresh(f)}}return this.refreshHover(),this},addHover:function(a,c){if(!a.__hoverMir){var b=new a.constructor({style:a.style,shape:a.shape,z:a.z,z2:a.z2,silent:a.silent});return b.__from=a,a.__hoverMir=b,c&&b.setStyle(c),this._hoverElements.push(b),b}},removeHover:function(c){var d=c.__hoverMir,a=this._hoverElements,b=l(a,d);b>=0&&a.splice(b,1),c.__hoverMir=null},clearHover:function(d){for(var a=this._hoverElements,b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var e=this._hoverElements,f=e.length,a=this._hoverlayer;if(a&&a.clear(),f){ve(e,this.storage.displayableSortFunc),a||(a=this._hoverlayer=this.getLayer(100000));var g={};a.ctx.save();for(var d=0;d<f;){var c=e[d],b=c.__from;b&&b.__zr?(d++,b.invisible||(c.transform=b.transform,c.invTransform=b.invTransform,c.__clipPaths=b.__clipPaths,this._doPaintEl(c,a,!0,g))):(e.splice(d,1),b.__hoverMir=null,f--)}a.ctx.restore()}},getHoverLayer:function(){return this.getLayer(100000)},_paintList:function(b,a,c){if(this._redrawId===c){a=a||!1,this._updateLayerStatus(b);var d=this._doPaintList(b,a);if(this._needsManuallyCompositing&&this._compositeManually(),!d){var e=this;iH(function(){e._paintList(b,a,c)})}}},_compositeManually:function(){var c=this.getLayer(314159).ctx,a=this._domRoot.width,b=this._domRoot.height;c.clearRect(0,0,a,b),this.eachBuiltinLayer(function(d){d.virtual&&c.drawImage(d.dom,0,0,a,b)})},_doPaintList:function(o,b){for(var f=[],h=0;h<this._zlevelList.length;h++){var r=this._zlevelList[h];(a=this._layers[r]).__builtin__&&a!==this._hoverlayer&&(a.__dirty||b)&&f.push(a)}for(var k=!0,i=0;i<f.length;i++){var a=f[i],g=a.ctx,p={};g.save();var c=b?a.__startIndex:a.__drawIndex,l=!b&&a.incremental&&Date.now,q=l&&Date.now(),n=a.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(a.__startIndex===a.__endIndex){a.clear(!1,n)}else {if(c===a.__startIndex){var m=o[c];m.incremental&&m.notClear&&!b||a.clear(!1,n)}}-1===c&&(console.error('For some unknown reason. drawIndex is -1'),c=a.__startIndex);for(var e=c;e<a.__endIndex;e++){var j=o[e];if(this._doPaintEl(j,a,b,p),j.__dirty=j.__dirtyText=!1,l&&Date.now()-q>15){break}}a.__drawIndex=e,a.__drawIndex<a.__endIndex&&(k=!1),p.prevElClipPaths&&g.restore(),g.restore()}return aq.wxa&&d(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),k},_doPaintEl:function(a,f,g,b){var c=f.ctx,e=a.transform;if((f.__dirty||g)&&!a.invisible&&0!==a.style.opacity&&(!e||e[0]||e[3])&&(!a.culling||!fi(a,this._width,this._height))){var d=a.__clipPaths;b.prevElClipPaths&&!pi(d,b.prevElClipPaths)||(b.prevElClipPaths&&(f.ctx.restore(),b.prevElClipPaths=null,b.prevEl=null),d&&(c.save(),gi(d,c),b.prevElClipPaths=d)),a.beforeBrush&&a.beforeBrush(c),a.brush(c,b.prevEl||null),b.prevEl=a,a.afterBrush&&a.afterBrush(c)}},getLayer:function(b,c){this._singleCanvas&&!this._needsManuallyCompositing&&(b=314159);var a=this._layers[b];return a||((a=new d9('zr_'+b,this,this.dpr)).zlevel=b,a.__builtin__=!0,this._layerConfig[b]&&n(a,this._layerConfig[b],!0),c&&(a.virtual=c),this.insertLayer(b,a),a.initContext()),a},insertLayer:function(a,b){var g=this._layers,d=this._zlevelList,i=d.length,f=null,c=-1,e=this._domRoot;if(g[a]){bU('ZLevel '+a+' has been used already')}else {if(di(b)){if(i>0&&a>d[0]){for(c=0;c<i-1&&!(d[c]<a&&d[c+1]>a);c++){}f=g[d[c]]}if(d.splice(c+1,0,a),g[a]=b,!b.virtual){if(f){var h=f.dom;h.nextSibling?e.insertBefore(b.dom,h.nextSibling):e.appendChild(b.dom)}else {e.firstChild?e.insertBefore(b.dom,e.firstChild):e.appendChild(b.dom)}}}else {bU('Layer of zlevel '+a+' is not valid')}}},eachLayer:function(e,d){var b,a,c=this._zlevelList;for(a=0;a<c.length;a++){b=c[a],e.call(d,this._layers[b],b)}},eachBuiltinLayer:function(f,e){var d,b,a,c=this._zlevelList;for(a=0;a<c.length;a++){b=c[a],(d=this._layers[b]).__builtin__&&f.call(e,d,b)}},eachOtherLayer:function(f,e){var d,b,a,c=this._zlevelList;for(a=0;a<c.length;a++){b=c[a],(d=this._layers[b]).__builtin__||f.call(e,d,b)}},getLayers:function(){return this._layers},_updateLayerStatus:function(f){function e(a){c&&(c.__endIndex!==a&&(c.__dirty=!0),c.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas){for(b=1;b<f.length;b++){if((d=f[b]).zlevel!==f[b-1].zlevel||d.incremental){this._needsManuallyCompositing=!0;break}}}for(var c=null,h=0,b=0;b<f.length;b++){var a,d=f[b],g=d.zlevel;d.incremental?((a=this.getLayer(g+0.001,this._needsManuallyCompositing)).incremental=!0,h=1):a=this.getLayer(g+(h>0?0.01:0),this._needsManuallyCompositing),a.__builtin__||bU('ZLevel '+g+' has been used by unkown layer '+a.id),a!==c&&(a.__used=!0,a.__startIndex!==b&&(a.__dirty=!0),a.__startIndex=b,a.incremental?a.__drawIndex=-1:a.__drawIndex=b,e(b),c=a),d.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=b))}e(b),this.eachBuiltinLayer(function(a,b){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,d){if(d){var b=this._layerConfig;b[a]?n(b[a],d,!0):b[a]=d;for(var e=0;e<this._zlevelList.length;e++){var c=this._zlevelList[e];c!==a&&c!==a+0.01||n(this._layers[c],b[a],!0)}}},delLayer:function(b){var c=this._layers,d=this._zlevelList,a=c[b];a&&(a.dom.parentNode.removeChild(a.dom),delete c[b],d.splice(l(d,b),1))},resize:function(b,a){if(this._domRoot.style){var c=this._domRoot;c.style.display='none';var e=this._opts;if(null!=b&&(e.width=b),null!=a&&(e.height=a),b=this._getSize(0),a=this._getSize(1),c.style.display='',this._width!=b||a!=this._height){c.style.width=b+'px',c.style.height=a+'px';for(var f in this._layers){this._layers.hasOwnProperty(f)&&this._layers[f].resize(b,a)}d(this._progressiveLayers,function(c){c.resize(b,a)}),this.refresh(!0)}this._width=b,this._height=a}else {if(null==b||null==a){return}this._width=b,this._height=a,this.getLayer(314159).resize(b,a)}return this},clearLayer:function(b){var a=this._layers[b];a&&a.clear()},dispose:function(){this.root.innerHTML='',this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(b){if(b=b||{},this._singleCanvas&&!this._compositeManually){return this._layers[314159].dom}var a=new d9('image',this,b.pixelRatio||this.dpr);if(a.initContext(),a.clear(!1,b.backgroundColor||this._backgroundColor),b.pixelRatio<=this.dpr){this.refresh();var f=a.dom.width,h=a.dom.height,i=a.ctx;this.eachLayer(function(c){c.__builtin__?i.drawImage(c.dom,0,0,f,h):c.renderToCanvas&&(a.ctx.save(),c.renderToCanvas(a.ctx),a.ctx.restore())})}else {for(var e={},d=this.storage.getDisplayList(!0),c=0;c<d.length;c++){var g=d[c];this._doPaintEl(g,a,!0,e)}}return a.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(b){var c=this._opts,a=['width','height'][b],g=['clientWidth','clientHeight'][b],h=['paddingLeft','paddingTop'][b],f=['paddingRight','paddingBottom'][b];if(null!=c[a]&&'auto'!==c[a]){return parseFloat(c[a])}var d=this.root,e=document.defaultView.getComputedStyle(d);return (d[g]||ci(e[a])||ci(d.style[a]))-(ci(e[h])||0)-(ci(e[f])||0)|0},pathToImage:function(a,b){b=b||this.dpr;var e=document.createElement('canvas'),f=e.getContext('2d'),g=a.getBoundingRect(),d=a.style,h=d.shadowBlur*b,p=d.shadowOffsetX*b,n=d.shadowOffsetY*b,i=d.hasStroke()?d.lineWidth:0,m=Math.max(i/2,-p+h),q=Math.max(i/2,p+h),k=Math.max(i/2,-n+h),r=Math.max(i/2,n+h),o=g.width+m+q,l=g.height+k+r;e.width=o*b,e.height=l*b,f.scale(b,b),f.clearRect(0,0,o,l),f.dpr=b;var c={position:a.position,rotation:a.rotation,scale:a.scale};a.position=[m-g.x,k-g.y],a.rotation=0,a.scale=[1,1],a.updateTransform(),a&&a.brush(f);var j=new hi({style:{x:0,y:0,image:e}});return null!=c.position&&(j.position=a.position=c.position),null!=c.rotation&&(j.rotation=a.rotation=c.rotation),null!=c.scale&&(j.scale=a.scale=c.scale),j}};var f7=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,aG.call(this)};f7.prototype={constructor:f7,addClip:function(a){this._clips.push(a)},addAnimator:function(c){c.animation=this;for(var b=c.getClips(),a=0;a<b.length;a++){this.addClip(b[a])}},removeClip:function(b){var a=l(this._clips,b);a>=0&&this._clips.splice(a,1)},removeAnimator:function(c){for(var b=c.getClips(),a=0;a<b.length;a++){this.removeClip(b[a])}c.animation=null},_update:function(){for(var f=(new Date()).getTime()-this._pausedTime,d=f-this._time,b=this._clips,c=b.length,e=[],g=[],a=0;a<c;a++){var i=b[a],h=i.step(f,d);h&&(e.push(h),g.push(i))}for(a=0;a<c;){b[a]._needsRemove?(b[a]=b[c-1],b.pop(),c--):a++}c=e.length;for(a=0;a<c;a++){g[a].fire(e[a])}this._time=f,this.onframe(d),this.trigger('frame',d),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){a._running&&(iH(t),!a._paused&&a._update())}var a=this;this._running=!0,iH(t)},start:function(){this._time=(new Date()).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date()).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date()).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return !this._clips.length},animate:function(c,a){var b=new hb(c,(a=a||{}).loop,a.getter,a.setter);return this.addAnimator(b),b}},h(f7,aG);var hT=function(){this._track=[]};hT.prototype={constructor:hT,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(f,g,h){var b=f.touches;if(b){for(var c={points:[],touches:[],target:g,event:f},a=0,i=b.length;a<i;a++){var e=b[a],d=rt(h,e,{});c.points.push([d.zrX,d.zrY]),c.touches.push(e)}this._track.push(c)}},_recognize:function(c){for(var a in i3){if(i3.hasOwnProperty(a)){var b=i3[a](this._track,c);if(b){return b}}}}};var i3={pinch:function(c,b){var e=c.length;if(e){var a=(c[e-1]||{}).points,f=(c[e-2]||{}).points||a;if(f&&f.length>1&&a&&a.length>1){var d=vi(a)/vi(f);!isFinite(d)&&(d=1),b.pinchScale=d;var g=yi(a);return b.pinchX=g[0],b.pinchY=g[1],{type:'pinch',target:c[0].target,event:b}}}}},fB=['click','dblclick','mousewheel','mouseout','mouseup','mousedown','mousemove','contextmenu'],hC=['touchstart','touchend','touchmove'],o3={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},j1=f(fB,function(b){var a=b.replace('mouse','pointer');return o3[a]?a:b}),aS={mousemove:function(a){a=lt(this.dom,a),this.trigger('mousemove',a)},mouseout:function(b){var a=(b=lt(this.dom,b)).toElement||b.relatedTarget;if(a!=this.dom){for(;a&&9!=a.nodeType;){if(a===this.dom){return}a=a.parentNode}}this.trigger('mouseout',b)},touchstart:function(a){(a=lt(this.dom,a)).zrByTouch=!0,this._lastTouchMoment=new Date(),_i(this,a,'start'),aS.mousemove.call(this,a),aS.mousedown.call(this,a),wi(this)},touchmove:function(a){(a=lt(this.dom,a)).zrByTouch=!0,_i(this,a,'change'),aS.mousemove.call(this,a),wi(this)},touchend:function(a){(a=lt(this.dom,a)).zrByTouch=!0,_i(this,a,'end'),aS.mouseup.call(this,a),+new Date()-this._lastTouchMoment<300&&aS.click.call(this,a),wi(this)},pointerdown:function(a){aS.mousedown.call(this,a)},pointermove:function(a){bi(a)||aS.mousemove.call(this,a)},pointerup:function(a){aS.mouseup.call(this,a)},pointerout:function(a){bi(a)||aS.mouseout.call(this,a)}};d(['click','mousedown','mouseup','mousewheel','dblclick','contextmenu'],function(a){aS[a]=function(b){b=lt(this.dom,b),this.trigger(a,b)}});var jw=Mi.prototype;jw.dispose=function(){for(var c=fB.concat(hC),a=0;a<c.length;a++){var b=c[a];ht(this.dom,xi(b),this._handlers[b])}},jw.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||'default')},h(Mi,aG);var n0=!aq.canvasSupported,eI={canvas:i8},cq={},ik=function(g,e,c){c=c||{},this.dom=e,this.id=g;var f=this,a=new h9(),b=c.renderer;if(n0){if(!eI.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}b='vml'}else {b&&eI[b]||(b='canvas')}var d=new eI[b](e,a,c,g);this.storage=a,this.painter=d;var i=aq.node||aq.worker?null:new Mi(d.getViewportRoot());this.handler=new dj(a,d,i,d.root),this.animation=new f7({stage:{update:m(this.flush,this)}}),this.animation.start(),this._needsRefresh;var h=a.delFromStorage,j=a.addToStorage;a.delFromStorage=function(b){h.call(a,b),b&&b.removeSelfFromZr(f)},a.addToStorage=function(b){j.call(a,b),b.addSelfToZr(f)}};ik.prototype={constructor:ik,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(b,a){this.painter.configLayer&&this.painter.configLayer(b,a),this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var a;this._needsRefresh&&(a=!0,this.refreshImmediately()),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately()),a&&this.trigger('rendered')},addHover:function(c,a){if(this.painter.addHover){var b=this.painter.addHover(c,a);return this.refreshHover(),b}},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(b,a){return this.painter.pathToImage(b,a)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(b,a){return this.handler.findHover(b,a)},on:function(c,a,b){this.handler.on(c,a,b)},off:function(b,a){this.handler.off(b,a)},trigger:function(b,a){this.handler.trigger(b,a)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Ai(this.id)}};var pG=(Object.freeze||Object)({version:'4.0.5',init:Ii,dispose:function(b){if(b){b.dispose()}else {for(var a in cq){cq.hasOwnProperty(a)&&cq[a].dispose()}cq={}}return this},getInstance:function(a){return cq[a]},registerPainter:Ti}),c1=d,c2=w,n4=y,kK='series\x00',nz=['fontStyle','fontWeight','fontSize','fontFamily','rich','tag','color','textBorderColor','textBorderWidth','width','height','lineHeight','align','verticalAlign','baseline','shadowColor','shadowBlur','shadowOffsetX','shadowOffsetY','textShadowColor','textShadowBlur','textShadowOffsetX','textShadowOffsetY','backgroundColor','borderColor','borderWidth','borderRadius','padding'],nP=0,qD='.',ck='___EC__COMPONENT__CONTAINER___',ob=0,c6=function(a){for(var b=0;b<a.length;b++){a[b][1]||(a[b][1]=a[b][0])}return function(h,d,e){for(var f={},b=0;b<a.length;b++){var c=a[b][1];if(!(d&&l(d,c)>=0||e&&l(e,c)<0)){var g=h.getShallow(c);null!=g&&(f[a[b][0]]=g)}}return f}},oC=c6([['lineWidth','width'],['stroke','color'],['opacity'],['shadowBlur'],['shadowOffsetX'],['shadowOffsetY'],['shadowColor']]),qW={getLineStyle:function(c){var a=oC(this,c),b=this.getLineDash(a.lineWidth);return b&&(a.lineDash=b),a},getLineDash:function(a){null==a&&(a=1);var b=this.get('type'),c=Math.max(a,2),d=4*a;return 'solid'===b||null==b?null:'dashed'===b?[d,d]:[c,c]}},qq=c6([['fill','color'],['shadowBlur'],['shadowOffsetX'],['shadowOffsetY'],['opacity'],['shadowColor']]),qM={getAreaStyle:function(b,a){return qq(this,b,a)}},fM=Math.pow,b1=Math.sqrt,fW=1.0E-8,j7=1.0E-4,jk=b1(3),eS=1/3,bj=V(),a1=V(),dk=V(),aN=Math.min,aO=Math.max,iJ=Math.sin,hX=Math.cos,cP=2*Math.PI,fZ=V(),fN=V(),f1=V(),l1=[],lI=[],aE={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},bA=[],b5=[],bB=[],bE=[],m2=Math.min,nb=Math.max,eA=Math.cos,d4=Math.sin,f4=Math.sqrt,db=Math.abs,hB='undefined'!=typeof Float32Array,aM=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};aM.prototype={constructor:aM,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(b,a){this._ux=db(1/e$/b)||0,this._uy=db(1/e$/a)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(b,a){return this.addData(aE.M,b,a),this._ctx&&this._ctx.moveTo(b,a),this._x0=b,this._y0=a,this._xi=b,this._yi=a,this},lineTo:function(b,a){var c=db(b-this._xi)>this._ux||db(a-this._yi)>this._uy||this._len<5;return this.addData(aE.L,b,a),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(b,a):this._ctx.lineTo(b,a)),c&&(this._xi=b,this._yi=a),this},bezierCurveTo:function(f,c,d,e,b,a){return this.addData(aE.C,f,c,d,e,b,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(f,c,d,e,b,a):this._ctx.bezierCurveTo(f,c,d,e,b,a)),this._xi=b,this._yi=a,this},quadraticCurveTo:function(d,c,a,b){return this.addData(aE.Q,d,c,a,b),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(d,c,a,b):this._ctx.quadraticCurveTo(d,c,a,b)),this._xi=a,this._yi=b,this},arc:function(e,c,a,d,b,f){return this.addData(aE.A,e,c,a,a,d,b-d,0,f?0:1),this._ctx&&this._ctx.arc(e,c,a,d,b,f),this._xi=eA(b)*a+e,this._yi=d4(b)*a+c,this},arcTo:function(e,a,b,c,d){return this._ctx&&this._ctx.arcTo(e,a,b,c,d),this},rect:function(d,a,b,c){return this._ctx&&this._ctx.rect(d,a,b,c),this.addData(aE.R,d,a,b,c),this},closePath:function(){this.addData(aE.Z);var c=this._ctx,a=this._x0,b=this._y0;return c&&(this._needsDash()&&this._dashedLineTo(a,b),c.closePath()),this._xi=a,this._yi=b,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var c=0,b=0;b<a.length;b++){c+=a[b]}this._dashSum=c}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(c){var a=c.length;this.data&&this.data.length==a||!hB||(this.data=new Float32Array(a));for(var b=0;b<a;b++){this.data[b]=c[b]}this._len=a},appendPath:function(b){b instanceof Array||(b=[b]);for(var f=b.length,g=0,c=this._len,a=0;a<f;a++){g+=b[a].len()}hB&&this.data instanceof Float32Array&&(this.data=new Float32Array(c+g));for(a=0;a<f;a++){for(var e=b[a].data,d=0;d<e.length;d++){this.data[c++]=e[d]}}this._len=c},addData:function(c){if(this._saveData){var a=this.data;this._len+arguments.length>a.length&&(this._expandData(),a=this.data);for(var b=0;b<arguments.length;b++){a[this._len++]=arguments[b]}this._prevCmd=c}},_expandData:function(){if(!(this.data instanceof Array)){for(var b=[],a=0;a<this._len;a++){b[a]=this.data[a]}this.data=b}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(f,e){var l,j,m=this._dashSum,g=this._dashOffset,n=this._lineDash,p=this._ctx,h=this._xi,i=this._yi,a=f-h,b=e-i,k=f4(a*a+b*b),c=h,d=i,o=n.length;for(a/=k,b/=k,g<0&&(g=m+g),c-=(g%=m)*a,d-=g*b;a>0&&c<=f||a<0&&c>=f||0==a&&(b>0&&d<=e||b<0&&d>=e);){c+=a*(l=n[j=this._dashIdx]),d+=b*l,this._dashIdx=(j+1)%o,a>0&&c<h||a<0&&c>h||b>0&&d<i||b<0&&d>i||p[j%2?'moveTo':'lineTo'](a>=0?m2(c,f):nb(c,f),b>=0?m2(d,e):nb(d,e))}a=c-f,b=d-e,this._dashOffset=-f4(a*a+b*b)},_dashedBezierTo:function(r,k,n,p,h,g){var a,e,d,j,i,u=this._dashSum,c=this._dashOffset,l=this._lineDash,q=this._ctx,m=this._xi,o=this._yi,f=Qi,s=0,b=this._dashIdx,t=l.length,v=0;for(c<0&&(c=u+c),c%=u,a=0;a<1;a+=0.1){e=f(m,r,n,h,a+0.1)-f(m,r,n,h,a),d=f(o,k,p,g,a+0.1)-f(o,k,p,g,a),s+=f4(e*e+d*d)}for(;b<t&&!((v+=l[b])>c);b++){}for(a=(v-c)/s;a<=1;){j=f(m,r,n,h,a),i=f(o,k,p,g,a),b%2?q.moveTo(j,i):q.lineTo(j,i),a+=l[b]/s,b=(b+1)%t}b%2!=0&&q.lineTo(h,g),e=h-j,d=g-i,this._dashOffset=-f4(e*e+d*d)},_dashedQuadraticTo:function(d,a,b,c){var f=b,e=c;b=(b+2*d)/3,c=(c+2*a)/3,d=(this._xi+2*d)/3,a=(this._yi+2*a)/3,this._dashedBezierTo(d,a,b,c,f,e)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,hB&&(this.data=new Float32Array(a)))},getBoundingRect:function(){bA[0]=bA[1]=bB[0]=bB[1]=Number.MAX_VALUE,b5[0]=b5[1]=bE[0]=bE[1]=-Number.MAX_VALUE;for(var b=this.data,c=0,d=0,e=0,f=0,a=0;a<b.length;){var n=b[a++];switch(1==a&&(e=c=b[a],f=d=b[a+1]),n){case aE.M:c=e=b[a++],d=f=b[a++],bB[0]=e,bB[1]=f,bE[0]=e,bE[1]=f;break;case aE.L:fn(c,d,b[a],b[a+1],bB,bE),c=b[a++],d=b[a++];break;case aE.C:pn(c,d,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],bB,bE),c=b[a++],d=b[a++];break;case aE.Q:gn(c,d,b[a++],b[a++],b[a],b[a+1],bB,bE),c=b[a++],d=b[a++];break;case aE.A:var k=b[a++],j=b[a++],l=b[a++],i=b[a++],g=b[a++],h=b[a++]+g,m=(b[a++],1-b[a++]);1==a&&(e=eA(g)*l+k,f=d4(g)*i+j),mn(k,j,l,i,g,h,m,bB,bE),c=eA(h)*l+k,d=d4(h)*i+j;break;case aE.R:fn(e=c=b[a++],f=d=b[a++],e+b[a++],f+b[a++],bB,bE);break;case aE.Z:c=e,d=f;}tt(bA,bA,bB),et(b5,b5,bE)}return 0===a&&(bA[0]=bA[1]=b5[0]=b5[1]=0),new ue(bA[0],bA[1],b5[0]-bA[0],b5[1]-bA[1])},rebuildPath:function(c){for(var h,j,d,e,n,o,b=this.data,w=this._ux,x=this._uy,s=this._len,a=0;a<s;){var v=b[a++];switch(1==a&&(h=d=b[a],j=e=b[a+1]),v){case aE.M:h=d=b[a++],j=e=b[a++],c.moveTo(d,e);break;case aE.L:n=b[a++],o=b[a++],(db(n-d)>w||db(o-e)>x||a===s-1)&&(c.lineTo(n,o),d=n,e=o);break;case aE.C:c.bezierCurveTo(b[a++],b[a++],b[a++],b[a++],b[a++],b[a++]),d=b[a-2],e=b[a-1];break;case aE.Q:c.quadraticCurveTo(b[a++],b[a++],b[a++],b[a++]),d=b[a-2],e=b[a-1];break;case aE.A:var i=b[a++],k=b[a++],f=b[a++],g=b[a++],l=b[a++],y=b[a++],u=b[a++],q=b[a++],t=f>g?f:g,r=f>g?1:f/g,p=f>g?g/f:1,m=l+y;Math.abs(f-g)>0.001?(c.translate(i,k),c.rotate(u),c.scale(r,p),c.arc(0,0,t,l,m,1-q),c.scale(1/r,1/p),c.rotate(-u),c.translate(-i,-k)):c.arc(i,k,t,l,m,1-q),1==a&&(h=eA(l)*f+i,j=d4(l)*g+k),d=eA(m)*f+i,e=d4(m)*g+k;break;case aE.R:h=d=b[a],j=e=b[a+1],c.rect(b[a++],b[a++],b[a++],b[a++]);break;case aE.Z:c.closePath(),d=h,e=j;}}}},aM.CMD=aE;var j0=2*Math.PI,dW=2*Math.PI,bQ=aM.CMD,cX=2*Math.PI,nW=1.0E-4,aL=[-1,-1,-1],aX=[-1,-1],kG=h2.prototype.getCanvasPattern,g6=Math.abs,pz=new aM(!0);kn.prototype={constructor:kn,type:'path',__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,q){var b=this.style,c=this.path||pz,g=b.hasStroke(),j=b.hasFill(),h=b.fill,i=b.stroke,l=j&&!!h.colorStops,o=g&&!!i.colorStops,r=j&&!!h.image,p=g&&!!i.image;if(b.bind(a,this,q),this.setTransform(a),this.__dirty){var d;l&&(d=d||this.getBoundingRect(),this._fillGradient=b.getGradient(a,h,d)),o&&(d=d||this.getBoundingRect(),this._strokeGradient=b.getGradient(a,i,d))}l?a.fillStyle=this._fillGradient:r&&(a.fillStyle=kG.call(h,a)),o?a.strokeStyle=this._strokeGradient:p&&(a.strokeStyle=kG.call(i,a));var e=b.lineDash,n=b.lineDashOffset,f=!!a.setLineDash,m=this.getGlobalScale();if(c.setScale(m[0],m[1]),this.__dirtyPath||e&&!f&&g?(c.beginPath(a),e&&!f&&(c.setLineDash(e),c.setLineDashOffset(n)),this.buildPath(c,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a)),j){if(null!=b.fillOpacity){k=a.globalAlpha;a.globalAlpha=b.fillOpacity*b.opacity,c.fill(a),a.globalAlpha=k}else {c.fill(a)}}if(e&&f&&(a.setLineDash(e),a.lineDashOffset=n),g){if(null!=b.strokeOpacity){var k=a.globalAlpha;a.globalAlpha=b.strokeOpacity*b.opacity,c.stroke(a),a.globalAlpha=k}else {c.stroke(a)}}e&&f&&a.setLineDash([]),null!=b.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(c,a,b){},createPathProxy:function(){this.path=new aM()},getBoundingRect:function(){var c=this._rect,f=this.style,g=!c;if(g){var d=this.path;d||(d=this.path=new aM()),this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1)),c=d.getBoundingRect()}if(this._rect=c,f.hasStroke()){var b=this._rectWithStroke||(this._rectWithStroke=c.clone());if(this.__dirty||g){b.copy(c);var a=f.lineWidth,e=f.strokeNoScale?this.getLineScale():1;f.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),e>1.0E-10&&(b.width+=a/e,b.height+=a/e,b.x-=a/e/2,b.y-=a/e/2)}return b}return c},contain:function(c,a){var f=this.transformCoordToLocal(c,a),h=this.getBoundingRect(),b=this.style;if(c=f[0],a=f[1],h.contain(c,a)){var e=this.path.data;if(b.hasStroke()){var d=b.lineWidth,g=b.strokeNoScale?this.getLineScale():1;if(g>1.0E-10&&(b.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),Ln(e,d/g,c,a))){return !0}}if(b.hasFill()){return Cn(e,c,a)}}return !1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate('shape',a)},attrKV:function(b,a){'shape'===b?(this.setShape(a),this.__dirtyPath=!0,this._rect=null):ui.prototype.attrKV.call(this,b,a)},setShape:function(a,d){var b=this.shape;if(b){if(w(a)){for(var c in a){a.hasOwnProperty(c)&&(b[c]=a[c])}}else {b[a]=d}this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&g6(a[0]-1)>1.0E-10&&g6(a[3]-1)>1.0E-10?Math.sqrt(g6(a[0]*a[3]-a[2]*a[1])):1}},kn.extend=function(a){var c=function(d){kn.call(this,d),a.style&&this.style.extendFrom(a.style,!1);var b=a.shape;if(b){this.shape=this.shape||{};var e=this.shape;for(var c in b){!e.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(e[c]=b[c])}}a.init&&a.init.call(this,d)};u(c,kn);for(var b in a){'style'!==b&&'shape'!==b&&(c.prototype[b]=a[b])}return c},u(kn,ui);var cZ=aM.CMD,pV=[[],[],[]],nw=Math.sqrt,nO=Math.atan2,qC=function(s,d){var j,f,b,e,g,c,a=s.data,t=cZ.M,p=cZ.C,l=cZ.L,m=cZ.R,n=cZ.A,r=cZ.Q;for(b=0,e=0;b<a.length;){switch(j=a[b++],e=b,f=0,j){case t:case l:f=1;break;case p:f=3;break;case r:f=2;break;case n:var o=d[4],q=d[5],h=nw(d[0]*d[0]+d[1]*d[1]),i=nw(d[2]*d[2]+d[3]*d[3]),k=nO(-d[1]/i,d[0]/h);a[b]*=h,a[b++]+=o,a[b]*=i,a[b++]+=q,a[b++]*=h,a[b++]*=i,a[b++]+=k,a[b++]+=k,e=b+=2;break;case m:c[0]=a[b++],c[1]=a[b++],Q(c,c,d),a[e++]=c[0],a[e++]=c[1],c[0]+=a[b++],c[1]+=a[b++],Q(c,c,d),a[e++]=c[0],a[e++]=c[1];}for(g=0;g<f;g++){(c=pV[g])[0]=a[b++],c[1]=a[b++],Q(c,c,d),a[e++]=c[0],a[e++]=c[1]}}},gR=Math.sqrt,eK=Math.sin,e7=Math.cos,eP=Math.PI,lb=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},hF=function(b,a){return (b[0]*a[0]+b[1]*a[1])/(lb(b)*lb(a))},k5=function(b,a){return (b[0]*a[1]<b[1]*a[0]?-1:1)*Math.acos(hF(b,a))},r4=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,qR=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,ak=function(a){ui.call(this,a)};ak.prototype={constructor:ak,type:'text',brush:function(c,d){var a=this.style;this.__dirty&&Ue(a),a.fill=a.stroke=a.shadowBlur=a.shadowColor=a.shadowOffsetX=a.shadowOffsetY=null;var b=a.text;null!=b&&(b+=''),li(b,a)&&(this.setTransform(c),je(this,c,b,a,null,d),this.restoreTransform(c))},getBoundingRect:function(){var a=this.style;if(this.__dirty&&Ue(a),!this._rect){var d=a.text;null!=d?d+='':d='';var b=De(a.text+'',a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);if(b.x+=a.x||0,b.y+=a.y||0,oi(a.textStroke,a.textStrokeWidth)){var c=a.textStrokeWidth;b.x-=c/2,b.y-=c/2,b.width+=c,b.height+=c}this._rect=b}return this._rect}},u(ak,ui);var bV=kn.extend({type:'circle',shape:{cx:0,cy:0,r:0},buildPath:function(b,a,c){c&&b.moveTo(a.cx+a.r,a.cy),b.arc(a.cx,a.cy,a.r,0,2*Math.PI,!0)}}),bO=[['shadowBlur',0],['shadowColor','#000'],['shadowOffsetX',0],['shadowOffsetY',0]],g$=function(a){return aq.browser.ie&&aq.browser.version>=11?function(){var h,e=this.__clipPaths,f=this.style;if(e){for(var g=0;g<e.length;g++){var d=e[g],c=d&&d.shape,i=d&&d.type;if(c&&('sector'===i&&c.startAngle===c.endAngle||'rect'===i&&(!c.width||!c.height))){for(b=0;b<bO.length;b++){bO[b][2]=f[bO[b][0]],f[bO[b][0]]=bO[b][1]}h=!0;break}}}if(a.apply(this,arguments),h){for(var b=0;b<bO.length;b++){f[bO[b][0]]=bO[b][2]}}}:a},bI=kn.extend({type:'sector',shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:g$(kn.prototype.brush),buildPath:function(c,a){var d=a.cx,e=a.cy,b=Math.max(a.r0||0,0),h=Math.max(a.r,0),f=a.startAngle,g=a.endAngle,j=a.clockwise,k=Math.cos(f),i=Math.sin(f);c.moveTo(k*b+d,i*b+e),c.lineTo(k*h+d,i*h+e),c.arc(d,e,h,f,g,!j),c.lineTo(Math.cos(g)*b+d,Math.sin(g)*b+e),0!==b&&c.arc(d,e,b,g,f,j),c.closePath()}}),mV=kn.extend({type:'ring',shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(d,a){var b=a.cx,c=a.cy,e=2*Math.PI;d.moveTo(b+a.r,c),d.arc(b,c,a.r,0,e,!1),d.moveTo(b+a.r0,c),d.arc(b,c,a.r0,0,e,!0)}}),rG=function(c,k){for(var a=c.length,o=[],p=0,d=1;d<a;d++){p+=K(c[d-1],c[d])}var f=p/2;f=f<a?a:f;for(d=0;d<f;d++){var h,g,i,n=d/(f-1)*(k?a:a-1),b=Math.floor(n),e=n-b,l=c[b%a];k?(h=c[(b-1+a)%a],g=c[(b+1)%a],i=c[(b+2)%a]):(h=c[0===b?b:b-1],g=c[b>a-2?a-1:b+1],i=c[b>a-3?a-1:b+2]);var j=e*e,m=e*j;o.push([zn(h[0],l[0],g[0],i[0],e,j,m),zn(h[1],l[1],g[1],i[1],e,j,m)])}return o},rX=function(b,t,s,k){var l,j,c,d,f=[],g=[],r=[],q=[];if(k){c=[1/0,1/0],d=[-1/0,-1/0];for(var a=0,e=b.length;a<e;a++){tt(c,c,b[a]),et(d,d,b[a])}tt(c,c,k[0]),et(d,d,k[1])}for(var a=0,e=b.length;a<e;a++){var m=b[a];if(s){l=b[a?a-1:e-1],j=b[(a+1)%e]}else {if(0===a||a===e-1){f.push(F(b[a]));continue}l=b[a-1],j=b[a+1]}U(g,j,l),Y(g,g,t);var n=K(m,l),o=K(m,j),p=n+o;0!==p&&(n/=p,o/=p),Y(r,g,-n),Y(q,g,o);var i=H([],m,r),h=H([],m,q);k&&(et(i,i,c),tt(i,i,d),et(h,h,c),tt(h,h,d)),f.push(i),f.push(h)}return s&&f.push(f.shift()),f},aY=kn.extend({type:'polygon',shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(b,a){Bn(b,a,!0)}}),a4=kn.extend({type:'polyline',shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:'#000',fill:null},buildPath:function(b,a){Bn(b,a,!1)}}),aA=kn.extend({type:'rect',shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(b,a){var d=a.x,e=a.y,f=a.width,c=a.height;a.r?Ze(b,a):b.rect(d,e,f,c),b.closePath()}}),aU=kn.extend({type:'line',shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:'#000',fill:null},buildPath:function(g,b){var e=b.x1,f=b.y1,d=b.x2,c=b.y2,a=b.percent;0!==a&&(g.moveTo(e,f),a<1&&(d=e*(1-a)+d*a,c=f*(1-a)+c*a),g.lineTo(d,c))},pointAt:function(b){var a=this.shape;return [a.x1*(1-b)+a.x2*b,a.y1*(1-b)+a.y2*b]}}),aP=[],iw=kn.extend({type:'bezier-curve',shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:'#000',fill:null},buildPath:function(k,a){var i=a.x1,j=a.y1,d=a.x2,c=a.y2,e=a.cpx1,f=a.cpy1,g=a.cpx2,h=a.cpy2,b=a.percent;0!==b&&(k.moveTo(i,j),null==g||null==h?(b<1&&(hn(i,e,d,b,aP),e=aP[1],d=aP[2],hn(j,f,c,b,aP),f=aP[1],c=aP[2]),k.quadraticCurveTo(e,f,d,c)):(b<1&&(on(i,e,g,d,b,aP),e=aP[1],g=aP[2],d=aP[3],on(j,f,h,c,b,aP),f=aP[1],h=aP[2],c=aP[3]),k.bezierCurveTo(e,f,g,h,d,c)))},pointAt:function(a){return Vn(this.shape,a,!1)},tangentAt:function(b){var a=Vn(this.shape,b,!0);return q(a,a)}}),m$=kn.extend({type:'arc',shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:'#000',fill:null},buildPath:function(f,a){var d=a.cx,e=a.cy,c=Math.max(a.r,0),b=a.startAngle,h=a.endAngle,i=a.clockwise,g=Math.cos(b),j=Math.sin(b);f.moveTo(g*c+d,j*c+e),f.arc(d,e,c,b,h,!i)}}),l0=kn.extend({type:'compound',shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,c=this.shape.paths,b=0;b<c.length;b++){a=a||c[b].__dirtyPath}this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var b=this.shape.paths||[],c=this.getGlobalScale(),a=0;a<b.length;a++){b[a].path||b[a].createPathProxy(),b[a].path.setScale(c[0],c[1])}},buildPath:function(d,c){for(var b=c.paths||[],a=0;a<b.length;a++){b[a].buildPath(d,b[a].shape,!0)}},afterBrush:function(){for(var b=this.shape.paths||[],a=0;a<b.length;a++){b[a].__dirtyPath=!1}},getBoundingRect:function(){return this._updatePathDirty(),kn.prototype.getBoundingRect.call(this)}}),bz=function(a){this.colorStops=a||[]};bz.prototype={constructor:bz,addColorStop:function(b,a){this.colorStops.push({offset:b,color:a})}};var cH=function(d,a,b,c,f,e){this.x=null==d?0:d,this.y=null==a?0:a,this.x2=null==b?1:b,this.y2=null==c?0:c,this.type='linear',this.global=e||!1,bz.call(this,f)};cH.prototype={constructor:cH},u(cH,bz);var fE=function(c,a,b,d,e){this.x=null==c?0.5:c,this.y=null==a?0.5:a,this.r=null==b?0.5:b,this.type='radial',this.global=e||!1,bz.call(this,d)};fE.prototype={constructor:fE},u(fE,bz),Gn.prototype.incremental=!0,Gn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Gn.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.dirty()},Gn.prototype.addDisplayables=function(c,a){a=a||!1;for(var b=0;b<c.length;b++){this.addDisplayable(c[b],a)}},Gn.prototype.eachPendingDisplayable=function(b){for(a=this._cursor;a<this._displayables.length;a++){b&&b(this._displayables[a])}for(var a=0;a<this._temporaryDisplayables.length;a++){b&&b(this._temporaryDisplayables[a])}},Gn.prototype.update=function(){this.updateTransform();for(a=this._cursor;a<this._displayables.length;a++){(b=this._displayables[a]).parent=this,b.update(),b.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this,b.update(),b.parent=null}},Gn.prototype.brush=function(c,d){for(a=this._cursor;a<this._displayables.length;a++){(b=this._displayables[a]).beforeBrush&&b.beforeBrush(c),b.brush(c,a===this._cursor?null:this._displayables[a-1]),b.afterBrush&&b.afterBrush(c)}this._cursor=a;for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.beforeBrush&&b.beforeBrush(c),b.brush(c,0===a?null:this._temporaryDisplayables[a-1]),b.afterBrush&&b.afterBrush(c)}this._temporaryDisplayables=[],this.notClear=!0};var sO=[];Gn.prototype.getBoundingRect=function(){if(!this._rect){for(var d=new ue(1/0,1/0,-1/0,-1/0),a=0;a<this._displayables.length;a++){var b=this._displayables[a],c=b.getBoundingRect().clone();b.needLocalTransform()&&c.applyTransform(b.getLocalTransform(sO)),d.union(c)}this._rect=d}return this._rect},Gn.prototype.contain=function(d,b){var c=this.transformCoordToLocal(d,b);if(this.getBoundingRect().contain(c[0],c[1])){for(var a=0;a<this._displayables.length;a++){if(this._displayables[a].contain(d,b)){return !0}}}return !1},u(Gn,ui);var dw=Math.round,fO=Math.max,f2=Math.min,f8={},bN=function(e,f){for(var d=[],g=e.length,b=0;b<g;b++){var a=e[b];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),d.push(a.path)}var c=new kn(f);return c.createPathProxy(),c.buildPath=function(a){a.appendPath(d);var b=a.getContext();b&&a.rebuildPath(b)},c},lq=R(),m5=0,a2=(Object.freeze||Object)({extendShape:Fn,extendPath:function(b,a){return Rn(b,a)},makePath:Wn,makeImage:Hn,mergePath:bN,resizePath:Un,subPixelOptimizeLine:Xn,subPixelOptimizeRect:jn,subPixelOptimize:Yn,setElementHoverStyle:no,isInEmphasis:oo,setHoverStyle:uo,setAsHoverStyleTrigger:ho,setLabelStyle:co,setTextStyle:fo,setText:function(e,d,a){var b,c={isRectText:!0};!1===a?b=!0:c.autoColor=a,po(e,d,c,b)},getFont:_o,updateProps:bo,initProps:So,getTransform:Mo,applyTransform:Io,transformDirection:To,groupTransition:Ao,clipPointsByRect:Do,clipRectByRect:function(b,a){var c=fO(b.x,a.x),f=f2(b.x+b.width,a.x+a.width),d=fO(b.y,a.y),e=f2(b.y+b.height,a.y+a.height);if(f>=c&&e>=d){return {x:c,y:d,width:f-c,height:e-d}}},createIcon:Co,Group:t,Image:hi,Text:ak,Circle:bV,Sector:bI,Ring:mV,Polygon:aY,Polyline:a4,Rect:aA,Line:aU,BezierCurve:iw,Arc:m$,IncrementalDisplayable:Gn,CompoundPath:l0,LinearGradient:cH,RadialGradient:fE,BoundingRect:ue}),p1=['textStyle','color'],o0={getTextColor:function(b){var a=this.ecModel;return this.getShallow('color')||(!b&&a?a.get(p1):null)},getFont:function(){return _o({fontStyle:this.getShallow('fontStyle'),fontWeight:this.getShallow('fontWeight'),fontSize:this.getShallow('fontSize'),fontFamily:this.getShallow('fontFamily')},this.ecModel)},getTextRect:function(a){return De(a,this.getFont(),this.getShallow('align'),this.getShallow('verticalAlign')||this.getShallow('baseline'),this.getShallow('padding'),this.getShallow('rich'),this.getShallow('truncateText'))}},oE=c6([['fill','color'],['stroke','borderColor'],['lineWidth','borderWidth'],['opacity'],['shadowBlur'],['shadowOffsetX'],['shadowOffsetY'],['shadowColor'],['textPosition'],['textAlign']]),p6={getItemStyle:function(d,c){var a=oE(this,d,c),b=this.getBorderLineDash();return b&&(a.lineDash=b),a},getBorderLineDash:function(){var a=this.get('borderType');return 'solid'===a||null==a?null:'dashed'===a?[5,5]:[1,1]}},eE=h,jF=Bi();Lo.prototype={constructor:Lo,init:null,mergeOption:function(a){n(this.option,a,!0)},get:function(a,b){return null==a?this.option:ko(this.option,this.parsePath(a),!b&&Po(this,a))},getShallow:function(c,e){var a=this.option,b=null==a?a:a[c],d=!e&&Po(this,c);return null==b&&d&&(b=d.getShallow(c)),b},getModel:function(a,b){var c,d=null==a?this.option:ko(this.option,a=this.parsePath(a));return b=b||(c=Po(this,a))&&c.getModel(a),new Lo(d,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new (0,this.constructor)(i(this.option))},setReadOnly:function(a){},parsePath:function(a){return 'string'==typeof a&&(a=a.split('.')),a},customizeGetParent:function(a){jF(this).getParent=a},isAnimationEnabled:function(){if(!aq.node){if(null!=this.option.animation){return !!this.option.animation}if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}},Xi(Lo),ji(Lo),eE(Lo,qW),eE(Lo,qM),eE(Lo,o0),eE(Lo,p6);var nT=0,j9=1.0E-4,ib=9.007199254740991E15,pE=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,o9=(Object.freeze||Object)({linearMap:Eo,parsePercent:Ro,round:zo,asc:Bo,getPrecision:Vo,getPrecisionSafe:Go,getPixelPrecision:Fo,getPercentWithPrecision:Wo,MAX_SAFE_INTEGER:ib,remRadian:Ho,isRadianAroundZero:Zo,parseDate:Uo,quantity:Xo,nice:Yo,quantile:function(c,f){var e=(c.length-1)*f+1,a=Math.floor(e),b=+c[a-1],d=e-a;return d?b+d*(c[a]-b):b},reformIntervals:qo,isNumeric:Ko}),cz=L,n3=/([&<>"'])/g,pS={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'},nk=['a','b','c','d','e','f','g'],gB=function(b,a){return '{'+b+(null==a?'':a)+'}'},kY=Oe,ok=De,n8=(Object.freeze||Object)({addCommas:$o,toCamelCase:Jo,normalizeCssArray:cz,encodeHTML:Qo,formatTpl:ta,formatTplSimple:ea,getTooltipMarker:ia,formatTime:oa,capitalFirst:aa,truncateText:kY,getTextRect:ok}),e6=d,jX=['left','right','top','bottom','width','height'],cF=[['width','left','right'],['height','top','bottom']],dX=ra,qH=(v(ra,'vertical'),v(ra,'horizontal'),{getBoxLayoutParams:function(){return {left:this.get('left'),top:this.get('top'),right:this.get('right'),bottom:this.get('bottom'),width:this.get('width'),height:this.get('height')}}}),r2=Bi(),aw=Lo.extend({type:'component',id:'',name:'',mainType:'',subType:'',componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(d,a,b,c){Lo.call(this,d,a,b,c),this.uid=No('ec_cpt_model')},init:function(b,c,a,d){this.mergeDefaultAndTheme(b,a)},mergeDefaultAndTheme:function(a,c){var b=this.layoutMode,d=b?da(a):{};n(a,c.getTheme().get(this.mainType)),n(a,this.getDefaultOption()),b&&ca(a,d,b)},mergeOption:function(b,c){n(this.option,b,!0);var a=this.layoutMode;a&&ca(this.option,b,a)},optionUpdated:function(b,a){},getDefaultOption:function(){var e=r2(this);if(!e.defaultOption){for(var c=[],a=this.constructor;a;){var f=a.prototype.defaultOption;f&&c.push(f),a=a.superClass}for(var b={},d=c.length-1;d>=0;d--){b=n(b,c[d],!0)}e.defaultOption=b}return e.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+'Index',!0),id:this.get(a+'Id',!0)})}});Ki(aw,{registerWhenExtend:!0}),function(b){var a={};b.registerSubTypeDefaulter=function(c,d){c=Zi(c),a[c.main]=d},b.determineSubType=function(e,f){var c=f.type;if(!c){var d=Zi(e).main;b.hasSubTypes(e)&&a[d]&&(c=a[d](f))}return c}}(aw),function(b,a){function i(f){var c={},e=[];return d(f,function(h){var g=n(c,h),i=o(g.originalDeps=a(h),f);g.entryCount=i.length,0===g.entryCount&&e.push(h),d(i,function(d){l(g.predecessor,d)<0&&g.predecessor.push(d);var e=n(c,d);l(e.successor,d)<0&&e.successor.push(h)})}),{graph:c,noEntryList:e}}function n(d,c){return d[c]||(d[c]={predecessor:[],successor:[]}),d[c]}function o(f,e){var c=[];return d(f,function(d){l(e,d)>=0&&c.push(d)}),c}b.topologicalTravel=function(l,m,n,o){function a(c){g[c].entryCount--,0===g[c].entryCount&&f.push(c)}if(l.length){var k=i(m),g=k.graph,f=k.noEntryList,c={};for(d(l,function(d){c[d]=!0});f.length;){var e=f.pop(),h=g[e],j=!!c[e];j&&(n.call(o,e,h.originalDeps.slice()),delete c[e]),d(h.successor,j?function(d){c[d]=!0,a(d)}:a)}d(c,function(){throw new Error('Circle dependency may exists')})}}}(aw,function(b){var a=[];return d(aw.getClassesByMainType(b),function(c){a=a.concat(c.prototype.dependencies||[])}),a=f(a,function(a){return Zi(a).main}),'dataset'!==b&&l(a,'dataset')<=0&&a.unshift('dataset'),a}),h(aw,qH);var mN='';'undefined'!=typeof navigator&&(mN=navigator.platform||'');var oR={color:['#c23531','#2f4554','#61a0a8','#d48265','#91c7ae','#749f83','#ca8622','#bda29a','#6e7074','#546570','#c4ccd3'],gradientColor:['#f6efa6','#d88273','#bf444c'],textStyle:{fontFamily:mN.match(/^Win/)?'Microsoft YaHei':'sans-serif',fontSize:12,fontStyle:'normal',fontWeight:'normal'},blendMode:null,animation:'auto',animationDuration:1000,animationDurationUpdate:300,animationEasing:'exponentialOut',animationEasingUpdate:'cubicOut',animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1},gw=Bi(),gY={clearColorPalette:function(){gw(this).colorIdx=0,gw(this).colorNameMap={}},getColorFromPalette:function(c,e,f){var b=gw(e=e||this),g=b.colorIdx||0,d=b.colorNameMap=b.colorNameMap||{};if(d.hasOwnProperty(c)){return d[c]}var h=Di(this.get('color',!0)),i=this.get('colorLayer',!0),a=null!=f&&i?pa(i,f):h;if((a=a||h)&&a.length){var j=a[g];return c&&(d[c]=j),b.colorIdx=(g+1)%a.length,j}}},pK={cartesian2d:function(f,b,d,e){var c=f.getReferringComponents('xAxis')[0],a=f.getReferringComponents('yAxis')[0];b.coordSysDims=['x','y'],d.set('x',c),d.set('y',a),ma(c)&&(e.set('x',c),b.firstCategoryDimIndex=0),ma(a)&&(e.set('y',a),b.firstCategoryDimIndex=1)},singleAxis:function(e,b,c,d){var a=e.getReferringComponents('singleAxis')[0];b.coordSysDims=['single'],c.set('single',a),ma(a)&&(d.set('single',a),b.firstCategoryDimIndex=0)},polar:function(g,b,d,e){var f=g.getReferringComponents('polar')[0],a=f.findAxisModel('radiusAxis'),c=f.findAxisModel('angleAxis');b.coordSysDims=['radius','angle'],d.set('radius',a),d.set('angle',c),ma(a)&&(e.set('radius',a),b.firstCategoryDimIndex=0),ma(c)&&(e.set('angle',c),b.firstCategoryDimIndex=1)},geo:function(d,a,b,c){a.coordSysDims=['lng','lat']},parallel:function(e,a,f,g){var c=e.ecModel,b=c.getComponent('parallel',e.get('parallelIndex')),h=a.coordSysDims=b.dimensions.slice();d(b.parallelAxisIndex,function(j,d){var b=c.getComponent('parallelAxis',j),i=h[d];f.set(i,b),ma(b)&&null==a.firstCategoryDimIndex&&(g.set(i,b),a.firstCategoryDimIndex=d)})}},cQ='original',d8='arrayRows',fJ='objectRows',fP='keyedColumns',mG='unknown',fz='typedArray',mQ='column',iU='row';va.seriesDataToSource=function(a){return new va({data:a,sourceFormat:S(a)?fz:cQ,fromDataset:!1})},ji(va);var dA=Bi(),iY='\x00_ec_inner',h3=Lo.extend({init:function(d,c,a,b){a=a||{},this.option=null,this._theme=new Lo(a),this._optionManager=b},setOption:function(a,b){k(!(iY in a),'please use chart.getOption()'),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||'recreate'===a){var f=c.mountOption('recreate'===a);this.option&&'recreate'!==a?(this.restoreData(),this.mergeOption(f)):Pa.call(this,f),b=!0}if('timeline'!==a&&'media'!==a||this.restoreData(),!a||'recreate'===a||'timeline'===a){var g=c.getTimelineOption(this);g&&(this.mergeOption(g),b=!0)}if(!a||'recreate'===a||'media'===a){var e=c.getMediaOption(this,this._api);e.length&&d(e,function(c){this.mergeOption(c,b=!0)},this)}return b},mergeOption:function(f){var b=this.option,c=this._componentsMap,e=[];_a(this),d(f,function(c,a){null!=c&&(aw.hasClass(a)?a&&e.push(a):b[a]=null==b[a]?i(c):n(b[a],c,!0))}),aw.topologicalTravel(e,aw.getAllClassMainTypes(),function(e,i){var j=Di(f[e]),g=Pi(c.get(e),j);Ni(g),d(g,function(a,c){var b=a.option;w(b)&&(a.keyInfo.mainType=e,a.keyInfo.subType=Oa(e,b,a.exist))});var h=Na(c,i);b[e]=[],c.set(e,[]),d(g,function(j,m){var d=j.exist,g=j.option;if(k(w(g)||d,'Empty component definition'),g){var n=aw.getClass(e,j.keyInfo.subType,!0);if(d&&d instanceof n){d.name=j.keyInfo.name,d.mergeOption(g,this),d.optionUpdated(g,!1)}else {var l=a({dependentModels:h,componentIndex:m},j.keyInfo);a(d=new n(g,this,this,l),l),d.init(g,this,this,l),d.optionUpdated(null,!0)}}else {d.mergeOption({},this),d.optionUpdated({},!1)}c.get(e)[m]=d,b[e][m]=d.option},this),'series'===e&&Ea(this,c.get('series'))},this),this._seriesIndicesMap=R(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var a=i(this.option);return d(a,function(b,d){if(aw.hasClass(d)){for(var c=(b=Di(b)).length-1;c>=0;c--){Ei(b[c])&&b.splice(c,1)}a[d]=b}}),delete a[iY],a},getTheme:function(){return this._theme},getComponent:function(c,b){var a=this._componentsMap.get(c);if(a){return a[b||0]}},queryComponents:function(d){var i=d.mainType;if(!i){return []}var b=d.index,e=d.id,h=d.name,a=this._componentsMap.get(i);if(!a||!a.length){return []}var c;if(null!=b){y(b)||(b=[b]),c=g(f(b,function(b){return a[b]}),function(a){return !!a})}else {if(null!=e){var j=y(e);c=g(a,function(a){return j&&l(e,a.id)>=0||!j&&a.id===e})}else {if(null!=h){var k=y(h);c=g(a,function(a){return k&&l(h,a.name)>=0||!k&&a.name===h})}else {c=a.slice()}}}return Ra(c,d)},findComponents:function(b){var d=b.query,a=b.mainType,c=function(c){var d=a+'Index',e=a+'Id',f=a+'Name';return !c||null==c[d]&&null==c[e]&&null==c[f]?null:{mainType:a,index:c[d],id:c[e],name:c[f]}}(d);return function(a){return b.filter?g(a,b.filter):a}(Ra(c?this.queryComponents(c):this._componentsMap.get(a),b))},eachComponent:function(a,b,c){var e=this._componentsMap;'function'==typeof a?(c=b,b=a,e.each(function(f,e){d(f,function(g,d){b.call(c,e,g,d)})})):_(a)?d(e.get(a),b,c):w(a)&&d(this.findComponents(a),b,c)},getSeriesByName:function(a){return g(this._componentsMap.get('series'),function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get('series')[a]},getSeriesByType:function(a){return g(this._componentsMap.get('series'),function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get('series').slice()},getSeriesCount:function(){return this._componentsMap.get('series').length},eachSeries:function(b,a){d(this._seriesIndices,function(c){var d=this._componentsMap.get('series')[c];b.call(a,d,c)},this)},eachRawSeries:function(b,a){d(this._componentsMap.get('series'),b,a)},eachSeriesByType:function(c,a,b){d(this._seriesIndices,function(d){var e=this._componentsMap.get('series')[d];e.subType===c&&a.call(b,e,d)},this)},eachRawSeriesByType:function(c,a,b){return d(this.getSeriesByType(c),a,b)},isSeriesFiltered:function(a){return null==this._seriesIndicesMap.get(a.componentIndex)},getCurrentSeriesIndices:function(){return (this._seriesIndices||[]).slice()},filterSeries:function(b,a){Ea(this,g(this._componentsMap.get('series'),b,a))},restoreData:function(c){var a=this._componentsMap;Ea(this,a.get('series'));var b=[];a.each(function(d,a){b.push(a)}),aw.topologicalTravel(b,aw.getAllClassMainTypes(),function(b,e){d(a.get(b),function(a){('series'!==b||!La(a,c))&&a.restoreData()})})}});h(h3,gY);var q7=['getDom','getZr','getWidth','getHeight','getDevicePixelRatio','dispatchAction','isDisposed','on','off','getDataURL','getConnectedDataURL','getModel','getOption','getViewOfComponentModel','getViewOfSeriesModel'],h0={};Ba.prototype={constructor:Ba,create:function(c,b){var a=[];d(h0,function(e,f){var d=e.create(c,b);a=a.concat(d||[])}),this._coordinateSystems=a},update:function(b,a){d(this._coordinateSystems,function(c){c.update&&c.update(b,a)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ba.register=function(b,a){h0[b]=a},Ba.get=function(a){return h0[a]};var fD=d,cM=i,fG=f,mw=n,tq=/^(min|max)?(.+)$/;Va.prototype={constructor:Va,setOption:function(c,e){c&&d(Di(c.series),function(a){a&&a.data&&S(a.data)&&N(a.data)}),c=cM(c,!0);var b=this._optionBackup,a=Ga.call(this,c,e,!b);this._newBaseOption=a.baseOption,b?(Za(b.baseOption,a.baseOption),a.timelineOptions.length&&(b.timelineOptions=a.timelineOptions),a.mediaList.length&&(b.mediaList=a.mediaList),a.mediaDefault&&(b.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(b){var a=this._optionBackup;return this._timelineOptions=fG(a.timelineOptions,cM),this._mediaList=fG(a.mediaList,cM),this._mediaDefault=cM(a.mediaDefault),this._currentMediaIndices=[],cM(b?a.baseOption:this._newBaseOption)},getTimelineOption:function(d){var a,b=this._timelineOptions;if(b.length){var c=d.getComponent('timeline');c&&(a=cM(b[c.getCurrentIndex()],!0))}return a},getMediaOption:function(i){var f=this._api.getWidth(),g=this._api.getHeight(),b=this._mediaList,d=this._mediaDefault,a=[],e=[];if(!b.length&&!d){return e}for(var c=0,h=b.length;c<h;c++){Fa(b[c].query,f,g)&&a.push(c)}return !a.length&&d&&(a=[-1]),a.length&&!Ha(a,this._currentMediaIndices)&&(e=fG(a,function(a){return cM(-1===a?d.option:b[a].option)})),this._currentMediaIndices=a,e}};var a6=d,ew=w,lk=['areaStyle','lineStyle','nodeStyle','linkStyle','chordStyle','label','labelLine'],tB=function(a,c){a6($a(a.series),function(b){ew(b)&&Ka(b)});var b=['xAxis','yAxis','radiusAxis','angleAxis','singleAxis','parallelAxis','radar'];c&&b.push('valueAxis','categoryAxis','logAxis','timeAxis'),a6(b,function(b){a6($a(a[b]),function(d){d&&(Ya(d,'axisLabel'),Ya(d.axisPointer,'label'))})}),a6($a(a.parallel),function(d){var b=d&&d.parallelAxisDefault;Ya(b,'axisLabel'),Ya(b&&b.axisPointer,'label')}),a6($a(a.calendar),function(b){Xa(b,'itemStyle'),Ya(b,'dayLabel'),Ya(b,'monthLabel'),Ya(b,'yearLabel')}),a6($a(a.radar),function(b){Ya(b,'name')}),a6($a(a.geo),function(b){ew(b)&&(qa(b),a6($a(b.regions),function(d){qa(d)}))}),a6($a(a.timeline),function(b){qa(b),Xa(b,'label'),Xa(b,'itemStyle'),Xa(b,'controlStyle',!0);var e=b.data;y(e)&&d(e,function(d){w(d)&&(Xa(d,'label'),Xa(d,'itemStyle'))})}),a6($a(a.toolbox),function(b){Xa(b,'iconStyle'),a6(b.feature,function(d){Xa(d,'iconStyle')})}),Ya(Ja(a.axisPointer),'label'),Ya(Ja(a.tooltip).axisPointer,'label')},q4=[['x','left'],['y','top'],['x2','right'],['y2','bottom']],p0=['grid','geo','parallel','legend','toolbox','title','visualMap','dataZoom','timeline'],kb=function(a,b){tB(a,b),a.series=Di(a.series),d(a.series,function(c){if(w(c)){var d=c.type;if('pie'!==d&&'gauge'!==d||null!=c.clockWise&&(c.clockwise=c.clockWise),'gauge'===d){var e=Qa(c,'pointer.color');null!=e&&tr(c,'itemStyle.normal.color',e)}er(c)}}),a.dataRange&&(a.visualMap=a.dataRange),d(p0,function(e){var c=a[e];c&&(y(c)||(c=[c]),d(c,function(c){er(c)}))})},gU=nr.prototype;gU.pure=!1,gU.persistent=!0,gU.getSource=function(){return this._source};var p5={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+this._source.startIndex]},appendData:rr},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var b=[],c=this._data,a=0;a<c.length;a++){var d=c[a];b.push(d?d[e]:null)}return b},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:or,getItem:ar,appendData:rr},keyedColumns:{pure:!0,count:function(){var b=this._source.dimensionsDefine[0].name,a=this._data[b];return a?a.length:0},getItem:function(e){for(var b=[],c=this._source.dimensionsDefine,a=0;a<c.length;a++){var d=this._data[c[a].name];b.push(d?d[e]:null)}return b},appendData:function(b){var a=this._data;d(b,function(e,d){for(var f=a[d]||(a[d]=[]),c=0;c<(e||[]).length;c++){f.push(e[c])}})}},original:{count:or,getItem:ar,appendData:rr},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(c,a){c-=this._offset,a=a||[];for(var d=this._dimSize*c,b=0;b<this._dimSize;b++){a[b]=this._data[d+b]}return a},appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}}},nH={arrayRows:sr,objectRows:function(a,d,b,c){return null!=b?a[c]:a},keyedColumns:sr,original:function(c,d,b,e){var a=Li(c);return null!=b&&a instanceof Array?a[b]:a},typedArray:sr},nZ={arrayRows:lr,objectRows:function(b,a,c,d){return ur(b[a],this._dimensionInfos[a])},keyedColumns:lr,original:function(a,c,e,d){var b=a&&(null==a.value?a:a.value);return !this._rawData.pure&&ki(a)&&(this.hasItemOption=!0),ur(b instanceof Array?b[d]:b,this._dimensionInfos[c])},typedArray:function(b,c,d,a){return b[a]}},nR=/\{@(.+?)\}/g,g3={getDataParams:function(a,d){var b=this.getData(d),i=this.getRawValue(a,d),j=b.getRawIndex(a),h=b.getName(a),k=b.getRawDataItem(a),g=b.getItemVisual(a,'color'),f=this.ecModel.getComponent('tooltip'),l=Hi(f&&f.get('renderMode')),e=this.mainType,c='series'===e;return {componentType:e,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:h,dataIndex:j,data:k,dataType:d,value:i,color:g,marker:ia({color:g,renderMode:l}),$vars:['seriesName','name','value']}},getFormattedLabel:function(d,b,f,g,h){b=b||'normal';var e=this.getData(f),i=e.getItemModel(d),a=this.getDataParams(d,f);null!=g&&a.value instanceof Array&&(a.value=a.value[g]);var c=i.get('normal'===b?[h||'label','formatter']:[b,h||'label','formatter']);return 'function'==typeof c?(a.status=b,c(a)):'string'==typeof c?ta(c,a).replace(nR,function(i,a){var c=a.length;return '['===a.charAt(0)&&']'===a.charAt(c-1)&&(a=+a.slice(1,c-1)),hr(e,d,a)}):void 0},getRawValue:function(b,a){return hr(this.getData(a),b)},formatTooltip:function(){}},b3=fr.prototype;b3.perform=function(a){function e(b){return !(b>=1)&&(b=1),b}var c=this._upstream,k=a&&a.skip;if(this._dirty&&c){var n=this.context;n.data=n.outputData=c.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var h;this._plan&&!k&&(h=this._plan(this.context));var p=e(this._modBy),q=this._modDataCount||0,d=e(a&&a.modBy),g=a&&a.modDataCount||0;p===d&&q===g||(h='reset');var m;(this._dirty||'reset'===h)&&(this._dirty=!1,m=gr(this,k)),this._modBy=d,this._modDataCount=g;var l=a&&a.step;if(this._dueEnd=c?c._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var i=this._dueIndex,b=Math.min(null!=l?this._dueIndex+l:1/0,this._dueEnd);if(!k&&(m||i<b)){var f=this._progress;if(y(f)){for(var j=0;j<f.length;j++){pr(this,f[j],i,b,d,g)}}else {pr(this,f,i,b,d,g)}}this._dueIndex=b;var o=null!=this._settedOutputEnd?this._settedOutputEnd:b;this._outputDueEnd=o}else {this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd}return this.unfinished()};var kC=function(){function t(){return a<d?a++:null}function e(){var e=a%f*c+Math.ceil(a/f),g=a>=d?null:e<b?e:a;return a++,g}var d,a,c,b,f,g={reset:function(j,k,i,h){a=j,d=k,c=i,b=h,f=Math.ceil(b/c),g.next=c>1&&b>0?e:t}};return g}();b3.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},b3.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},b3.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},b3.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},b3.getUpstream=function(){return this._upstream},b3.getDownstream=function(){return this._downstream},b3.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a};var dR=Bi(),aD=aw.extend({type:'series.__base__',seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:'itemStyle.color',layoutMode:null,init:function(c,d,b,e){this.seriesIndex=this.componentIndex,this.dataTask=dr({count:yr,reset:xr}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(c,b),wa(this);var a=this.getInitialData(c,b);wr(a,this),this.dataTask.context.data=a,dR(this).dataBeforeProcessed=a,mr(this)},mergeDefaultAndTheme:function(a,d){var b=this.layoutMode,e=b?da(a):{},c=this.subType;aw.hasClass(c)&&(c+='Series'),n(a,d.getTheme().get(this.subType)),n(a,this.getDefaultOption()),Ci(a,'label',['show']),this.fillDataTextStyle(a.data),b&&ca(a,e,b)},mergeOption:function(a,d){a=n(this.option,a,!0),this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&ca(this.option,a,c),wa(this);var b=this.getInitialData(a,d);wr(b,this),this.dataTask.dirty(),this.dataTask.context.data=b,dR(this).dataBeforeProcessed=b,mr(this)},fillDataTextStyle:function(a){if(a&&!S(a)){for(var c=['show'],b=0;b<a.length;b++){a[b]&&a[b].label&&Ci(a[b],'label',c)}}},getInitialData:function(){},appendData:function(a){this.getRawData().appendData(a.data)},getData:function(c){var a=Sr(this);if(a){var b=a.context.data;return null==c?b:b.getLinkedData(c)}return dR(this).data},setData:function(b){var a=Sr(this);if(a){var c=a.context;c.data!==b&&a.modifyOutputEnd&&a.setOutputEnd(b.count()),c.outputData=b,a!==this.dataTask&&(c.data=b)}dR(this).data=b},getSource:function(){return xa(this)},getRawData:function(){return dR(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(g,l,z,c){function o(a){return {renderMode:c,content:Qo($o(a)),style:f}}var t=this,x='html'===(c=c||'html')?'<br/>':'\n',v='richText'===c,f={},j=0,b=this.getData(),h=b.mapDimension('defaultedTooltip',!0),m=h.length,i=this.getRawValue(g),u=y(i),a=b.getItemVisual(g,'color');w(a)&&a.colorStops&&(a=(a.colorStops[0]||{}).color),a=a||'transparent';var n=(m>1||u&&!m?function(k){function o(i,r){var d=b.getDimensionInfo(r);if(d&&!1!==d.otherDims.tooltip){var n=d.type,o='sub'+t.seriesIndex+'at'+j,h=ia({color:a,type:'subItem',renderMode:c,markerId:o}),q='string'==typeof h?h:h.content,p=(m?q+Qo(d.displayName||'-')+': ':'')+Qo('ordinal'===n?i+'':'time'===n?l?'':oa('yyyy/MM/dd hh:mm:ss',i):$o(i));p&&e.push(p),v&&(f[o]=a,++j)}}var m=p(k,function(e,f,d){var a=b.getDimensionInfo(d);return e|=a&&!1!==a.tooltip&&null!=a.displayName},0),e=[];h.length?d(h,function(a){o(hr(b,g,a),a)}):d(k,o);var i=m?v?'\n':'<br/>':'',n=i+e.join(i||', ');return {renderMode:c,content:n,style:f}}(i):o(m?hr(b,g,h[0]):u?i[0]:i)).content,s=t.seriesIndex+'at'+j,k=ia({color:a,type:'item',renderMode:c,markerId:s});f[s]=a,++j;var r=b.getName(g),e=this.name;Oi(this)||(e=''),e=e?Qo(e)+(l?': ':x):'';var q='string'==typeof k?k:k.content;return {html:l?q+e+n:e+q+(r?Qo(r)+': '+n:n),markers:f}},isAnimationEnabled:function(){if(aq.node){return !1}var a=this.getShallow('animation');return a&&this.getData().count()>this.getShallow('animationThreshold')&&(a=!1),a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(d,b,c){var e=this.ecModel,a=gY.getColorFromPalette.call(this,d,b,c);return a||(a=e.getColorFromPalette(d,b,c)),a},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get('progressive')},getProgressiveThreshold:function(){return this.get('progressiveThreshold')},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});h(aD,g3),h(aD,gY);var a8=function(){this.group=new t(),this.uid=No('viewComponent')};a8.prototype={constructor:a8,init:function(b,a){},render:function(d,a,b,c){},dispose:function(){},filterForExposedEvent:null};var hw=a8.prototype;hw.updateView=hw.updateLayout=hw.updateVisual=function(d,a,b,c){},Xi(a8),Ki(a8,{registerWhenExtend:!0});var dK=function(){var a=Bi();return function(c){var b=a(c),d=c.pipelineContext,f=b.large,e=b.progressiveRender,g=b.large=d.large,h=b.progressiveRender=d.progressiveRender;return !!(f^g||e^h)&&'reset'}},jA=Bi(),qB=dK();Mr.prototype={type:'chart',init:function(b,a){},render:function(d,a,b,c){},highlight:function(b,c,d,a){Tr(b.getData(),a,'emphasis')},downplay:function(b,c,d,a){Tr(b.getData(),a,'normal')},remove:function(b,a){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var gP=Mr.prototype;gP.updateView=gP.updateLayout=gP.updateVisual=function(d,a,b,c){this.render(d,a,b,c)},Xi(Mr),Ki(Mr,{registerWhenExtend:!0}),Mr.markUpdateMethod=function(b,a){jA(b).updateMethod=a};var n7={incrementalPrepareRender:{progress:function(b,a){a.view.incrementalRender(b,a.model,a.ecModel,a.api,a.payload)}},render:{forceFirstProgress:!0,progress:function(b,a){a.view.render(a.model,a.ecModel,a.api,a.payload)}}},e5='\x00__throttleOriginMethod',jV='\x00__throttleRate',k8='\x00__throttleType',qb={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,d){var b=a.getData(),e=(a.visualColorAccessPath||'itemStyle.color').split('.'),c=a.get(e)||a.getColorFromPalette(a.name,null,d.getSeriesCount());if(b.setVisual('color',c),!d.isSeriesFiltered(a)){'function'!=typeof c||c instanceof bz||b.each(function(e){b.setItemVisual(e,'color',c(a.getDataParams(e)))});return {dataEach:b.hasItemOption?function(f,b){var c=f.getItemModel(b).get(e,!0);null!=c&&f.setItemVisual(b,'color',c)}:null}}}},b0={toolbox:{brush:{title:{rect:'',polygon:'',lineX:'',lineY:'',keep:'',clear:''}},dataView:{title:'',lang:['','','']},dataZoom:{title:{zoom:'',back:''}},magicType:{title:{line:'',bar:'',stack:'',tiled:''}},restore:{title:''},saveAsImage:{title:'',lang:['']}},series:{typeNames:{pie:'',bar:'',line:'',scatter:'',effectScatter:'',radar:'',tree:'',treemap:'',boxplot:'',candlestick:'K',k:'K',heatmap:'',map:'',parallel:'',lines:'',graph:'',sankey:'',funnel:'',gauge:'',pictorialBar:'',themeRiver:'',sunburst:''}},aria:{general:{withTitle:'\u201c{title}\u201d',withoutTitle:''},series:{single:{prefix:'',withName:'{seriesType}{seriesName}',withoutName:'{seriesType}'},multiple:{prefix:'{seriesCount}',withName:'{seriesId}{seriesName}{seriesType}',withoutName:'{seriesId}{seriesType}',separator:{middle:'',end:''}}},data:{allData:'\u2014\u2014',partialData:'{displayCnt}\u2014\u2014',withName:'{name}{value}',withoutName:'{value}',separator:{middle:'',end:''}}}},r0=function(j,c){function i(b,e){if('string'!=typeof b){return b}var a=b;return d(e,function(f,d){a=a.replace(new RegExp('\\{\\s*'+d+'\\s*\\}','g'),f)}),a}function n(g){var e=a.get(g);if(null==e){for(var f=g.split('.'),b=b0.aria,d=0;d<f.length;++d){b=b[f[d]]}return b}return e}function o(a){return b0.series.typeNames[a]||''}var a=c.getModel('aria');if(a.get('show')){if(a.get('description')){j.setAttribute('aria-label',a.get('description'))}else {var b=0;c.eachSeries(function(d,a){++b},this);var e,f=a.get('data.maxCount')||10,l=a.get('series.maxCount')||10,k=Math.min(b,l);if(!(b<1)){var g=function(){var a=c.getModel('title').option;return a&&a.length&&(a=a[0]),a&&a.text}();e=g?i(n('general.withTitle'),{title:g}):n('general.withoutTitle');var h=[];e+=i(n(b>1?'series.multiple.prefix':'series.single.prefix'),{seriesCount:b}),c.eachSeries(function(g,q){if(q<k){var a,s=g.get('name'),p='series.'+(b>1?'multiple':'single')+'.';a=i(a=n(s?p+'withName':p+'withoutName'),{seriesId:g.seriesIndex,seriesName:g.get('name'),seriesType:o(g.subType)});var d=g.getData();window.data=d,d.count()>f?a+=i(n('data.partialData'),{displayCnt:f}):a+=n('data.allData');for(var l=[],e=0;e<d.count();e++){if(e<f){var m=d.getName(e),r=hr(d,e);l.push(i(n(m?'data.withName':'data.withoutName'),{name:m,value:r}))}}a+=l.join(n('data.separator.middle'))+n('data.separator.end'),h.push(a)}}),e+=h.join(n('series.multiple.separator.middle'))+n('series.multiple.separator.end'),j.setAttribute('aria-label',e)}}}},fb=Math.PI,aZ=Pr.prototype;aZ.restoreData=function(b,a){b.restoreData(a),this._stageTaskMap.each(function(d){var c=d.overallTask;c&&c.dirty()})},aZ.getPerformArgs=function(d,f){if(d.__pipeline){var a=this._pipelineMap.get(d.__pipeline.id),b=a.context,e=!f&&a.progressiveEnabled&&(!b||b.progressiveRender)&&d.__idxInPipeline>a.blockIndex?a.step:null,c=b&&b.modDataCount;return {step:e,modBy:null!=c?Math.ceil(c/e):null,modDataCount:c}}},aZ.getPipeline=function(a){return this._pipelineMap.get(a)},aZ.updateStreamModes=function(a,e){var b=this._pipelineMap.get(a.uid),c=a.getData().count(),f=b.progressiveEnabled&&e.incrementalPrepareRender&&c>=b.threshold,d=a.get('large')&&c>=a.get('largeThreshold'),g='mod'===a.get('progressiveChunkMode')?c:null;a.pipelineContext=b.context={progressiveRender:f,modDataCount:g,large:d}},aZ.restorePipelines=function(c){var a=this,b=a._pipelineMap=R();c.eachSeries(function(d){var e=d.getProgressive(),f=d.uid;b.set(f,{id:f,head:null,tail:null,threshold:d.getProgressiveThreshold(),progressiveEnabled:e&&!(d.preventIncremental&&d.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),Zr(a,d,d.dataTask)})},aZ.prepareStageTasks=function(){var c=this._stageTaskMap,a=this.ecInstance.getModel(),b=this.api;d(this._allHandlers,function(d){var e=c.get(d.uid)||c.set(d.uid,[]);d.reset&&Or(this,d,e,a,b),d.overallReset&&Er(this,d,e,a,b)},this)},aZ.prepareView=function(d,c,e,f){var b=d.renderTask,a=b.context;a.model=c,a.ecModel=e,a.api=f,b.__block=!d.incrementalPrepareRender,Zr(this,c,b)},aZ.performDataProcessorTasks=function(b,a){Nr(this,this._dataProcessorHandlers,b,a,{block:!0})},aZ.performVisualTasks=function(c,a,b){Nr(this,this._visualHandlers,c,a,b)},aZ.performSeriesTasks=function(b){var a;b.eachSeries(function(c){a|=c.dataTask.perform()}),this.unfinished|=a},aZ.plan=function(){this._pipelineMap.each(function(b){var a=b.tail;do{if(a.__block){b.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})};var j5=aZ.updatePayload=function(b,a){'remain'!==a&&(b.context.payload=a)},nC=Wr(0);Pr.wrapStageHandler=function(a,b){return x(a)&&(a={overallReset:a,seriesType:Ur(a)}),a.uid=No('stageHandler'),b&&(a.visualType=b),a};var eR,dT={},mX={};Xr(dT,h3),Xr(mX,za),dT.eachSeriesByType=dT.eachRawSeriesByType=function(a){eR=a},dT.eachComponent=function(a){'series'===a.mainType&&a.subType&&(eR=a.subType)};var lO=['#37A2DA','#32C5E9','#67E0E3','#9FE6B8','#FFDB5C','#ff9f7f','#fb7293','#E062AE','#E690D1','#e7bcf3','#9d96f5','#8378EA','#96BFFF'],rZ={color:lO,colorLayer:[['#37A2DA','#ffd85c','#fd7b5f'],['#37A2DA','#67E0E3','#FFDB5C','#ff9f7f','#E062AE','#9d96f5'],['#37A2DA','#32C5E9','#9FE6B8','#FFDB5C','#ff9f7f','#fb7293','#e7bcf3','#8378EA','#96BFFF'],lO]},iG=['#dd6b66','#759aa0','#e69d87','#8dc1a9','#ea7e53','#eedd78','#73a373','#73b9bc','#7289ab','#91ca8c','#f49f42'],mI={color:iG,backgroundColor:'#333',tooltip:{axisPointer:{lineStyle:{color:'#eee'},crossStyle:{color:'#eee'}}},legend:{textStyle:{color:'#eee'}},textStyle:{color:'#eee'},title:{textStyle:{color:'#eee'}},toolbox:{iconStyle:{normal:{borderColor:'#eee'}}},dataZoom:{textStyle:{color:'#eee'}},visualMap:{textStyle:{color:'#eee'}},timeline:{lineStyle:{color:'#eee'},itemStyle:{normal:{color:iG[1]}},label:{normal:{textStyle:{color:'#eee'}}},controlStyle:{normal:{color:'#eee',borderColor:'#eee'}}},timeAxis:{axisLine:{lineStyle:{color:'#eee'}},axisTick:{lineStyle:{color:'#eee'}},axisLabel:{textStyle:{color:'#eee'}},splitLine:{lineStyle:{type:'dashed',color:'#aaa'}},splitArea:{areaStyle:{color:'#eee'}}},logAxis:{axisLine:{lineStyle:{color:'#eee'}},axisTick:{lineStyle:{color:'#eee'}},axisLabel:{textStyle:{color:'#eee'}},splitLine:{lineStyle:{type:'dashed',color:'#aaa'}},splitArea:{areaStyle:{color:'#eee'}}},valueAxis:{axisLine:{lineStyle:{color:'#eee'}},axisTick:{lineStyle:{color:'#eee'}},axisLabel:{textStyle:{color:'#eee'}},splitLine:{lineStyle:{type:'dashed',color:'#aaa'}},splitArea:{areaStyle:{color:'#eee'}}},categoryAxis:{axisLine:{lineStyle:{color:'#eee'}},axisTick:{lineStyle:{color:'#eee'}},axisLabel:{textStyle:{color:'#eee'}},splitLine:{lineStyle:{type:'dashed',color:'#aaa'}},splitArea:{areaStyle:{color:'#eee'}}},line:{symbol:'circle'},graph:{color:iG},gauge:{title:{textStyle:{color:'#eee'}}},candlestick:{itemStyle:{normal:{color:'#FD1050',color0:'#0CF49B',borderColor:'#FD1050',borderColor0:'#0CF49B'}}}};mI.categoryAxis.splitLine.show=!1,aw.extend({type:'dataset',defaultOption:{seriesLayoutBy:mQ,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){ya(this)}}),a8.extend({type:'dataset'});var q1=kn.extend({type:'ellipse',shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,f){var i=0.5522848,a=f.cx,b=f.cy,c=f.rx,d=f.ry,h=c*i,g=d*i;e.moveTo(a-c,b),e.bezierCurveTo(a-c,b-g,a-h,b-d,a,b-d),e.bezierCurveTo(a+h,b-d,a+c,b-g,a+c,b),e.bezierCurveTo(a+c,b+g,a+h,b+d,a,b+d),e.bezierCurveTo(a-h,b+d,a-c,b+g,a-c,b),e.closePath()}}),b6=/[\s,]+/;Yr.prototype.parse=function(l,d){d=d||{};var e=jr(l);if(!e){throw new Error('Illegal svg')}var b=new t();this._root=b;var k=e.getAttribute('viewBox')||'',a=parseFloat(e.getAttribute('width')||d.width),c=parseFloat(e.getAttribute('height')||d.height);isNaN(a)&&(a=null),isNaN(c)&&(c=null),Jr(e,b,null,!0);for(var h=e.firstChild;h;){this._parseNode(h,b),h=h.nextSibling}var g,i;if(k){var f=P(k).split(b6);f.length>=4&&(g={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(g&&null!=a&&null!=c&&(i=is(g,a,c),!d.ignoreViewBox)){var j=b;(b=new t()).add(j),j.scale=i.scale.slice(),j.position=i.position.slice()}return d.ignoreRootClip||null==a||null==c||b.setClipPath(new aA({shape:{x:0,y:0,width:a,height:c}})),{root:b,width:a,height:c,viewBoxRect:g,viewBoxTransform:i}},Yr.prototype._parseNode=function(c,g){var b=c.nodeName.toLowerCase();'defs'===b?this._isDefine=!0:'text'===b&&(this._isText=!0);var d;if(this._isDefine){if(e=sw[b]){var h=e.call(this,c),f=c.getAttribute('id');f&&(this._defs[f]=h)}}else {var e=s0[b];e&&(d=e.call(this,c,g),g.add(d))}for(var a=c.firstChild;a;){1===a.nodeType&&this._parseNode(a,d),3===a.nodeType&&this._isText&&this._parseText(a,d),a=a.nextSibling}'defs'===b?this._isDefine=!1:'text'===b&&(this._isText=!1)},Yr.prototype._parseText=function(b,d){if(1===b.nodeType){var e=b.getAttribute('dx')||0,f=b.getAttribute('dy')||0;this._textX+=parseFloat(e),this._textY+=parseFloat(f)}var a=new ak({style:{text:b.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Kr(d,a),Jr(b,a,this._defs);var c=a.style.fontSize;c&&c<9&&(a.style.fontSize=9,a.scale=a.scale||[1,1],a.scale[0]*=c/9,a.scale[1]*=c/9);var g=a.getBoundingRect();return this._textX+=g.width,d.add(a),a};var s0={g:function(c,b){var a=new t();return Kr(b,a),Jr(c,a,this._defs),a},rect:function(a,c){var b=new aA();return Kr(c,b),Jr(a,b,this._defs),b.setShape({x:parseFloat(a.getAttribute('x')||0),y:parseFloat(a.getAttribute('y')||0),width:parseFloat(a.getAttribute('width')||0),height:parseFloat(a.getAttribute('height')||0)}),b},circle:function(b,c){var a=new bV();return Kr(c,a),Jr(b,a,this._defs),a.setShape({cx:parseFloat(b.getAttribute('cx')||0),cy:parseFloat(b.getAttribute('cy')||0),r:parseFloat(b.getAttribute('r')||0)}),a},line:function(a,c){var b=new aU();return Kr(c,b),Jr(a,b,this._defs),b.setShape({x1:parseFloat(a.getAttribute('x1')||0),y1:parseFloat(a.getAttribute('y1')||0),x2:parseFloat(a.getAttribute('x2')||0),y2:parseFloat(a.getAttribute('y2')||0)}),b},ellipse:function(a,c){var b=new q1();return Kr(c,b),Jr(a,b,this._defs),b.setShape({cx:parseFloat(a.getAttribute('cx')||0),cy:parseFloat(a.getAttribute('cy')||0),rx:parseFloat(a.getAttribute('rx')||0),ry:parseFloat(a.getAttribute('ry')||0)}),b},polygon:function(c,d){var a=c.getAttribute('points');a&&(a=$r(a));var b=new aY({shape:{points:a||[]}});return Kr(d,b),Jr(c,b,this._defs),b},polyline:function(c,d){var b=new kn();Kr(d,b),Jr(c,b,this._defs);var a=c.getAttribute('points');return a&&(a=$r(a)),new a4({shape:{points:a||[]}})},image:function(a,c){var b=new hi();return Kr(c,b),Jr(a,b,this._defs),b.setStyle({image:a.getAttribute('xlink:href'),x:a.getAttribute('x'),y:a.getAttribute('y'),width:a.getAttribute('width'),height:a.getAttribute('height')}),b},text:function(a,d){var e=a.getAttribute('x')||0,f=a.getAttribute('y')||0,g=a.getAttribute('dx')||0,c=a.getAttribute('dy')||0;this._textX=parseFloat(e)+parseFloat(g),this._textY=parseFloat(f)+parseFloat(c);var b=new t();return Kr(d,b),Jr(a,b,this._defs),b},tspan:function(a,f){var c=a.getAttribute('x'),d=a.getAttribute('y');null!=c&&(this._textX=parseFloat(c)),null!=d&&(this._textY=parseFloat(d));var g=a.getAttribute('dx')||0,e=a.getAttribute('dy')||0,b=new t();return Kr(f,b),Jr(a,b,this._defs),this._textX+=g,this._textY+=e,b},path:function(b,c){var a=En(b.getAttribute('d')||'');return Kr(c,a),Jr(b,a,this._defs),a}},sw={lineargradient:function(a){var c=parseInt(a.getAttribute('x1')||0,10),d=parseInt(a.getAttribute('y1')||0,10),e=parseInt(a.getAttribute('x2')||10,10),f=parseInt(a.getAttribute('y2')||0,10),b=new cH(c,d,e,f);return qr(a,b),b},radialgradient:function(a){}},dF={fill:'fill',stroke:'stroke','stroke-width':'lineWidth',opacity:'opacity','fill-opacity':'fillOpacity','stroke-opacity':'strokeOpacity','stroke-dasharray':'lineDash','stroke-dashoffset':'lineDashOffset','stroke-linecap':'lineCap','stroke-linejoin':'lineJoin','stroke-miterlimit':'miterLimit','font-family':'fontFamily','font-size':'fontSize','font-style':'fontStyle','font-weight':'fontWeight','text-align':'textAlign','alignment-baseline':'textBaseline'},rU=/url\(\s*#(.*?)\)/,q9=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,lJ=/([^\s:;]+)\s*:\s*([^:;]+)/g,lS=R(),fT={registerMap:function(e,a,c){var b;return y(a)?b=a:a.svg?b=[{type:'svg',source:a.svg,specialAreas:a.specialAreas}]:(a.geoJson&&!a.features&&(c=a.specialAreas,a=a.geoJson),b=[{type:'geoJSON',source:a,specialAreas:c}]),d(b,function(d){var b=d.type;'geoJson'===b&&(b=d.type='geoJSON'),(0,rQ[b])(d)}),lS.set(e,b)},retrieveMap:function(a){return lS.get(a)}},rQ={geoJSON:function(b){var a=b.source;b.geoJSON=_(a)?'undefined'!=typeof JSON&&JSON.parse?JSON.parse(a):(new Function('return ('+a+');'))():a},svg:function(a){a.svgXML=jr(a.source)}},sC=k,aJ=d,tG=x,eB=w,hS=aw.parseClassType,tC={zrender:'4.0.5'},lE=1000,kM=1000,kq=3000,c$={PROCESSOR:{FILTER:lE,STATISTIC:5000},VISUAL:{LAYOUT:kM,GLOBAL:2000,CHART:kq,COMPONENT:4000,BRUSH:5000}},bk='__flagInMainProcess',bR='__optionUpdated',jI=/^[a-zA-Z0-9_]+$/;as.prototype.on=os('on'),as.prototype.off=os('off'),as.prototype.one=os('one'),h(as,aG);var az=rs.prototype;az._onframe=function(){if(!this._disposed){var a=this._scheduler;if(this[bR]){var c=this[bR].silent;this[bk]=!0,ls(this),bW.update.call(this),this[bk]=!1,this[bR]=!1,ds.call(this,c),fs.call(this,c)}else {if(a.unfinished){var d=1,b=this._model;this._api;a.unfinished=!1;do{var e=+new Date();a.performSeriesTasks(b),a.performDataProcessorTasks(b),hs(this,b),a.performVisualTasks(b),xs(this,this._model,0,'remain'),d-=+new Date()-e}while(d>0&&a.unfinished);a.unfinished||this._zr.flush()}}}},az.getDom=function(){return this._dom},az.getZr=function(){return this._zr},az.setOption=function(g,a,d){var b;if(eB(a)&&(d=a.lazyUpdate,b=a.silent,a=a.notMerge),this[bk]=!0,!this._model||a){var e=new Va(this._api),c=this._theme,f=this._model=new h3(null,null,c,e);f.scheduler=this._scheduler,f.init(null,null,c,e)}this._model.setOption(g,jM),d?(this[bR]={silent:b},this[bk]=!1):(ls(this),bW.update.call(this),this._zr.flush(),this[bR]=!1,this[bk]=!1,ds.call(this,b),fs.call(this,b))},az.setTheme=function(){console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0')},az.getModel=function(){return this._model},az.getOption=function(){return this._model&&this._model.getOption()},az.getWidth=function(){return this._zr.getWidth()},az.getHeight=function(){return this._zr.getHeight()},az.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},az.getRenderedCanvas=function(a){if(aq.canvasSupported){return (a=a||{}).pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get('backgroundColor'),this._zr.painter.getRenderedCanvas(a)}},az.getSvgDataUrl=function(){if(aq.svgSupported){var a=this._zr;return d(a.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),a.painter.pathToDataUrl()}},az.getDataURL=function(a){var d=(a=a||{}).excludeComponents,e=this._model,b=[],f=this;aJ(d,function(c){e.eachComponent({mainType:c},function(e){var d=f._componentsMap[e.__viewId];d.group.ignore||(b.push(d),d.group.ignore=!0)})});var c='svg'===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL('image/'+(a&&a.type||'png'));return aJ(b,function(b){b.group.ignore=!1}),c},az.getConnectedDataURL=function(b){if(aq.canvasSupported){var j=this.group,l=Math.min,m=Math.max;if(eL[j]){var c=1/0,f=1/0,h=-1/0,g=-1/0,n=[],a=b&&b.pixelRatio||1;d(cj,function(d,k){if(d.group===j){var e=d.getRenderedCanvas(i(b)),a=d.getDom().getBoundingClientRect();c=l(a.left,c),f=l(a.top,f),h=m(a.right,h),g=m(a.bottom,g),n.push({dom:e,left:a.left,top:a.top})}});var o=(h*=a)-(c*=a),p=(g*=a)-(f*=a),e=c7();e.width=o,e.height=p;var k=Ii(e);return aJ(n,function(d){var e=new hi({style:{x:d.left*a-c,y:d.top*a-f,image:d.dom}});k.add(e)}),k.refreshImmediately(),e.toDataURL('image/'+(b&&b.type||'png'))}return this.getDataURL(b)}},az.convertToPixel=v(ss,'convertToPixel'),az.convertFromPixel=v(ss,'convertFromPixel'),az.containPixel=function(b,c){var a;return b=Vi(this._model,b),d(b,function(f,e){e.indexOf('Models')>=0&&d(f,function(h){var g=h.coordinateSystem;if(g&&g.containPoint){a|=!!g.containPoint(c)}else {if('seriesModels'===e){var d=this._chartsMap[h.__viewId];d&&d.containPoint&&(a|=d.containPoint(c,h))}}},this)},this),!!a},az.getVisual=function(a,c){var b=(a=Vi(this._model,a,{defaultMainType:'series'})).seriesModel.getData(),d=a.hasOwnProperty('dataIndexInside')?a.dataIndexInside:a.hasOwnProperty('dataIndex')?b.indexOfRawIndex(a.dataIndex):null;return null!=d?b.getItemVisual(d,c):b.getVisual(c)},az.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},az.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var bW={prepareAndUpdate:function(a){ls(this),bW.update.call(this,a)},update:function(e){var a=this._model,c=this._api,h=this._zr,f=this._coordSysMgr,b=this._scheduler;if(a){b.restoreData(a,e),b.performSeriesTasks(a),f.create(a,c),b.performDataProcessorTasks(a,e),hs(this,a),f.update(a,c),ms(a),b.performVisualTasks(a,e),vs(this,a,c,e);var d=a.get('backgroundColor')||'transparent';if(aq.canvasSupported){h.setBackgroundColor(d)}else {var g=zt(d);d=Xt(g,'rgb'),0===g[3]&&(d='transparent')}_s(a,c)}},updateTransform:function(c){var a=this._model,d=this,e=this._api;if(a){var f=[];a.eachComponent(function(i,h){var b=d.getViewOfComponentModel(h);if(b&&b.__alive){if(b.updateTransform){var g=b.updateTransform(h,a,e,c);g&&g.update&&f.push(b)}else {f.push(b)}}});var b=R();a.eachSeries(function(f){var g=d._chartsMap[f.__viewId];if(g.updateTransform){var h=g.updateTransform(f,a,e,c);h&&h.update&&b.set(f.uid,1)}else {b.set(f.uid,1)}}),ms(a),this._scheduler.performVisualTasks(a,c,{setDirty:!0,dirtyMap:b}),xs(d,a,0,c,b),_s(a,this._api)}},updateView:function(b){var a=this._model;a&&(Mr.markUpdateMethod(b,'updateView'),ms(a),this._scheduler.performVisualTasks(a,b,{setDirty:!0}),vs(this,this._model,this._api,b),_s(a,this._api))},updateVisual:function(a){bW.update.call(this,a)},updateLayout:function(a){bW.update.call(this,a)}};az.resize=function(a){this._zr.resize(a);var b=this._model;if(this._loadingFX&&this._loadingFX.resize(),b){var d=b.resetOption('media'),c=a&&a.silent;this[bk]=!0,d&&ls(this),bW.update.call(this),this[bk]=!1,ds.call(this,c),fs.call(this,c)}},az.showLoading=function(a,b){if(eB(a)&&(b=a,a=''),a=a||'default',this.hideLoading(),hJ[a]){var c=hJ[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},az.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},az.makeActionFromEvent=function(c){var b=a({},c);return b.type=eX[c.type],b},az.dispatchAction=function(b,a){eB(a)||(a={silent:!!a}),eZ[b.type]&&this._model&&(this[bk]?this._pendingActions.push(b):(cs.call(this,b,a.silent),a.flush?this._zr.flush(!0):!1!==a.flush&&aq.browser.weChat&&this._throttledZrFlush(),ds.call(this,a.silent),fs.call(this,a.silent)))},az.appendData=function(a){var b=a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a),this._scheduler.unfinished=!0},az.on=os('on'),az.off=os('off'),az.one=os('one');var r9=['click','dblclick','mouseover','mouseout','mousemove','mousedown','mouseup','globalout','contextmenu'];az._initEvents=function(){aJ(r9,function(b){this._zr.on(b,function(h){var c,i=this.getModel(),d=h.target;if('globalout'===b){c={}}else {if(d&&null!=d.dataIndex){var j=d.dataModel||i.getSeriesByIndex(d.seriesIndex);c=j&&j.getDataParams(d.dataIndex,d.dataType,d)||{}}else {d&&d.eventData&&(c=a({},d.eventData))}}if(c){var e=c.componentType,g=c.componentIndex;'markLine'!==e&&'markPoint'!==e&&'markArea'!==e||(e='series',g=c.seriesIndex);var f=e&&null!=g&&i.getComponent(e,g),k=f&&this['series'===f.mainType?'_chartsMap':'_componentsMap'][f.__viewId];c.event=h,c.type=b,this._ecEventProcessor.eventInfo={targetEl:d,packedEvent:c,model:f,view:k},this.trigger(b,c)}},this)},this),aJ(eX,function(b,a){this._messageCenter.on(a,function(c){this.trigger(a,c)},this)},this)},az.isDisposed=function(){return this._disposed},az.clear=function(){this.setOption({series:[]},!0)},az.dispose=function(){if(!this._disposed){this._disposed=!0,Fi(this.getDom(),hO,'');var b=this._api,a=this._model;aJ(this._componentsViews,function(c){c.dispose(a,b)}),aJ(this._chartsViews,function(c){c.dispose(a,b)}),this._zr.dispose(),delete cj[this.id]}},h(rs,aG),Is.prototype={constructor:Is,normalizeQuery:function(b){var a={},e={},f={};if(_(b)){var g=hS(b);a.mainType=g.main||null,a.subType=g.sub||null}else {var c=['Index','Name','Id'],h={name:1,dataIndex:1,dataType:1};d(b,function(k,d){for(var j=!1,i=0;i<c.length;i++){var l=c[i],g=d.lastIndexOf(l);if(g>0&&g===d.length-l.length){var m=d.slice(0,g);'data'!==m&&(a.mainType=m,a[l.toLowerCase()]=k,j=!0)}}h.hasOwnProperty(d)&&(e[d]=k,j=!0),j||(f[d]=k)})}return {cptQuery:a,dataQuery:e,otherQuery:f}},filter:function(i,e,j){function n(b,c,a,d){return null==b[a]||c[d||a]===b[a]}var b=this.eventInfo;if(!b){return !0}var h=b.targetEl,d=b.packedEvent,a=b.model,g=b.view;if(!a||!g){return !0}var c=e.cptQuery,f=e.dataQuery;return n(c,a,'mainType')&&n(c,a,'subType')&&n(c,a,'index','componentIndex')&&n(c,a,'name')&&n(c,a,'id')&&n(f,d,'name')&&n(f,d,'dataIndex')&&n(f,d,'dataType')&&(!g.filterForExposedEvent||g.filterForExposedEvent(i,e.otherQuery,h,d))},afterTrigger:function(){this.eventInfo=null}};var eZ={},eX={},g9=[],jM=[],kJ=[],gk=[],jD={},hJ={},cj={},eL={},qF=new Date()-0,oA=new Date()-0,hO='_echarts_instance_',qj=As;Es(2000,qb),Ls(kb),ks(5000,function(b){var a=R();b.eachSeries(function(g){var f=g.get('stack');if(f){var e=a.get(f)||a.set(f,[]),c=g.getData(),d={stackResultDimension:c.getCalculationInfo('stackResultDimension'),stackedOverDimension:c.getCalculationInfo('stackedOverDimension'),stackedDimension:c.getCalculationInfo('stackedDimension'),stackedByDimension:c.getCalculationInfo('stackedByDimension'),isStackedByIndex:c.getCalculationInfo('isStackedByIndex'),data:c,seriesModel:g};if(!d.stackedDimension||!d.isStackedByIndex&&!d.stackedByDimension){return}e.length&&c.setCalculationInfo('stackedOnSeries',e[e.length-1].seriesModel),e.push(d)}}),a.each(ir)}),zs('default',function(d,a){r(a=a||{},{text:'loading',color:'#c23531',textColor:'#000',maskColor:'rgba(255, 255, 255, 0.8)',zlevel:0});var e=new aA({style:{fill:a.maskColor},zlevel:a.zlevel,z:10000}),c=new m$({shape:{startAngle:-fb/2,endAngle:-fb/2+0.1,r:10},style:{stroke:a.color,lineCap:'round',lineWidth:5},zlevel:a.zlevel,z:10001}),f=new aA({style:{fill:'none',text:a.text,textPosition:'right',textDistance:10,textFill:a.textColor},zlevel:a.zlevel,z:10001});c.animateShape(!0).when(1000,{endAngle:3*fb/2}).start('circularInOut'),c.animateShape(!0).when(1000,{startAngle:3*fb/2}).delay(300).start('circularInOut');var b=new t();return b.add(c),b.add(f),b.add(e),b.resize=function(){var h=d.getWidth()/2,g=d.getHeight()/2;c.setShape({cx:h,cy:g});var b=c.shape.r;f.setShape({x:h-b,y:g-b,width:2*b,height:2*b}),e.setShape({x:0,y:0,width:d.getWidth(),height:d.getHeight()})},b.resize(),b}),Ps({type:'highlight',event:'highlight',update:'highlight'},B),Ps({type:'downplay',event:'downplay',update:'downplay'},B),Cs('light',rZ),Cs('dark',mI);var qK={};Hs.prototype={constructor:Hs,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var i=this._old,j=this._new,c={},h=[],f=[];for(Zs(i,{},h,'_oldKeyGetter',this),Zs(j,c,f,'_newKeyGetter',this),b=0;b<i.length;b++){null!=(a=c[d=h[b]])?((g=a.length)?(1===g&&(c[d]=null),a=a.unshift()):c[d]=null,this._update&&this._update(a,b)):this._remove&&this._remove(b)}for(var b=0;b<f.length;b++){var d=f[b];if(c.hasOwnProperty(d)){var a=c[d];if(null==a){continue}if(a.length){for(var e=0,g=a.length;e<g;e++){this._add&&this._add(a[e])}}else {this._add&&this._add(a)}}}}};var l7=R(['tooltip','label','itemName','itemId','seriesName']),fk=w,sU='e\x00\x00',oT={'float':'undefined'==typeof Float64Array?Array:Float64Array,'int':'undefined'==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},jj='undefined'==typeof Uint32Array?Array:Uint32Array,oM='undefined'==typeof Uint16Array?Array:Uint16Array,pN=['hasItemOption','_nameList','_idList','_invertedIndicesMap','_rawData','_chunkSize','_chunkCount','_dimValueGetter','_count','_rawCount','_nameDimIdx','_idDimIdx'],s4=['_extent','_approximateExtent','_rawExtent'],aH=function(d,h){d=d||['x','y'];for(var e={},f=[],g={},b=0;b<d.length;b++){var a=d[b];_(a)&&(a={name:a});var c=a.name;a.type=a.type||'float',a.coordDim||(a.coordDim=c,a.coordDimIndex=0),a.otherDims=a.otherDims||{},f.push(c),e[c]=a,a.index=b,a.createInvertedIndices&&(g[c]=[])}this.dimensions=f,this._dimensionInfos=e,this.hostModel=h,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=100000,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Us(this),this._invertedIndicesMap=g,this._calculationInfo={}},ab=aH.prototype;ab.type='list',ab.hasItemOption=!0,ab.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},ab.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]},ab.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},ab.mapDimension=function(d,a){var c=this._dimensionsSummary;if(null==a){return c.encodeFirstDimNotExtra[d]}var b=c.encode[d];return !0===a?(b||[]).slice():b&&b[a]},ab.initData=function(a,d,b){(va.isInstance(a)||c(a))&&(a=new nr(a,this.dimensions.length)),this._rawData=a,this._storage={},this._indices=null,this._nameList=d||[],this._idList=[],this._nameRepeatCount={},b||(this.hasItemOption=!1),this.defaultDimValueGetter=nZ[this._rawData.getSource().sourceFormat],this._dimValueGetter=b=b||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,a.count()),a.pure&&(this.hasItemOption=!1)},ab.getProvider=function(){return this._rawData},ab.appendData=function(d){var a=this._rawData,b=this.count();a.appendData(d);var c=a.count();a.persistent||(c+=b),this._initDataFromProvider(b,c)},ab._initDataFromProvider=function(D,h){if(!(D>=h)){for(var t,f=this._chunkSize,m=this._rawData,e=this._storage,p=this.dimensions,w=p.length,C=this._dimensionInfos,E=this._nameList,I=this._idList,s=this._rawExtent,k=this._nameRepeatCount={},A=this._chunkCount,v=A-1,l=0;l<w;l++){s[b=p[l]]||(s[b]=[1/0,-1/0]);var u=C[b];0===u.otherDims.itemName&&(t=this._nameDimIdx=l),0===u.otherDims.itemId&&(this._idDimIdx=l);var F=oT[u.type];e[b]||(e[b]=[]);var q=e[b][v];if(q&&q.length<f){for(var G=new F(Math.min(h-v*f,f)),o=0;o<q.length;o++){G[o]=q[o]}e[b][v]=G}for(d=A*f;d<h;d+=f){e[b].push(new F(Math.min(h-d,f)))}this._chunkCount=e[b].length}for(var g=new Array(w),c=D;c<h;c++){g=m.getItem(c,g);for(var z=Math.floor(c/f),x=c%f,d=0;d<w;d++){var b=p[d],H=e[b][z],i=this._dimValueGetter(g,b,c,d);H[x]=i;var n=s[b];i<n[0]&&(n[0]=i),i>n[1]&&(n[1]=i)}if(!m.pure){var a=E[c];if(g&&null==a){if(null!=g.name){E[c]=a=g.name}else {if(null!=t){var B=p[t],y=e[B][z];if(y){a=y[x];var r=C[B].ordinalMeta;r&&r.categories.length&&(a=r.categories[a])}}}}var j=null==g?null:g.id;null==j&&null!=a&&(k[a]=k[a]||0,j=a,k[a]>0&&(j+='__ec__'+k[a]),k[a]++),null!=j&&(I[c]=j)}}!m.persistent&&m.clean&&m.clean(),this._rawCount=this._count=h,this._extent={},$s(this)}},ab.count=function(){return this._count},ab.getIndices=function(){var d=this._indices;if(d){var c=d.constructor,e=this._count;if(c===Array){b=new c(e);for(a=0;a<e;a++){b[a]=d[a]}}else {b=new c(d.buffer,0,e)}}else {for(var b=new (c=Ys(this))(this.count()),a=0;a<b.length;a++){b[a]=a}}return b},ab.get=function(c,a){if(!(a>=0&&a<this._count)){return NaN}var b=this._storage;if(!b[c]){return NaN}a=this.getRawIndex(a);var d=Math.floor(a/this._chunkSize),e=a%this._chunkSize;return b[c][d][e]},ab.getByRawIndex=function(e,a){if(!(a>=0&&a<this._rawCount)){return NaN}var b=this._storage[e];if(!b){return NaN}var c=Math.floor(a/this._chunkSize),d=a%this._chunkSize;return b[c][d]},ab._getFast=function(d,a){var b=Math.floor(a/this._chunkSize),c=a%this._chunkSize;return this._storage[d][b][c]},ab.getValues=function(a,c){var d=[];y(a)||(c=a,a=this.dimensions);for(var b=0,e=a.length;b<e;b++){d.push(this.get(a[b],c))}return d},ab.hasValue=function(e){for(var b=this._dimensionsSummary.dataDimsOnCoord,c=this._dimensionInfos,a=0,d=b.length;a<d;a++){if('ordinal'!==c[b[a]].type&&isNaN(this.get(b[a],e))){return !1}}return !0},ab.getDataExtent=function(b){b=this.getDimension(b);var g=[1/0,-1/0];if(!this._storage[b]){return g}var a,h=this.count();if(!this._indices){return this._rawExtent[b].slice()}if(a=this._extent[b]){return a.slice()}for(var e=(a=g)[0],d=a[1],f=0;f<h;f++){var c=this._getFast(b,this.getRawIndex(f));c<e&&(e=c),c>d&&(d=c)}return a=[e,d],this._extent[b]=a,a},ab.getApproximateExtent=function(a){return a=this.getDimension(a),this._approximateExtent[a]||this.getDataExtent(a)},ab.setApproximateExtent=function(b,a){a=this.getDimension(a),this._approximateExtent[a]=b.slice()},ab.getCalculationInfo=function(a){return this._calculationInfo[a]},ab.setCalculationInfo=function(b,c){fk(b)?a(this._calculationInfo,b):this._calculationInfo[b]=c},ab.getSum=function(d){var b=0;if(this._storage[d]){for(var a=0,e=this.count();a<e;a++){var c=this.get(d,a);isNaN(c)||(b+=c)}}return b},ab.getMedian=function(d){var c=[];this.each(d,function(a,b){isNaN(a)||c.push(a)});var b=[].concat(c).sort(function(b,a){return b-a}),a=this.count();return 0===a?0:a%2==1?b[(a-1)/2]:(b[a/2]+b[a/2-1])/2},ab.rawIndexOf=function(b,c){var a=(b&&this._invertedIndicesMap[b])[c];return null==a||isNaN(a)?-1:a},ab.indexOfName=function(c){for(var a=0,b=this.count();a<b;a++){if(this.getName(a)===c){return a}}return -1},ab.indexOfRawIndex=function(a){if(!this._indices){return a}if(a>=this._rawCount||a<0){return -1}var c=this._indices,d=c[a];if(null!=d&&d<this._count&&d===a){return a}for(var e=0,f=this._count-1;e<=f;){var b=(e+f)/2|0;if(c[b]<a){e=b+1}else {if(!(c[b]>a)){return b}f=b-1}}return -1},ab.indicesOfNearest=function(h,i,d){var b=[];if(!this._storage[h]){return b}null==d&&(d=1/0);for(var e=Number.MAX_VALUE,g=-1,c=0,j=this.count();c<j;c++){var a=i-this.get(h,c),f=Math.abs(a);a<=d&&f<=e&&((f<e||a>=0&&g<0)&&(e=f,g=a,b.length=0),b.push(c))}return b},ab.getRawIndex=Qs,ab.getRawDataItem=function(c){if(this._rawData.persistent){return this._rawData.getItem(this.getRawIndex(c))}for(var b=[],a=0;a<this.dimensions.length;a++){var d=this.dimensions[a];b.push(this.get(d,c))}return b},ab.getName=function(b){var a=this.getRawIndex(b);return this._nameList[a]||Js(this,this._nameDimIdx,a)||''},ab.getId=function(a){return el(this,this.getRawIndex(a))},ab.each=function(b,d,c,h){if(this._count){'function'==typeof b&&(h=c,c=d,d=b,b=[]),c=c||h||this;for(var i=(b=f(il(b),this.getDimension,this)).length,a=0;a<this.count();a++){switch(i){case 0:d.call(c,a);break;case 1:d.call(c,this.get(b[0],a),a);break;case 2:d.call(c,this.get(b[0],a),this.get(b[1],a),a);break;default:for(var e=0,g=[];e<i;e++){g[e]=this.get(b[e],a)};g[e]=a,d.apply(c,g);}}}},ab.filterSelf=function(b,d,a,n){if(this._count){'function'==typeof b&&(n=a,a=d,d=b,b=[]),a=a||n||this,b=f(il(b),this.getDimension,this);for(var j=this.count(),m=new (Ys(this))(j),k=[],l=b.length,i=0,o=b[0],c=0;c<j;c++){var e,h=this.getRawIndex(c);if(0===l){e=d.call(a,c)}else {if(1===l){var p=this._getFast(o,h);e=d.call(a,p,c)}else {for(var g=0;g<l;g++){k[g]=this._getFast(o,h)}k[g]=c,e=d.apply(a,k)}}e&&(m[i++]=h)}return i<j&&(this._indices=m),this._count=i,this._extent={},this.getRawIndex=this._indices?tl:Qs,this}},ab.selectRange=function(e){if(this._count){var d=[];for(var q in e){e.hasOwnProperty(q)&&d.push(q)}var h=d.length;if(h){var k=this.count(),g=new (Ys(this))(k),f=0,l=d[0],r=e[l][0],t=e[l][1],p=!1;if(!this._indices){var j=0;if(1===h){for(var n=this._storage[d[0]],b=0;b<this._chunkCount;b++){for(var s=n[b],o=Math.min(this._count-b*this._chunkSize,this._chunkSize),a=0;a<o;a++){((c=s[a])>=r&&c<=t||isNaN(c))&&(g[f++]=j),j++}}p=!0}else {if(2===h){for(var n=this._storage[l],x=this._storage[d[1]],z=e[d[1]][0],y=e[d[1]][1],b=0;b<this._chunkCount;b++){for(var s=n[b],w=x[b],o=Math.min(this._count-b*this._chunkSize,this._chunkSize),a=0;a<o;a++){var c=s[a],m=w[a];(c>=r&&c<=t||isNaN(c))&&(m>=z&&m<=y||isNaN(m))&&(g[f++]=j),j++}}p=!0}}}if(!p){if(1===h){for(a=0;a<k;a++){i=this.getRawIndex(a);((c=this._getFast(l,i))>=r&&c<=t||isNaN(c))&&(g[f++]=i)}}else {for(a=0;a<k;a++){for(var v=!0,i=this.getRawIndex(a),b=0;b<h;b++){var u=d[b];((c=this._getFast(q,i))<e[u][0]||c>e[u][1])&&(v=!1)}v&&(g[f++]=this.getRawIndex(a))}}}return f<k&&(this._indices=g),this._count=f,this._extent={},this.getRawIndex=this._indices?tl:Qs,this}}},ab.mapArray=function(c,b,a,d){'function'==typeof c&&(d=a,a=b,b=c,c=[]),a=a||d||this;var e=[];return this.each(c,function(){e.push(b&&b.apply(this,arguments))},a),e},ab.map=function(d,n,k,u){k=k||u||this;var b=nl(this,d=f(il(d),this.getDimension,this));b._indices=this._indices,b.getRawIndex=b._indices?tl:Qs;for(var s=b._storage,q=[],r=this._chunkSize,o=d.length,v=this.count(),j=[],t=b._rawExtent,c=0;c<v;c++){for(var h=0;h<o;h++){j[h]=this.get(d[h],c)}j[o]=c;var a=n&&n.apply(k,j);if(null!=a){'object'!=typeof a&&(q[0]=a,a=q);for(var p=this.getRawIndex(c),w=Math.floor(p/r),x=p%r,i=0;i<a.length;i++){var m=d[i],e=a[i],g=t[m],l=s[m];l&&(l[w][x]=e),e<g[0]&&(g[0]=e),e>g[1]&&(g[1]=e)}}}return b},ab.downSample=function(k,q,r,s){for(var a=nl(this,[k]),p=a._storage,i=[],d=Math.floor(1/q),n=p[k],e=this.count(),h=this._chunkSize,f=a._rawExtent[k],l=new (Ys(this))(e),m=0,b=0;b<e;b+=d){d>e-b&&(d=e-b,i.length=d);for(var g=0;g<d;g++){var o=this.getRawIndex(b+g),t=Math.floor(o/h),v=o%h;i[g]=n[t][v]}var c=r(i),j=this.getRawIndex(Math.min(b+s(i,c)||0,e-1)),u=j%h;n[Math.floor(j/h)][u]=c,c<f[0]&&(f[0]=c),c>f[1]&&(f[1]=c),l[m++]=j}return a._count=m,a._indices=l,a.getRawIndex=tl,a},ab.getItemModel=function(b){var a=this.hostModel;return new Lo(this.getRawDataItem(b),a,a&&a.ecModel)},ab.diff=function(a){var b=this;return new Hs(a?a.getIndices():[],this.getIndices(),function(b){return el(a,b)},function(c){return el(b,c)})},ab.getVisual=function(b){var a=this._visual;return a&&a[b]},ab.setVisual=function(a,c){if(fk(a)){for(var b in a){a.hasOwnProperty(b)&&this.setVisual(b,a[b])}}else {this._visual=this._visual||{},this._visual[a]=c}},ab.setLayout=function(a,c){if(fk(a)){for(var b in a){a.hasOwnProperty(b)&&this.setLayout(b,a[b])}}else {this._layout[a]=c}},ab.getLayout=function(a){return this._layout[a]},ab.getItemLayout=function(a){return this._itemLayouts[a]},ab.setItemLayout=function(c,b,d){this._itemLayouts[c]=d?a(this._itemLayouts[c]||{},b):b},ab.clearItemLayouts=function(){this._itemLayouts.length=0},ab.getItemVisual=function(e,a,d){var b=this._itemVisuals[e],c=b&&b[a];return null!=c||d?c:this.getVisual(a)},ab.setItemVisual=function(e,a,f){var c=this._itemVisuals[e]||{},d=this.hasItemVisual;if(this._itemVisuals[e]=c,fk(a)){for(var b in a){a.hasOwnProperty(b)&&(c[b]=a[b],d[b]=!0)}}else {c[a]=f,d[a]=!0}},ab.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var sD=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};ab.setItemGraphicEl=function(c,a){var b=this.hostModel;a&&(a.dataIndex=c,a.dataType=this.dataType,a.seriesIndex=b&&b.seriesIndex,'group'===a.type&&a.traverse(sD,a)),this._graphicEls[c]=a},ab.getItemGraphicEl=function(a){return this._graphicEls[a]},ab.eachItemGraphicEl=function(a,b){d(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},ab.cloneShallow=function(a){if(!a){var b=f(this.dimensions,this.getDimensionInfo,this);a=new aH(b,this.hostModel)}if(a._storage=this._storage,Ks(a,this),this._indices){var c=this._indices.constructor;a._indices=new c(this._indices)}else {a._indices=null}return a.getRawIndex=a._indices?tl:Qs,a},ab.wrapMethod=function(a,c){var b=this[a];'function'==typeof b&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var d=b.apply(this,arguments);return c.apply(this,[d].concat(C(arguments)))})},ab.TRANSFERABLE_METHODS=['cloneShallow','downSample','map'],ab.CHANGABLE_METHODS=['filterSelf','selectRange'];var dB=function(b,a){return a=a||{},rl(a.coordDimensions||[],b,{dimsDef:a.dimensionsDefine||b.dimensionsDefine,encodeDef:a.encodeDefine||b.encodeDefine,dimCount:a.dimensionsCount,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})};gl.prototype.parse=function(a){return a},gl.prototype.getSetting=function(a){return this._setting[a]},gl.prototype.contain=function(b){var a=this._extent;return b>=a[0]&&b<=a[1]},gl.prototype.normalize=function(b){var a=this._extent;return a[1]===a[0]?0.5:(b-a[0])/(a[1]-a[0])},gl.prototype.scale=function(b){var a=this._extent;return b*(a[1]-a[0])+a[0]},gl.prototype.unionExtent=function(b){var a=this._extent;b[0]<a[0]&&(a[0]=b[0]),b[1]>a[1]&&(a[1]=b[1])},gl.prototype.unionExtentFromData=function(b,a){this.unionExtent(b.getApproximateExtent(a))},gl.prototype.getExtent=function(){return this._extent.slice()},gl.prototype.setExtent=function(c,a){var b=this._extent;isNaN(c)||(b[0]=c),isNaN(a)||(b[1]=a)},gl.prototype.isBlank=function(){return this._isBlank},gl.prototype.setBlank=function(a){this._isBlank=a},gl.prototype.getLabel=null,Xi(gl),Ki(gl,{registerWhenExtend:!0}),ml.createByAxisModel=function(d){var a=d.option,b=a.data,c=b&&f(b,yl);return new ml({categories:c,needCollect:!c,deduplication:!1!==a.dedplication})};var lz=ml.prototype;lz.getOrdinal=function(a){return vl(this).get(a)},lz.parseAndCollect=function(b){var a,c=this._needCollect;if('string'!=typeof b&&!c){return b}if(c&&!this._deduplication){return a=this.categories.length,this.categories[a]=b,a}var d=vl(this);return null==(a=d.get(b))&&(c?(a=this.categories.length,this.categories[a]=b,d.set(b,a)):a=NaN),a};var iQ=gl.prototype,iT=gl.extend({type:'ordinal',init:function(a,b){a&&!y(a)||(a=new ml({categories:a})),this._ordinalMeta=a,this._extent=b||[0,a.categories.length-1]},parse:function(a){return 'string'==typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){return a=this.parse(a),iQ.contain.call(this,a)&&null!=this._ordinalMeta.categories[a]},normalize:function(a){return iQ.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(iQ.scale.call(this,a))},getTicks:function(){for(var c=[],b=this._extent,a=b[0];a<=b[1];){c.push(a),a++}return c},getLabel:function(a){if(!this.isBlank()){return this._ordinalMeta.categories[a]}},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(b,a){this.unionExtent(b.getApproximateExtent(a))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:B,niceExtent:B});iT.create=function(){return new iT()};var iq=zo,iX=zo,bC=gl.extend({type:'interval',_interval:0,_intervalPrecision:2,setExtent:function(c,a){var b=this._extent;isNaN(c)||(b[0]=parseFloat(c)),isNaN(a)||(b[1]=parseFloat(a))},unionExtent:function(b){var a=this._extent;b[0]<a[0]&&(a[0]=b[0]),b[1]>a[1]&&(a[1]=b[1]),bC.prototype.setExtent.call(this,a[0],a[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=_l(a)},getTicks:function(){return Sl(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(b,c){if(null==b){return ''}var a=c&&c.precision;return null==a?a=Go(b)||0:'auto'===a&&(a=this._intervalPrecision),b=iX(b,a,!0),$o(b)},niceTicks:function(d,e,f){d=d||5;var a=this._extent,b=a[1]-a[0];if(isFinite(b)){b<0&&(b=-b,a.reverse());var c=xl(a,d,e,f);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},niceExtent:function(b){var a=this._extent;if(a[0]===a[1]){if(0!==a[0]){var d=a[0];b.fixMax?a[0]-=d/2:(a[1]+=d/2,a[0]-=d/2)}else {a[1]=1}}var e=a[1]-a[0];isFinite(e)||(a[0]=0,a[1]=1),this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var c=this._interval;b.fixMin||(a[0]=iX(Math.floor(a[0]/c)*c)),b.fixMax||(a[1]=iX(Math.ceil(a[1]/c)*c))}});bC.create=function(){return new bC()};var hY='__ec_stack_',rk='undefined'!=typeof Float32Array?Float32Array:Array,rJ={seriesType:'bar',plan:dK(),reset:function(a){if(Pl(a)&&Nl(a)){var f=a.getData(),b=a.coordinateSystem,c=b.getBaseAxis(),d=b.getOtherAxis(c),i=f.mapDimension(d.dim),j=f.mapDimension(c.dim),h=d.isHorizontal(),g=h?0:1,e=Ll(Dl([a]),c,a).width;return e>0.5||(e=0.5),{progress:function(o,k){for(var m,l=new rk(2*o.count),c=[],f=[],n=0;null!=(m=o.next());){f[g]=k.get(i,m),f[1-g]=k.get(j,m),c=b.dataToPoint(f,null,c),l[n++]=c[0],l[n++]=c[1]}k.setLayout({largePoints:l,barWidth:e,valueAxisStart:Ol(0,d),valueAxisHorizontal:h})}}}}},sM=bC.prototype,lU=Math.ceil,mk=Math.floor,tk=function(e,d,a,b){for(;a<b;){var c=a+b>>>1;e[c][1]<d?a=c+1:b=c}return a},i7=bC.extend({type:'time',getLabel:function(c){var a=this._stepLvl,b=new Date(c);return oa(a[0],b,this.getSetting('useUTC'))},niceExtent:function(b){var a=this._extent;if(a[0]===a[1]&&(a[0]-=86400000,a[1]+=86400000),a[1]===-1/0&&a[0]===1/0){var d=new Date();a[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),a[0]=a[1]-86400000}this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var c=this._interval;b.fixMin||(a[0]=zo(mk(a[0]/c)*c)),b.fixMax||(a[1]=zo(lU(a[1]/c)*c))},niceTicks:function(e,f,g){e=e||10;var a=this._extent,j=a[1]-a[0],c=j/e;null!=f&&c<f&&(c=f),null!=g&&c>g&&(c=g);var k=i4.length,l=tk(i4,c,0,k),h=i4[Math.min(l,k-1)],b=h[1];'year'===h[0]&&(b*=Yo(j/b/e,!0));var d=this.getSetting('useUTC')?0:60*(new Date(+a[0]||+a[1])).getTimezoneOffset()*1000,i=[Math.round(lU((a[0]-d)/b)*b+d),Math.round(mk((a[1]-d)/b)*b+d)];bl(i,a),this._stepLvl=h,this._interval=b,this._niceExtent=i},parse:function(a){return +Uo(a)}});d(['contain','normalize'],function(a){i7.prototype[a]=function(b){return sM[a].call(this,this.parse(b))}});var i4=[['hh:mm:ss',1000],['hh:mm:ss',5000],['hh:mm:ss',10000],['hh:mm:ss',15000],['hh:mm:ss',30000],['hh:mm\nMM-dd',60000],['hh:mm\nMM-dd',300000],['hh:mm\nMM-dd',600000],['hh:mm\nMM-dd',900000],['hh:mm\nMM-dd',1800000],['hh:mm\nMM-dd',3600000],['hh:mm\nMM-dd',7200000],['hh:mm\nMM-dd',21600000],['hh:mm\nMM-dd',43200000],['MM-dd\nyyyy',86400000],['MM-dd\nyyyy',172800000],['MM-dd\nyyyy',259200000],['MM-dd\nyyyy',345600000],['MM-dd\nyyyy',432000000],['MM-dd\nyyyy',518400000],['week',604800000],['MM-dd\nyyyy',864000000],['week',1209600000],['week',1814400000],['month',2.6784E9],['week',3.6288E9],['month',5.3568E9],['week',6.048E9],['quarter',8.208E9],['month',1.07136E10],['month',1.3392E10],['half-year',1.6416E10],['month',2.14272E10],['month',2.6784E10],['year',3.2832E10]];i7.create=function(a){return new i7({useUTC:a.ecModel.get('useUTC')})};var fw=gl.prototype,f3=bC.prototype,q3=Go,pY=zo,o$=Math.floor,oD=Math.ceil,e0=Math.pow,a7=Math.log,gF=gl.extend({type:'log',base:10,$constructor:function(){gl.apply(this,arguments),this._originalScale=new bC()},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return f(f3.getTicks.call(this),function(e){var d=zo(e0(this.base,e));return d=e===b[0]&&a.__fixMin?El(d,c[0]):d,d=e===b[1]&&a.__fixMax?El(d,c[1]):d},this)},getLabel:f3.getLabel,scale:function(a){return a=fw.scale.call(this,a),e0(this.base,a)},setExtent:function(b,a){var c=this.base;b=a7(b)/a7(c),a=a7(a)/a7(c),f3.setExtent.call(this,b,a)},getExtent:function(){var d=this.base,a=fw.getExtent.call(this);a[0]=e0(d,a[0]),a[1]=e0(d,a[1]);var b=this._originalScale,c=b.getExtent();return b.__fixMin&&(a[0]=El(a[0],c[0])),b.__fixMax&&(a[1]=El(a[1],c[1])),a},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=a7(a[0])/a7(b),a[1]=a7(a[1])/a7(b),fw.unionExtent.call(this,a)},unionExtentFromData:function(b,a){this.unionExtent(b.getApproximateExtent(a))},niceTicks:function(d){d=d||10;var b=this._extent,c=b[1]-b[0];if(!(c===1/0||c<=0)){var a=Xo(c);for(d/c*a<=0.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;){a*=10}var e=[zo(oD(b[0]/a)*a),zo(o$(b[1]/a)*a)];this._interval=a,this._niceExtent=e}},niceExtent:function(a){f3.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}});d(['contain','normalize'],function(a){gF.prototype[a]=function(b){return b=a7(b)/a7(this.base),fw[a].call(this,b)}}),gF.create=function(){return new gF()};var b9={getMin:function(c){var b=this.option,a=c||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=a&&'dataMin'!==a&&'function'!=typeof a&&!I(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(c){var b=this.option,a=c||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=a&&'dataMax'!==a&&'function'!=typeof a&&!I(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:B,setRange:function(b,a){this.option.rangeStart=b,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},oU=Fn({type:'triangle',shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var d=a.cx,e=a.cy,f=a.width/2,c=a.height/2;b.moveTo(d,e-c),b.lineTo(d+f,e+c),b.lineTo(d-f,e+c),b.closePath()}}),r6=Fn({type:'diamond',shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,f=b.width/2,e=b.height/2;a.moveTo(c,d-e),a.lineTo(c+f,d),a.lineTo(c,d+e),a.lineTo(c-f,d),a.closePath()}}),pB=Fn({type:'pin',shape:{x:0,y:0,width:0,height:0},buildPath:function(e,g){var b=g.x,j=g.y,n=g.width/5*3,k=Math.max(n,g.height),a=n/2,c=a*a/(k-a),d=j-k+a+c,f=Math.asin(c/a),i=Math.cos(f)*a,l=Math.sin(f),m=Math.cos(f),h=0.6*a,o=0.7*a;e.moveTo(b-i,d+c),e.arc(b,d,a,Math.PI-f,2*Math.PI+f),e.bezierCurveTo(b+i-l*h,d+c+m*h,b,j-o,b,j),e.bezierCurveTo(b,j-o,b-i+l*h,d+c+m*h,b-i,d+c),e.closePath()}}),o4=Fn({type:'arrow',shape:{x:0,y:0,width:0,height:0},buildPath:function(a,d){var e=d.height,g=d.width,c=d.x,b=d.y,f=g/3*2;a.moveTo(c,b),a.lineTo(c+f,b+e),a.lineTo(c,b+e/4*3),a.lineTo(c-f,b+e),a.lineTo(c,b),a.closePath()}}),pk={line:function(d,b,e,c,a){a.x1=d,a.y1=b+c/2,a.x2=d+e,a.y2=b+c/2},rect:function(e,b,c,d,a){a.x=e,a.y=b,a.width=c,a.height=d},roundRect:function(e,d,b,c,a){a.x=e,a.y=d,a.width=b,a.height=c,a.r=Math.min(b,c)/4},square:function(f,c,d,e,a){var b=Math.min(d,e);a.x=f,a.y=c,a.width=b,a.height=b},circle:function(e,d,b,c,a){a.cx=e+b/2,a.cy=d+c/2,a.r=Math.min(b,c)/2},diamond:function(e,d,b,c,a){a.cx=e+b/2,a.cy=d+c/2,a.width=b,a.height=c},pin:function(e,d,b,c,a){a.x=e+b/2,a.y=d+c/2,a.width=b,a.height=c},arrow:function(e,d,b,c,a){a.x=e+b/2,a.y=d+c/2,a.width=b,a.height=c},triangle:function(e,d,b,c,a){a.cx=e+b/2,a.cy=d+c/2,a.width=b,a.height=c}},gH={};d({line:aU,rect:aA,roundRect:aA,square:aA,circle:bV,diamond:r6,pin:pB,arrow:o4,triangle:oU},function(b,a){gH[a]=new b()});var pP=Fn({type:'symbol',shape:{symbolType:'',x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;'pin'===this.shape.symbolType&&'inside'===a.textPosition&&(a.textPosition=['50%','40%'],a.textAlign='center',a.textVerticalAlign='middle')},buildPath:function(e,a,d){var c=a.symbolType,b=gH[c];'none'!==a.symbolType&&(b||(b=gH[c='rect']),pk[c](a.x,a.y,a.width,a.height,b.shape),b.buildPath(e,b.shape,d))}}),tI={isDimensionStacked:hl,enableDataStack:ul,getStackedDimension:cl},nK=(Object.freeze||Object)({createList:function(a){return dl(a.getSource(),a)},getLayoutRect:la,dataStack:tI,createScale:function(d,a){var b=a;Lo.isInstance(a)||h(b=new Lo(a),b9);var c=Vl(b);return c.setExtent(d[0],d[1]),Bl(c,b),c},mixinAxisModelCommonMethods:function(a){h(a,b9)},completeDimensions:rl,createDimensions:dB,createSymbol:Xl}),qz=1.0E-8;ql.prototype={constructor:ql,properties:null,getBoundingRect:function(){var h=this._rect;if(h){return h}for(var d=Number.MAX_VALUE,a=[d,d],b=[-d,-d],g=[],f=[],e=this.geometries,c=0;c<e.length;c++){'polygon'===e[c].type&&(dn(e[c].exterior,g,f),tt(a,a,g),et(b,b,f))}return 0===c&&(a[0]=a[1]=b[0]=b[1]=0),this._rect=new ue(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(c){var g=this.getBoundingRect(),b=this.geometries;if(!g.contain(c[0],c[1])){return !1}i: for(var a=0,h=b.length;a<h;a++){if('polygon'===b[a].type){var f=b[a].exterior,d=b[a].interiors;if(Yl(f,c[0],c[1])){for(var e=0;e<(d?d.length:0);e++){if(Yl(d[e])){continue i}}return !0}}}return !1},transformTo:function(n,m,f,h){var b=this.getBoundingRect(),j=b.width/b.height;f?h||(h=f/j):f=j*h;for(var k=new ue(n,m,f,h),l=b.calculateTransform(k),g=this.geometries,e=0;e<g.length;e++){if('polygon'===g[e].type){for(var i=g[e].exterior,c=g[e].interiors,a=0;a<i.length;a++){Q(i[a],i[a],l)}for(var d=0;d<(c?c.length:0);d++){for(a=0;a<c[d].length;a++){Q(c[d][a],c[d][a],l)}}}}(b=this._rect).copy(k),this.center=[b.x+b.width/2,b.y+b.height/2]},cloneShallow:function(b){null==b&&(b=this.name);var a=new ql(b,this.geometries,this.center);return a._rect=this._rect,a.transformTo=null,a}};var gN=function(a){return Kl(a),f(g(a.features,function(b){return b.geometry&&b.properties&&b.geometry.coordinates.length>0}),function(h){var b=h.properties,c=h.geometry,e=c.coordinates,f=[];'Polygon'===c.type&&f.push({type:'polygon',exterior:e[0],interiors:e.slice(1)}),'MultiPolygon'===c.type&&d(e,function(b){b[0]&&f.push({type:'polygon',exterior:b[0],interiors:b.slice(1)})});var g=new ql(b.name,f,b.cp);return g.properties=b,g})},dM=Bi(),k$=[0,1],aF=function(c,a,b){this.dim=c,this.scale=a,this._extent=b||[0,0],this.inverse=!1,this.onBand=!1};aF.prototype={constructor:aF,contain:function(b){var a=this._extent,c=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return b>=c&&b<=d},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return Fo(a||this.scale.getExtent(),this._extent)},setExtent:function(c,b){var a=this._extent;a[0]=c,a[1]=b},dataToCoord:function(c,d){var a=this._extent,b=this.scale;return c=b.normalize(c),this.onBand&&'ordinal'===b.type&&fu(a=a.slice(),b.count()),Eo(c,k$,a,d)},coordToData:function(e,c){var a=this._extent,b=this.scale;this.onBand&&'ordinal'===b.type&&fu(a=a.slice(),b.count());var d=Eo(e,a,k$,c);return this.scale.scale(d)},pointToData:function(b,a){},getTicksCoords:function(a){var b=(a=a||{}).tickModel||this.getTickModel(),c=Ql(this,b),d=f(c.ticks,function(b){return {coord:this.dataToCoord(b),tickValue:b}},this),e=b.get('alignWithLabel');return pu(this,d,c.tickCategoryInterval,e,a.clamp),d},getViewLabels:function(){return Jl(this).labels},getLabelModel:function(){return this.model.getModel('axisLabel')},getTickModel:function(){return this.model.getModel('axisTick')},getBandWidth:function(){var c=this._extent,b=this.scale.getExtent(),a=b[1]-b[0]+(this.onBand?1:0);0===a&&(a=1);var d=Math.abs(c[1]-c[0]);return Math.abs(d)/a},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return lu(this)}};var qT=gN,kQ={};d(['map','each','filter','indexOf','inherits','reduce','filter','bind','curry','isArray','isString','isObject','isFunction','extend','defaults','clone','merge'],function(a){kQ[a]=nE[a]});var k3={};d(['extendShape','extendPath','makePath','makeImage','mergePath','resizePath','createIcon','setHoverStyle','setLabelStyle','setTextStyle','setText','getFont','updateProps','initProps','getTransform','clipPointsByRect','clipRectByRect','Group','Image','Text','Circle','Sector','Ring','Polygon','Polyline','Rect','Line','BezierCurve','Arc','IncrementalDisplayable','CompoundPath','LinearGradient','RadialGradient','BoundingRect'],function(a){k3[a]=a2[a]}),aD.extend({type:'series.line',dependencies:['grid','polar'],getInitialData:function(b,a){return dl(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:'cartesian2d',legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:'top'},lineStyle:{width:2,type:'solid'},step:!1,smooth:!1,smoothMonotone:null,symbol:'emptyCircle',symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:'auto',connectNulls:!1,sampling:'none',animationEasing:'linear',progressive:0,hoverLayerThreshold:1/0}});var a3=mu.prototype,qO=mu.getSymbolSize=function(c,b){var a=c.getItemVisual(b,'symbolSize');return a instanceof Array?a.slice():[+a,+a]};a3._createSymbol=function(b,c,d,e,f){this.removeAll();var a=Xl(b,-1,-1,2,2,c.getItemVisual(d,'color'),f);a.attr({z2:100,culling:!0,scale:vu(e)}),a.drift=yu,this._symbolType=b,this.add(a)},a3.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},a3.getSymbolPath=function(){return this.childAt(0)},a3.getScale=function(){return this.childAt(0).scale},a3.highlight=function(){this.childAt(0).trigger('emphasis')},a3.downplay=function(){this.childAt(0).trigger('normal')},a3.setZ=function(c,b){var a=this.childAt(0);a.zlevel=c,a.z=b},a3.setDraggable=function(b){var a=this.childAt(0);a.draggable=b,a.cursor=b?'move':'pointer'},a3.updateData=function(c,a,e){this.silent=!1;var h=c.getItemVisual(a,'symbol')||'circle',f=c.hostModel,d=qO(c,a),i=h!==this._symbolType;if(i){var k=c.getItemVisual(a,'symbolKeepAspect');this._createSymbol(h,c,a,d,k)}else {(b=this.childAt(0)).silent=!1,bo(b,{scale:vu(d)},f,a)}if(this._updateCommon(c,a,d,e),i){var b=this.childAt(0),j=e&&e.fadeIn,g={scale:b.scale.slice()};j&&(g.style={opacity:b.style.opacity}),b.scale=[0,0],j&&(b.style.opacity=0),So(b,g,f,a)}this._seriesModel=f};var sR=['itemStyle'],oO=['emphasis','itemStyle'],nB=['label'],oH=['emphasis','label'];a3._updateCommon=function(e,f,k,b){var c=this.childAt(0),q=e.hostModel,r=e.getItemVisual(f,'color');'image'!==c.type&&c.useStyle({strokeNoScale:!0});var o=b&&b.itemStyle,g=b&&b.hoverItemStyle,n=b&&b.symbolRotate,h=b&&b.symbolOffset,l=b&&b.labelModel,m=b&&b.hoverLabelModel,p=b&&b.hoverAnimation,j=b&&b.cursorStyle;if(!b||e.hasItemOption){var d=b&&b.itemModel?b.itemModel:e.getItemModel(f);o=d.getModel(sR).getItemStyle(['color']),g=d.getModel(oO).getItemStyle(),n=d.getShallow('symbolRotate'),h=d.getShallow('symbolOffset'),l=d.getModel(nB),m=d.getModel(oH),p=d.getShallow('hoverAnimation'),j=d.getShallow('cursor')}else {g=a({},g)}var s=c.style;c.attr('rotation',(n||0)*Math.PI/180||0),h&&c.attr('position',[Ro(h[0],k[0]),Ro(h[1],k[1])]),j&&c.attr('cursor',j),c.setColor(r,b&&b.symbolInnerColor),c.setStyle(o);var u=e.getItemVisual(f,'opacity');null!=u&&(s.opacity=u);var t=e.getItemVisual(f,'liftZ'),i=c.__z2Origin;null!=t?null==i&&(c.__z2Origin=c.z2,c.z2+=t):null!=i&&(c.z2=i,c.__z2Origin=null);var v=b&&b.useNameLabel;co(s,g,l,m,{labelFetcher:q,labelDataIndex:f,defaultText:function(a,c){return v?e.getName(a):gu(e,a)},isRectText:!0,autoColor:r}),c.off('mouseover').off('mouseout').off('emphasis').off('normal'),c.hoverStyle=g,uo(c),c.__symbolOriginalScale=vu(k),p&&q.isAnimationEnabled()&&c.on('mouseover',xu).on('mouseout',_u).on('emphasis',wu).on('normal',bu)},a3.fadeOut=function(c,b){var a=this.childAt(0);this.silent=a.silent=!0,!(b&&b.keepLabel)&&(a.style.text=null),bo(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,c)},u(mu,t);var c3=Su.prototype;c3.updateData=function(a,c){c=Iu(c);var b=this.group,g=a.hostModel,d=this._data,e=this._symbolCtor,f=Tu(a);d||b.removeAll(),a.diff(d).add(function(d){var h=a.getItemLayout(d);if(Mu(a,h,d,c)){var g=new e(a,d,f);g.attr('position',h),a.setItemGraphicEl(d,g),b.add(g)}}).update(function(i,k){var h=d.getItemGraphicEl(k),j=a.getItemLayout(i);Mu(a,j,i,c)?(h?(h.updateData(a,i,f),bo(h,{position:j},g)):(h=new e(a,i)).attr('position',j),b.add(h),a.setItemGraphicEl(i,h)):b.remove(h)}).remove(function(f){var e=d.getItemGraphicEl(f);e&&e.fadeOut(function(){b.remove(e)})}).execute(),this._data=a},c3.isPersistent=function(){return !0},c3.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr('position',d)})},c3.incrementalPrepareUpdate=function(a){this._seriesScope=Tu(a),this._data=null,this.group.removeAll()},c3.incrementalUpdate=function(f,c,d){d=Iu(d);for(var a=f.start;a<f.end;a++){var e=c.getItemLayout(a);if(Mu(c,e,a,d)){var b=new this._symbolCtor(c,a,this._seriesScope);b.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),b.attr('position',e),this.group.add(b),c.setItemGraphicEl(a,b)}}},c3.remove=function(c){var a=this.group,b=this._data;b&&c?b.eachItemGraphicEl(function(b){b.fadeOut(function(){a.remove(b)})}):a.removeAll()};var s5=function(e,c,z,B,o,m,C,D){for(var A=Lu(e,c),k=[],j=[],h=[],i=[],y=[],g=[],f=[],n=Au(o,c,C),p=Au(m,e,D),b=0;b<A.length;b++){var d=A[b],w=!0;switch(d.cmd){case '=':var l=e.getItemLayout(d.idx),x=c.getItemLayout(d.idx1);(isNaN(l[0])||isNaN(l[1]))&&(l=x.slice()),k.push(l),j.push(x),h.push(z[d.idx]),i.push(B[d.idx1]),f.push(c.getRawIndex(d.idx1));break;case '+':a=d.idx;k.push(o.dataToPoint([c.get(n.dataDimsForPoint[0],a),c.get(n.dataDimsForPoint[1],a)])),j.push(c.getItemLayout(a).slice()),h.push(Cu(n,o,c,a)),i.push(B[a]),f.push(c.getRawIndex(a));break;case '-':var a=d.idx,u=e.getRawIndex(a);u!==a?(k.push(e.getItemLayout(a)),j.push(m.dataToPoint([e.get(p.dataDimsForPoint[0],a),e.get(p.dataDimsForPoint[1],a)])),h.push(z[a]),i.push(Cu(p,m,e,a)),f.push(u)):w=!1;}w&&(y.push(d),g.push(g.length))}g.sort(function(b,a){return f[b]-f[a]});for(var t=[],v=[],q=[],s=[],r=[],b=0;b<g.length;b++){a=g[b];t[b]=k[a],v[b]=j[a],q[b]=h[a],s[b]=i[a],r[b]=y[a]}return {current:t,next:v,stackedOnCurrent:q,stackedOnNext:s,status:r}},lK=tt,l3=et,mC=Z,fQ=G,hV=[],a$=[],a0=[],sq=kn.extend({type:'ec-polyline',shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:'#000'},brush:g$(kn.prototype.brush),buildPath:function(f,b){var d=b.points,c=0,a=d.length,e=Eu(d,b.smoothConstraint);if(b.connectNulls){for(;a>0&&ku(d[a-1]);a--){}for(;c<a&&ku(d[c]);c++){}}for(;c<a;){c+=Pu(f,d,c,a,a,1,e.min,e.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}}),mZ=kn.extend({type:'ec-polygon',shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:g$(kn.prototype.brush),buildPath:function(e,a){var d=a.points,h=a.stackedOnPoints,c=0,b=d.length,i=a.smoothMonotone,j=Eu(d,a.smoothConstraint),g=Eu(h,a.smoothConstraint);if(a.connectNulls){for(;b>0&&ku(d[b-1]);b--){}for(;c<b&&ku(d[c]);c++){}}for(;c<b;){var f=Pu(e,d,c,b,b,1,j.min,j.max,a.smooth,i,a.connectNulls);Pu(e,h,c+f-1,f,b,-1,g.min,g.max,a.stackedOnSmooth,i,a.connectNulls),c+=f+1,e.closePath()}}});Mr.extend({type:'line',init:function(){var b=new t(),a=new Su();this.group.add(a.group),this._symbolDraw=a,this._lineGroup=b},render:function(b,B,z){var a=b.coordinateSystem,w=this.group,c=b.getData(),A=b.getModel('lineStyle'),o=b.getModel('areaStyle'),e=c.mapArray(c.getItemLayout),v='polar'===a.type,y=this._coordSys,n=this._symbolDraw,h=this._polyline,d=this._polygon,j=this._lineGroup,k=b.get('animation'),p=!o.isEmpty(),q=o.get('origin'),f=Vu(a,c,Au(a,c,q)),i=b.get('showSymbol'),x=i&&!v&&Uu(b,c,a),m=this._data;m&&m.eachItemGraphicEl(function(a,c){a.__temp&&(w.remove(a),m.setItemGraphicEl(c,null))}),i||n.remove(),w.add(j);var g=!v&&b.get('step');h&&y.type===a.type&&g===this._step?(p&&!d?d=this._newPolygon(e,f,a,k):d&&!p&&(j.remove(d),d=this._polygon=null),j.setClipPath(Wu(a,!1,!1,b)),i&&n.updateData(c,{isIgnore:x,clipShape:Wu(a,!1,!0,b)}),c.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),Ru(this._stackedOnPoints,f)&&Ru(this._points,e)||(k?this._updateAnimation(c,f,a,z,g,q):(g&&(e=Hu(e,a,g),f=Hu(f,a,g)),h.setShape({points:e}),d&&d.setShape({points:e,stackedOnPoints:f})))):(i&&n.updateData(c,{isIgnore:x,clipShape:Wu(a,!1,!0,b)}),g&&(e=Hu(e,a,g),f=Hu(f,a,g)),h=this._newPolyline(e,a,k),p&&(d=this._newPolygon(e,f,a,k)),j.setClipPath(Wu(a,!0,!1,b)));var t=Zu(c,a)||c.getVisual('color');h.useStyle(r(A.getLineStyle(),{fill:'none',stroke:t,lineJoin:'bevel'}));var l=b.get('smooth');if(l=zu(b.get('smooth')),h.setShape({smooth:l,smoothMonotone:b.get('smoothMonotone'),connectNulls:b.get('connectNulls')}),d){var u=c.getCalculationInfo('stackedOnSeries'),s=0;d.useStyle(r(o.getAreaStyle(),{fill:t,opacity:0.7,lineJoin:'bevel'})),u&&(s=zu(u.get('smooth'))),d.setShape({smooth:l,stackedOnSmooth:s,smoothMonotone:b.get('smoothMonotone'),connectNulls:b.get('connectNulls')})}this._data=c,this._coordSys=a,this._stackedOnPoints=f,this._points=e,this._step=g,this._valueOrigin=q},dispose:function(){},highlight:function(e,g,h,f){var c=e.getData(),b=zi(c,f);if(!(b instanceof Array)&&null!=b&&b>=0){var a=c.getItemGraphicEl(b);if(!a){var d=c.getItemLayout(b);if(!d){return}(a=new mu(c,b)).position=d,a.setZ(e.get('zlevel'),e.get('z')),a.ignore=isNaN(d[0])||isNaN(d[1]),a.__temp=!0,c.setItemGraphicEl(b,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else {Mr.prototype.highlight.call(this,e,g,h,f)}},downplay:function(e,f,g,d){var c=e.getData(),a=zi(c,d);if(null!=a&&a>=0){var b=c.getItemGraphicEl(a);b&&(b.__temp?(c.setItemGraphicEl(a,null),this.group.remove(b)):b.downplay())}else {Mr.prototype.downplay.call(this,e,f,g,d)}},_newPolyline:function(b){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new sq({shape:{points:b},silent:!0,z2:10}),this._lineGroup.add(a),this._polyline=a,a},_newPolygon:function(c,b){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new mZ({shape:{points:c,stackedOnPoints:b},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_updateAnimation:function(k,q,c,r,e,p){var b=this._polyline,j=this._polygon,n=k.hostModel,a=s5(this._data,k,this._stackedOnPoints,q,this._coordSys,c,this._valueOrigin,p),i=a.current,l=a.stackedOnCurrent,g=a.next,m=a.stackedOnNext;e&&(i=Hu(a.current,c,e),l=Hu(a.stackedOnCurrent,c,e),g=Hu(a.next,c,e),m=Hu(a.stackedOnNext,c,e)),b.shape.__points=a.current,b.shape.points=i,bo(b,{shape:{points:g}},n),j&&(j.setShape({points:i,stackedOnPoints:l}),bo(j,{shape:{points:g,stackedOnPoints:m}},n));for(var f=[],h=a.status,d=0;d<h.length;d++){if('='===h[d].cmd){var o=k.getItemGraphicEl(h[d].idx1);o&&f.push({el:o,ptIdx:d})}}b.animators&&b.animators.length&&b.animators[0].during(function(){for(var a=0;a<f.length;a++){f[a].el.attr('position',b.shape.__points[f[a].ptIdx])}})},remove:function(c){var b=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(d,e){d.__temp&&(b.remove(d),a.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var cJ=function(c,a,b){return {seriesType:c,performRawSeries:!0,reset:function(d,i,k){var f=d.getData(),g=d.get('symbol')||a,e=d.get('symbolSize'),h=d.get('symbolKeepAspect');if(f.setVisual({legendSymbol:b||g,symbol:g,symbolSize:e,symbolKeepAspect:h}),!i.isSeriesFiltered(d)){var j='function'==typeof e;return {dataEach:f.hasItemOption||j?function(g,f){if('function'==typeof e){var n=d.getRawValue(f),o=d.getDataParams(f);g.setItemVisual(f,'symbolSize',e(n,o))}if(g.hasItemOption){var h=g.getItemModel(f),l=h.getShallow('symbol',!0),j=h.getShallow('symbolSize',!0),m=h.getShallow('symbolKeepAspect',!0);null!=l&&g.setItemVisual(f,'symbol',l),null!=j&&g.setItemVisual(f,'symbolSize',j),null!=m&&g.setItemVisual(f,'symbolKeepAspect',m)}}:null}}}}},d5=function(a){return {seriesType:a,plan:dK(),reset:function(h){var c=h.getData(),d=h.coordinateSystem,g=h.pipelineContext.large;if(d){var b=f(d.dimensions,function(b){return c.mapDimension(b)}).slice(0,2),e=b.length,i=c.getCalculationInfo('stackResultDimension');return hl(c,b[0])&&(b[0]=i),hl(c,b[1])&&(b[1]=i),e&&{progress:function(k,i){for(var q=k.end-k.start,m=g&&new Float32Array(q*e),f=k.start,o=0,l=[],n=[];f<k.end;f++){var c;if(1===e){j=i.get(b[0],f),c=!isNaN(j)&&d.dataToPoint(j,null,n)}else {var j=l[0]=i.get(b[0],f),p=l[1]=i.get(b[1],f);c=!isNaN(j)&&!isNaN(p)&&d.dataToPoint(l,null,n)}g?(m[o++]=c?c[0]:NaN,m[o++]=c?c[1]:NaN):i.setItemLayout(f,c&&c.slice()||[NaN,NaN])}g&&i.setLayout('symbolPoints',m)}}}}}},rw={average:function(c){for(var d=0,b=0,a=0;a<c.length;a++){isNaN(c[a])||(d+=c[a],b++)}return 0===b?NaN:d/b},sum:function(c){for(var b=0,a=0;a<c.length;a++){b+=c[a]||0}return b},max:function(c){for(var a=-1/0,b=0;b<c.length;b++){c[b]>a&&(a=c[b])}return isFinite(a)?a:NaN},min:function(c){for(var a=1/0,b=0;b<c.length;b++){c[b]<a&&(a=c[b])}return isFinite(a)?a:NaN},nearest:function(a){return a[0]}},rL=function(a,b){return Math.round(a.length/2)},fS=function(a){this._axes={},this._dimList=[],this.name=a||''};fS.prototype={constructor:fS,type:'cartesian',getAxis:function(a){return this._axes[a]},getAxes:function(){return f(this._dimList,ju,this)},getAxesByScale:function(a){return a=a.toLowerCase(),g(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(b){var a=b.dim;this._axes[a]=b,this._dimList.push(a)},dataToCoord:function(a){return this._dataCoordConvert(a,'dataToCoord')},coordToData:function(a){return this._dataCoordConvert(a,'coordToData')},_dataCoordConvert:function(e,f){for(var c=this._dimList,d=e instanceof Array?[]:{},b=0;b<c.length;b++){var a=c[b],g=this._axes[a];d[a]=g[f](e[a])}return d}},Yu.prototype={constructor:Yu,type:'cartesian2d',dimensions:['x','y'],getBaseAxis:function(){return this.getAxesByScale('ordinal')[0]||this.getAxesByScale('time')[0]||this.getAxis('x')},containPoint:function(c){var a=this.getAxis('x'),b=this.getAxis('y');return a.contain(a.toLocalCoord(c[0]))&&b.contain(b.toLocalCoord(c[1]))},containData:function(a){return this.getAxis('x').containData(a[0])&&this.getAxis('y').containData(a[1])},dataToPoint:function(d,e,a){var b=this.getAxis('x'),c=this.getAxis('y');return a=a||[],a[0]=b.toGlobalCoord(b.dataToCoord(d[0])),a[1]=c.toGlobalCoord(c.dataToCoord(d[1])),a},clampData:function(f,a){var d=this.getAxis('x').scale,e=this.getAxis('y').scale,c=d.getExtent(),b=e.getExtent(),g=d.parse(f[0]),h=e.parse(f[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(c[0],c[1]),g),Math.max(c[0],c[1])),a[1]=Math.min(Math.max(Math.min(b[0],b[1]),h),Math.max(b[0],b[1])),a},pointToData:function(d,a){var b=this.getAxis('x'),c=this.getAxis('y');return a=a||[],a[0]=b.coordToData(b.toLocalCoord(d[0])),a[1]=c.coordToData(c.toLocalCoord(d[1])),a},getOtherAxis:function(a){return this.getAxis('x'===a.dim?'y':'x')}},u(Yu,fS);var fF=function(e,a,b,c,d){aF.call(this,e,a,b),this.type=c||'value',this.position=d||'bottom'};fF.prototype={constructor:fF,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return 'top'===a||'bottom'===a},getGlobalExtent:function(b){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),b&&a[0]>a[1]&&a.reverse(),a},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(b,a){return this.coordToData(this.toLocalCoord(b['x'===this.dim?0:1]),a)},toLocalCoord:null,toGlobalCoord:null},u(fF,aF);var mq={show:!0,zlevel:0,z:0,inverse:!1,name:'',nameLocation:'end',nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:'...',placeholder:'.'},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:'#333',width:1,type:'solid'},symbol:['none','none'],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:['#ccc'],width:1,type:'solid'}},splitArea:{show:!1,areaStyle:{color:['rgba(250,250,250,0.3)','rgba(200,200,200,0.3)']}}},b7={};b7.categoryAxis=n({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:'auto'},axisLabel:{interval:'auto'}},mq),b7.valueAxis=n({boundaryGap:[0,0],splitNumber:5},mq),b7.timeAxis=r({scale:!0,min:'dataMin',max:'dataMax'},b7.valueAxis),b7.logAxis=r({scale:!0,logBase:10},b7.valueAxis);var tF=['value','category','time','log'],dI=function(a,e,b,c){d(tF,function(d){e.extend({type:a+'Axis.'+d,mergeDefaultAndTheme:function(f,h){var g=this.layoutMode,i=g?da(f):{};n(f,h.getTheme().get(d+'Axis')),n(f,this.getDefaultOption()),f.type=b(a,f),g&&ca(f,i,g)},optionUpdated:function(){'category'===this.option.type&&(this.__ordinalMeta=ml.createByAxisModel(this))},getCategories:function(g){var f=this.option;if('category'===f.type){return g?f.data:this.__ordinalMeta.categories}},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o([{},b7[d+'Axis'],c],!0)})}),aw.registerSubTypeDefaulter(a+'Axis',v(b,a))},c8=aw.extend({type:'cartesian2dAxis',axis:null,init:function(){c8.superApply(this,'init',arguments),this.resetRange()},mergeOption:function(){c8.superApply(this,'mergeOption',arguments),this.resetRange()},restoreData:function(){c8.superApply(this,'restoreData',arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:'grid',index:this.option.gridIndex,id:this.option.gridId})[0]}});n(c8.prototype,b9);var m3={offset:0};dI('x',c8,qu,m3),dI('y',c8,qu,m3),aw.extend({type:'grid',dependencies:['xAxis','yAxis'],layoutMode:'box',coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:'10%',top:60,right:'10%',bottom:60,containLabel:!1,backgroundColor:'rgba(0,0,0,0)',borderWidth:1,borderColor:'#ccc'}});var aK=$u.prototype;aK.type='grid',aK.axisPointerEnabled=!0,aK.getRect=function(){return this._rect},aK.update=function(e,c){var a=this._axesMap;this._updateScale(e,this.model),d(a.x,function(a){Bl(a.scale,a.model)}),d(a.y,function(a){Bl(a.scale,a.model)});var b={};d(a.x,function(d){Ju(a,'y',d,b)}),d(a.y,function(d){Ju(a,'x',d,b)}),this.resize(this.model,c)},aK.resize=function(e,c,f){function n(){d(b,function(b){var d=b.isHorizontal(),g=d?[0,a.width]:[0,a.height],h=b.inverse?1:0;b.setExtent(g[h],g[1-h]),th(b,d?a.x:a.y)})}var a=la(e.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()});this._rect=a;var b=this._axesList;n(),!f&&e.get('containLabel')&&(d(b,function(b){if(!b.model.get('axisLabel.inside')){var d=Hl(b);if(d){var h=b.isHorizontal()?'height':'width',g=b.model.get('axisLabel.margin');a[h]-=d[h]+g,'top'===b.position?a.y+=d.height+g:'left'===b.position&&(a.x+=d.width+g)}}}),n())},aK.getAxis=function(d,b){var a=this._axesMap[d];if(null!=a){if(null==b){for(var c in a){if(a.hasOwnProperty(c)){return a[c]}}}return a[b]}},aK.getAxes=function(){return this._axesList.slice()},aK.getCartesian=function(a,c){if(null!=a&&null!=c){var e='x'+a+'y'+c;return this._coordsMap[e]}w(a)&&(c=a.yAxisIndex,a=a.xAxisIndex);for(var b=0,d=this._coordsList;b<d.length;b++){if(d[b].getAxis('x').index===a||d[b].getAxis('y').index===c){return d[b]}}},aK.getCartesians=function(){return this._coordsList.slice()},aK.convertToPixel=function(d,c,b){var a=this._findConvertTarget(d,c);return a.cartesian?a.cartesian.dataToPoint(b):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(b)):null},aK.convertFromPixel=function(d,c,b){var a=this._findConvertTarget(d,c);return a.cartesian?a.cartesian.pointToData(b):a.axis?a.axis.coordToData(a.axis.toLocalCoord(b)):null},aK._findConvertTarget=function(i,d){var b,f,a=d.seriesModel,c=d.xAxisModel||a&&a.getReferringComponents('xAxis')[0],e=d.yAxisModel||a&&a.getReferringComponents('yAxis')[0],g=d.gridModel,h=this._coordsList;return a?l(h,b=a.coordinateSystem)<0&&(b=null):c&&e?b=this.getCartesian(c.componentIndex,e.componentIndex):c?f=this.getAxis('x',c.componentIndex):e?f=this.getAxis('y',e.componentIndex):g&&g.coordinateSystem===this&&(b=this._coordsList[0]),{cartesian:b,axis:f}},aK.containPoint=function(b){var a=this._coordsList[0];if(a){return a.containPoint(b)}},aK._initCartesian=function(f,b,g){function n(d){return function(j,k){if(Ku(j,f,b)){var h=j.get('position');'x'===d?'top'!==h&&'bottom'!==h&&c[h='bottom']&&(h='top'===h?'bottom':'top'):'left'!==h&&'right'!==h&&c[h='left']&&(h='left'===h?'right':'left'),c[h]=!0;var i=new fF(d,Vl(j),[0,0],j.get('type'),h),l='category'===i.type;i.onBand=l&&j.get('boundaryGap'),i.inverse=j.get('inverse'),j.axis=i,i.model=j,i.grid=this,i.index=k,this._axesList.push(i),a[d][k]=i,e[d]++}}}var c={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},e={x:0,y:0};if(b.eachComponent('xAxis',n('x'),this),b.eachComponent('yAxis',n('y'),this),!e.x||!e.y){return this._axesMap={},void (this._axesList=[])}this._axesMap=a,d(a.x,function(c,e){d(a.y,function(h,i){var d='x'+e+'y'+i,a=new Yu(d);a.grid=this,a.model=f,this._coordsMap[d]=a,this._coordsList.push(a),a.addAxis(c),a.addAxis(h)},this)},this)},aK._updateScale=function(a,b){function i(c,e,f){d(c.mapDimension(e.dim,!0),function(d){e.scale.unionExtentFromData(c,cl(c,d))})}d(this._axesList,function(c){c.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(d){if(ih(d)){var f=eh(d),e=f[0],g=f[1];if(!Ku(e,b,a)||!Ku(g,b,a)){return}var h=this.getCartesian(e.componentIndex,g.componentIndex),c=d.getData(),k=h.getAxis('x'),j=h.getAxis('y');'list'===c.type&&(i(c,k),i(c,j))}},this)},aK.getTooltipAxes=function(c){var a=[],b=[];return d(this.getCartesians(),function(d){var e=null!=c&&'auto'!==c?d.getAxis(c):d.getBaseAxis(),f=d.getOtherAxis(e);l(a,e)<0&&a.push(e),l(b,f)<0&&b.push(f)}),{baseAxes:a,otherAxes:b}};var p$=['xAxis','yAxis'];$u.create=function(a,b){var c=[];return a.eachComponent('grid',function(e,f){var d=new $u(e,a,b);d.name='grid_'+f,d.resize(e,b,!0),e.coordinateSystem=d,c.push(d)}),a.eachSeries(function(c){if(ih(c)){var d=eh(c),e=d[0],f=d[1],g=e.getCoordSysModel().coordinateSystem;c.coordinateSystem=g.getCartesian(e.componentIndex,f.componentIndex)}}),c},$u.dimensions=$u.prototype.dimensions=Yu.prototype.dimensions,Ba.register('cartesian2d',$u);var bX=Math.PI,a9=function(c,a){this.opt=a,this.axisModel=c,r(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new t();var b=new t({position:a.position.slice(),rotation:a.rotation});b.updateTransform(),this._transform=b.transform,this._dumbGroup=b};a9.prototype={constructor:a9,hasBuilder:function(a){return !!kN[a]},add:function(a){kN[a].call(this)},getGroup:function(){return this.group}};var kN={axisLine:function(){var i=this.opt,h=this.axisModel;if(h.get('axisLine.show')){var m=this.axisModel.axis.getExtent(),j=this._transform,b=[m[0],0],e=[m[1],0];j&&(Q(b,b,j),Q(e,e,j));var n=a({lineCap:'round'},h.getModel('axisLine.lineStyle').getLineStyle());this.group.add(new aU(Xn({anid:'line',shape:{x1:b[0],y1:b[1],x2:e[0],y2:e[1]},style:n,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1})));var c=h.get('axisLine.symbol'),f=h.get('axisLine.symbolSize'),g=h.get('axisLine.symbolOffset')||0;if('number'==typeof g&&(g=[g,g]),null!=c){'string'==typeof c&&(c=[c,c]),'string'!=typeof f&&'number'!=typeof f||(f=[f,f]);var k=f[0],l=f[1];d([{rotate:i.rotation+Math.PI/2,offset:g[0],r:0},{rotate:i.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((b[0]-e[0])*(b[0]-e[0])+(b[1]-e[1])*(b[1]-e[1]))}],function(a,d){if('none'!==c[d]&&null!=c[d]){var f=Xl(c[d],-k/2,-l/2,k,l,n.stroke,!0),e=a.r+a.offset,g=[b[0]+e*Math.cos(i.rotation),b[1]-e*Math.sin(i.rotation)];f.attr({rotation:a.rotate,position:g,silent:!0}),this.group.add(f)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c=hh(this,a,b);rh(a,ch(this,a,b),c)},axisName:function(){var e=this.opt,b=this.axisModel,d=T(e.axisName,b.get('name'));if(d){var i,j=b.get('nameLocation'),s=e.nameDirection,m=b.getModel('nameTextStyle'),l=b.get('nameGap')||0,f=this.axisModel.axis.getExtent(),p=f[0]>f[1]?-1:1,w=['start'===j?f[0]-p*l:'end'===j?f[1]+p*l:(f[0]+f[1])/2,uh(j)?e.labelOffset+s*l:0],g=b.get('nameRotate');null!=g&&(g=g*bX/180);var h;uh(j)?i=jq(e.rotation,null!=g?g:e.rotation,s):(i=oh(e,j,g||0,f),null!=(h=e.axisNameAvailableWidth)&&(h=Math.abs(h/Math.sin(i.rotation)),!isFinite(h)&&(h=null)));var r=m.getFont(),k=b.get('nameTruncate',!0)||{},q=k.ellipsis,t=T(e.nameTruncateMaxWidth,k.maxWidth,h),v=null!=q&&null!=t?kY(d,t,r,q,{minChar:2,placeholder:k.placeholder}):d,n=b.get('tooltip',!0),o=b.mainType,u={componentType:o,name:d,$vars:['name']};u[o+'Index']=b.componentIndex;var c=new ak({anid:'name',__fullText:d,__truncatedText:v,position:w,rotation:i.rotation,silent:ah(b),z2:1,tooltip:n&&n.show?a({content:d,formatter:function(){return d},formatterParams:u},n):null});fo(c.style,m,{text:v,textFont:r,textFill:m.getTextColor()||b.get('axisLine.lineStyle.color'),textAlign:i.textAlign,textVerticalAlign:i.textVerticalAlign}),b.get('triggerEvent')&&(c.eventData=nh(b),c.eventData.targetType='axisName',c.eventData.name=d),this._dumbGroup.add(c),c.updateTransform(),this.group.add(c),c.decomposeTransform()}}},jq=a9.innerTextLayout=function(f,e,b){var c,d,a=Ho(e-f);return Zo(a)?(d=b>0?'top':'bottom',c='center'):Zo(a-bX)?(d=b>0?'bottom':'top',c='center'):(d='middle',c=a>0&&a<bX?b>0?'right':'left':b>0?'left':'right'),{rotation:a,textAlign:c,textVerticalAlign:d}},cV=d,gD=v,aR=Vs({type:'axis',_axisPointer:null,axisPointerClass:null,render:function(a,c,b,d){this.axisPointerClass&&yh(a),aR.superApply(this,'render',arguments),Sh(this,a,0,b,0,!0)},updateAxisPointer:function(b,c,a,d,e){Sh(this,b,0,a,0,!1)},remove:function(c,b){var a=this._axisPointer;a&&a.remove(b),aR.superApply(this,'remove',arguments)},dispose:function(b,a){Mh(this,a),aR.superApply(this,'dispose',arguments)}}),l9=[];aR.registerAxisPointerClass=function(b,a){l9[b]=a},aR.getAxisPointerClass=function(a){return a&&l9[a]};var pC=['axisLine','axisTickLabel','axisName'],o6=['splitArea','splitLine'],g8=aR.extend({type:'cartesianAxis',axisPointerClass:'CartesianAxisPointer',render:function(a,e,f,g){this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new t(),this.group.add(this._axisGroup),a.get('show')){var c=a.getCoordSysModel(),i=Ih(c,a),b=new a9(a,i);d(pC,b.add,b),this._axisGroup.add(b.getGroup()),d(o6,function(b){a.get(b+'.show')&&this['_'+b](a,c)},this),Ao(h,this._axisGroup,a),g8.superCall(this,'render',a,e,f,g)}},remove:function(){this._splitAreaColors=null},_splitLine:function(k,l){var h=k.axis;if(!h.scale.isBlank()){var i=k.getModel('splitLine'),j=i.getModel('lineStyle'),a=j.get('color');a=y(a)?a:[a];for(var d=l.coordinateSystem.getRect(),n=h.isHorizontal(),p=0,g=h.getTicksCoords({tickModel:i}),b=[],c=[],m=j.getLineStyle(),e=0;e<g.length;e++){var f=h.toGlobalCoord(g[e].coord);n?(b[0]=f,b[1]=d.y,c[0]=f,c[1]=d.y+d.height):(b[0]=d.x,b[1]=f,c[0]=d.x+d.width,c[1]=f);var o=p++%a.length,q=g[e].tickValue;this._axisGroup.add(new aU(Xn({anid:null!=q?'line_'+g[e].tickValue:null,shape:{x1:b[0],y1:b[1],x2:c[0],y2:c[1]},style:r({stroke:a[o]},m),silent:!0})))}}},_splitArea:function(u,v){var e=u.axis;if(!e.scale.isBlank()){var s=u.getModel('splitArea'),t=s.getModel('areaStyle'),c=t.get('color'),k=v.coordinateSystem.getRect(),b=e.getTicksCoords({tickModel:s,clamp:!0});if(b.length){var l=c.length,q=this._splitAreaColors,o=R(),d=0;if(q){for(a=0;a<b.length;a++){var p=q.get(b[a].tickValue);if(null!=p){d=(p+(l-1)*a)%l;break}}}var j=e.toGlobalCoord(b[0].coord),w=t.getAreaStyle();c=y(c)?c:[c];for(var a=1;a<b.length;a++){var f,g,i,m,n=e.toGlobalCoord(b[a].coord);e.isHorizontal()?(f=j,g=k.y,i=n-f,m=k.height,j=f+i):(f=k.x,g=j,i=k.width,j=g+(m=n-g));var h=b[a-1].tickValue;null!=h&&o.set(h,d),this._axisGroup.add(new aA({anid:null!=h?'area_'+h:null,shape:{x:f,y:g,width:i,height:m},style:r({fill:c[d]},w),silent:!0})),d=(d+1)%l}this._splitAreaColors=o}}}});g8.extend({type:'xAxis'}),g8.extend({type:'yAxis'}),Vs({type:'grid',render:function(a,b){this.group.removeAll(),a.get('show')&&this.group.add(new aA({shape:a.coordinateSystem.getRect(),style:r({fill:a.get('backgroundColor')},a.getItemStyle()),silent:!0,z2:-1}))}}),Ls(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),Es(cJ('line','circle','line')),Os(d5('line')),ks(c$.PROCESSOR.STATISTIC,function(a){return {seriesType:a,modifyOutputEnd:!0,reset:function(d,l,m){var f=d.getData(),b=d.get('sampling'),e=d.coordinateSystem;if('cartesian2d'===e.type&&b){var i=e.getBaseAxis(),j=e.getOtherAxis(i),h=i.getExtent(),k=h[1]-h[0],g=Math.round(f.count()/k);if(g>1){var c;'string'==typeof b?c=rw[b]:'function'==typeof b&&(c=b),c&&d.setData(f.downSample(f.mapDimension(j.dim),1/g,c,rL))}}}}}('line'));var jK=aD.extend({type:'series.__base_bar__',getInitialData:function(b,a){return dl(this.getSource(),this)},getMarkerPosition:function(f){var a=this.coordinateSystem;if(a){var b=a.dataToPoint(a.clampData(f)),c=this.getData(),e=c.getLayout('offset'),d=c.getLayout('size');return b[a.getBaseAxis().isHorizontal()?0:1]+=e+d/2,b}return [NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:'cartesian2d',legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3000,progressiveChunkMode:'mod',itemStyle:{},emphasis:{}}});jK.extend({type:'series.bar',dependencies:['grid','polar'],brushSelector:'rect',getProgressive:function(){return !!this.get('large')&&this.get('progressive')},getProgressiveThreshold:function(){var a=this.get('progressiveThreshold'),b=this.get('largeThreshold');return b>a&&(a=b),a}});var pR=c6([['fill','color'],['stroke','borderColor'],['lineWidth','borderWidth'],['stroke','barBorderColor'],['lineWidth','barBorderWidth'],['opacity'],['shadowBlur'],['shadowOffsetX'],['shadowOffsetY'],['shadowColor']]),tK={getBarItemStyle:function(c){var a=pR(this,c);if(this.getBorderLineDash){var b=this.getBorderLineDash();b&&(a.lineDash=b)}return a}},nM=['itemStyle','barBorderWidth'];a(Lo.prototype,tK),Fs({type:'bar',render:function(a,b,c){this._updateDrawMode(a);var d=a.get('coordinateSystem');return 'cartesian2d'!==d&&'polar'!==d||(this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c)),this.group},incrementalPrepareRender:function(a,b,c){this._clear(),this._updateDrawMode(a)},incrementalRender:function(b,a,c,d){this._incrementalRenderLarge(b,a)},_updateDrawMode:function(b){var a=b.pipelineContext.large;(null==this._isLargeDraw||a^this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},_renderNormal:function(d,i,j){var c,f=this.group,a=d.getData(),g=this._data,b=d.coordinateSystem,h=b.getBaseAxis();'cartesian2d'===b.type?c=h.isHorizontal():'polar'===b.type&&(c='angle'===h.dim);var e=d.isAnimationEnabled()?d:null;a.diff(g).add(function(g){if(a.hasValue(g)){var h=a.getItemModel(g),l=jS[b.type](a,g,h),k=kW[b.type](a,g,h,l,c,e);a.setItemGraphicEl(g,k),f.add(k),Lh(k,a,g,h,l,d,c,'polar'===b.type)}}).update(function(h,n){var k=g.getItemGraphicEl(n);if(a.hasValue(h)){var m=a.getItemModel(h),l=jS[b.type](a,h,m);k?bo(k,{shape:l},e,h):k=kW[b.type](a,h,m,l,c,e,!0),a.setItemGraphicEl(h,k),f.add(k),Lh(k,a,h,m,l,d,c,'polar'===b.type)}else {f.remove(k)}}).remove(function(c){var a=g.getItemGraphicEl(c);'cartesian2d'===b.type?a&&Dh(c,e,a):a&&Ch(c,e,a)}).execute(),this._data=a},_renderLarge:function(a,b,c){this._clear(),Ph(a,this.group)},_incrementalRenderLarge:function(b,a){Ph(a,this.group,!0)},dispose:B,remove:function(a){this._clear(a)},_clear:function(a){var c=this.group,b=this._data;a&&a.get('animation')&&b&&!this._isLargeDraw?b.eachItemGraphicEl(function(b){'sector'===b.type?Ch(b.dataIndex,a,b):Dh(b.dataIndex,a,b)}):c.removeAll(),this._data=null}});var kW={cartesian2d:function(l,g,k,e,h,f,i){var c=new aA({shape:a({},e)});if(f){var j=c.shape,b=h?'height':'width',d={};j[b]=0,d[b]=e[b],a2[i?'updateProps':'initProps'](c,{shape:d},f,g)}return c},polar:function(l,g,k,a,f,d,j){var i=a.startAngle<a.endAngle,c=new bI({shape:r({clockwise:i},a)});if(d){var h=c.shape,b=f?'r':'endAngle',e={};h[b]=f?0:a.startAngle,e[b]=a[b],a2[j?'updateProps':'initProps'](c,{shape:e},d,g)}return c}},jS={cartesian2d:function(g,e,f){var a=g.getItemLayout(e),b=kh(f,a),c=a.width>0?1:-1,d=a.height>0?1:-1;return {x:a.x+c*b/2,y:a.y+d*b/2,width:a.width-c*b,height:a.height-d*b}},polar:function(c,b,d){var a=c.getItemLayout(b);return {cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}},n6=kn.extend({type:'largeBar',shape:{points:[]},buildPath:function(d,e){for(var b=e.points,c=this.__startPoint,f=this.__valueIdx,a=0;a<b.length;a+=2){c[this.__valueIdx]=b[a+f],d.moveTo(c[0],c[1]),d.lineTo(b[a],b[a+1])}}});Os(v(kl,'bar')),Os(rJ),Es({seriesType:'bar',reset:function(a){a.getData().setVisual('legendSymbol','roundRect')}});var c5=function(e,b,f){b=y(b)&&{coordDimensions:b}||a({},b);var c=e.getSource(),g=dB(c,b),d=new aH(g,e);return d.initData(c,f),d},gT={updateSelectedMap:function(a){this._targetList=y(a)?a.slice():[],this._selectTargetMap=p(a||[],function(c,b){return c.set(b.name,b),c},R())},select:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);'single'===this.get('selectedMode')&&this._selectTargetMap.each(function(b){b.selected=!1}),b&&(b.selected=!0)},unSelect:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);b&&(b.selected=!1)},toggleSelected:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);if(null!=b){return this[b.selected?'unSelect':'select'](c,a),b.selected}},isSelected:function(c,a){var b=null!=a?this._targetList[a]:this._selectTargetMap.get(c);return b&&b.selected}},fq=Gs({type:'series.pie',init:function(a){fq.superApply(this,'init',arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(a)},mergeOption:function(a){fq.superCall(this,'mergeOption',a),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(b,a){return c5(this,['value'])},_createSelectableList:function(){for(var b=this.getRawData(),d=b.mapDimension('value'),c=[],a=0,e=b.count();a<e;a++){c.push({name:b.getName(a),value:b.get(d,a),selected:cr(b,a,'selected')})}return c},getDataParams:function(d){var a=this.getData(),b=fq.superCall(this,'getDataParams',d),c=[];return a.each(a.mapDimension('value'),function(a){c.push(a)}),b.percent=Wo(c,d,a.hostModel.get('percentPrecision')),b.$vars.push('percent'),b},_defaultLabelLine:function(a){Ci(a,'labelLine',['show']);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:['50%','50%'],radius:[0,'75%'],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:'outer'},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:'solid'}},itemStyle:{borderWidth:1},animationType:'expansion',animationEasing:'cubicOut'}});h(fq,gT);var kS=Rh.prototype;kS.updateData=function(f,c,k){function n(){b.stopAnimation(!0),b.animateTo({shape:{r:e.r+d.get('hoverOffset')}},300,'elasticOut')}function o(){b.stopAnimation(!0),b.animateTo({shape:{r:e.r}},300,'elasticOut')}var b=this.childAt(0),d=f.hostModel,g=f.getItemModel(c),e=f.getItemLayout(c),h=a({},e);h.label=null,k?(b.setShape(h),'scale'===d.getShallow('animationType')?(b.shape.r=e.r0,So(b,{shape:{r:e.r}},d,c)):(b.shape.endAngle=e.startAngle,bo(b,{shape:{endAngle:e.endAngle}},d,c))):bo(b,{shape:h},d,c);var j=f.getItemVisual(c,'color');b.useStyle(r({lineJoin:'bevel',fill:j},g.getModel('itemStyle').getItemStyle())),b.hoverStyle=g.getModel('emphasis.itemStyle').getItemStyle();var i=g.getShallow('cursor');i&&b.attr('cursor',i),Eh(this,f.getItemLayout(c),d.isSelected(null,c),d.get('selectedOffset'),d.get('animation')),b.off('mouseover').off('mouseout').off('emphasis').off('normal'),g.get('hoverAnimation')&&d.isAnimationEnabled()&&b.on('mouseover',n).on('mouseout',o).on('emphasis',n).on('normal',o),this._updateLabel(f,c),uo(this)},kS._updateLabel=function(c,b){var d=this.childAt(1),e=this.childAt(2),l=c.hostModel,f=c.getItemModel(b),a=c.getItemLayout(b).label,i=c.getItemVisual(b,'color');bo(d,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},l,b),bo(e,{style:{x:a.x,y:a.y}},l,b),e.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var k=f.getModel('label'),m=f.getModel('emphasis.label'),h=f.getModel('labelLine'),j=f.getModel('emphasis.labelLine'),i=c.getItemVisual(b,'color');co(e.style,e.hoverStyle={},k,m,{labelFetcher:c.hostModel,labelDataIndex:b,defaultText:c.getName(b),autoColor:i,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:c.getItemVisual(b,'opacity')}),e.ignore=e.normalIgnore=!k.get('show'),e.hoverIgnore=!m.get('show'),d.ignore=d.normalIgnore=!h.get('show'),d.hoverIgnore=!j.get('show'),d.setStyle({stroke:i,opacity:c.getItemVisual(b,'opacity')}),d.setStyle(h.getModel('lineStyle').getLineStyle()),d.hoverStyle=j.getModel('lineStyle').getLineStyle();var g=h.get('smooth');g&&!0===g&&(g=0.4),d.setShape({smooth:g})},u(Rh,t);Mr.extend({type:'pie',init:function(){var a=new t();this._sectorGroup=a},render:function(c,n,f,j){if(!j||j.from!==this.uid){var a=c.getData(),d=this._data,b=this.group,k=n.get('animation'),i=!d,l=c.get('animationType'),h=v(Oh,this.uid,c,k,f),g=c.get('selectedMode');if(a.diff(d).add(function(e){var d=new Rh(a,e);i&&'scale'!==l&&d.eachChild(function(a){a.stopAnimation(!0)}),g&&d.on('click',h),a.setItemGraphicEl(e,d),b.add(d)}).update(function(i,k){var e=d.getItemGraphicEl(k);e.updateData(a,i),e.off('click'),g&&e.on('click',h),b.add(e),a.setItemGraphicEl(i,e)}).remove(function(e){var a=d.getItemGraphicEl(e);b.remove(a)}).execute(),k&&i&&a.count()>0&&'scale'!==l){var e=a.getItemLayout(0),o=Math.max(f.getWidth(),f.getHeight())/2,p=m(b.removeClipPath,b);b.setClipPath(this._createClipPath(e.cx,e.cy,o,e.startAngle,e.clockwise,p,c))}else {b.removeClipPath()}this._data=a}},dispose:function(){},_createClipPath:function(h,e,f,a,b,d,g){var c=new bI({shape:{cx:h,cy:e,r0:0,r:f,startAngle:a,endAngle:a,clockwise:b}});return So(c,{shape:{endAngle:a+(b?1:-1)*Math.PI*2}},g,d),c},containPoint:function(e,f){var a=f.getData().getItemLayout(0);if(a){var c=e[0]-a.cx,d=e[1]-a.cy,b=Math.sqrt(c*c+d*d);return b<=a.r&&b>=a.r0}}});var k4=function(b,a){d(a,function(c){c.update='updateView',Ps(c,function(d,f){var e={};return f.eachComponent({mainType:'series',subType:b,query:d},function(g){g[c.method]&&g[c.method](d.name,d.dataIndex);var h=g.getData();h.each(function(j){var i=h.getName(j);e[i]=g.isSelected(i)||!1})}),{name:d.name,selected:e}})})},fL=function(a){return {getTargetSeries:function(c){var d={},b=R();return c.eachSeriesByType(a,function(e){e.__paletteScope=d,b.set(e.uid,e)}),b},reset:function(d,f){var b=d.getRawData(),e={},c=d.getData();c.each(function(b){var g=c.getRawIndex(b);e[g]=b}),b.each(function(g){var h=e[g],i=null!=h&&c.getItemVisual(h,'color',!0);if(i){b.setItemVisual(g,'color',i)}else {var j=b.getItemModel(g).get('itemStyle.color')||d.getColorFromPalette(b.getName(g)||g+'',d.__paletteScope,b.count());b.setItemVisual(g,'color',j),null!=h&&c.setItemVisual(h,'color',j)}})}}},qP=function(e,c,h,i){var d,b,a=e.getData(),g=[],f=!1;a.each(function(o){var p,q,D,m,j=a.getItemLayout(o),v=a.getItemModel(o),w=v.getModel('label'),n=w.get('position')||v.get('emphasis.label.position'),E=v.getModel('labelLine'),x=E.get('length'),F=E.get('length2'),s=(j.startAngle+j.endAngle)/2,k=Math.cos(s),r=Math.sin(s);d=j.cx,b=j.cy;var l='inside'===n||'inner'===n;if('center'===n){p=j.cx,q=j.cy,m='center'}else {var u=(l?(j.r+j.r0)/2*k:j.r*k)+d,t=(l?(j.r+j.r0)/2*r:j.r*r)+b;if(p=u+3*k,q=t+3*r,!l){var A=u+k*(x+c-j.r),C=t+r*(x+c-j.r),y=A+(k<0?-1:1)*F,z=C;p=y+(k<0?-5:5),q=z,D=[[u,t],[A,C],[y,z]]}m=l?'center':k>0?'left':'right'}var G=w.getFont(),B=w.get('rotate')?k<0?-s+Math.PI:-s:0,H=De(e.getFormattedLabel(o,'normal')||a.getName(o),G,m,'top');f=!!B,j.label={x:p,y:q,position:n,height:H.height,len:x,len2:F,linePoints:D,textAlign:m,verticalAlign:'middle',rotation:B,inside:l},l||g.push(j.label)}),!f&&e.get('avoidLabelOverlap')&&Bh(g,d,b,c,h,i)},fU=2*Math.PI,j4=Math.PI/180,dL=function(a){return {seriesType:a,reset:function(e,d){var b=d.findComponents({mainType:'legend'});if(b&&b.length){var c=e.getData();c.filterSelf(function(h){for(var g=c.getName(h),f=0;f<b.length;f++){if(!b[f].isSelected(g)){return !1}}return !0})}}}};k4('pie',[{type:'pieToggleSelect',event:'pieselectchanged',method:'toggleSelected'},{type:'pieSelect',event:'pieselected',method:'select'},{type:'pieUnSelect',event:'pieunselected',method:'unSelect'}]),Es(fL('pie')),Os(v(function(c,b,a,d){b.eachSeriesByType(c,function(f){var e=f.getData(),h=e.mapDimension('value'),i=f.get('center'),k=f.get('radius');y(k)||(k=[0,k]),y(i)||(i=[i,i]);var u=a.getWidth(),v=a.getHeight(),B=Math.min(u,v),D=Ro(i[0],u),A=Ro(i[1],v),t=Ro(k[0],B/2),o=Ro(k[1],B/2),p=-f.get('startAngle')*j4,m=f.get('minAngle')*j4,l=0;e.each(h,function(e){!isNaN(e)&&l++});var C=e.getSum(h),q=Math.PI/(C||l)*2,w=f.get('clockwise'),s=f.get('roseType'),E=f.get('stillShowZeroSum'),z=e.getDataExtent(h);z[0]=0;var n=fU,x=0,g=p,j=w?1:-1;if(e.each(h,function(i,k){var h;if(isNaN(i)){e.setItemLayout(k,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:D,cy:A,r0:t,r:s?NaN:o})}else {(h='area'!==s?0===C&&E?q:i*q:fU/l)<m?(h=m,n-=m):x+=i;var p=g+j*h;e.setItemLayout(k,{angle:h,startAngle:g,endAngle:p,clockwise:w,cx:D,cy:A,r0:t,r:s?Eo(i,z,[t,o]):o}),g=p}}),n<fU&&l){if(n<=0.001){var r=fU/l;e.each(h,function(i,g){if(!isNaN(i)){var h=e.getItemLayout(g);h.angle=r,h.startAngle=p+j*g*r,h.endAngle=p+j*(g+1)*r}})}else {q=n/x,g=p,e.each(h,function(k,l){if(!isNaN(k)){var h=e.getItemLayout(l),i=h.angle===m?m:k*q;h.startAngle=g,h.endAngle=g+j*i,g+=j*i}})}}qP(f,o,u,v)})},'pie')),ks(dL('pie')),aD.extend({type:'series.scatter',dependencies:['grid','polar','geo','singleAxis','calendar'],getInitialData:function(b,a){return dl(this.getSource(),this)},brushSelector:'point',getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?5000:this.get('progressive'):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?10000:this.get('progressiveThreshold'):a},defaultOption:{coordinateSystem:'cartesian2d',zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{opacity:0.8}}});var gX=Fn({shape:{points:null},symbolProxy:null,buildPath:function(c,f){var d=f.points,b=f.size,h=this.symbolProxy,a=h.shape;if(!((c.getContext?c.getContext():c)&&b[0]<4)){for(var e=0;e<d.length;){var i=d[e++],g=d[e++];isNaN(i)||isNaN(g)||(a.x=i-b[0]/2,a.y=g-b[1]/2,a.width=b[0],a.height=b[1],h.buildPath(c,a,!0))}}},afterBrush:function(d){var f=this.shape,b=f.points,a=f.size;if(a[0]<4){this.setTransform(d);for(var c=0;c<b.length;){var e=b[c++],g=b[c++];isNaN(e)||isNaN(g)||d.fillRect(e-a[0]/2,g-a[1]/2,a[0],a[1])}this.restoreTransform(d)}},findDataIndex:function(j,d){for(var f=this.shape,b=f.points,h=f.size,c=Math.max(h[0],4),i=Math.max(h[1],4),a=b.length/2-1;a>=0;a--){var g=2*a,k=b[g]-c/2,e=b[g+1]-i/2;if(j>=k&&d>=e&&j<=k+c&&d<=e+i){return a}}return -1}}),bZ=Vh.prototype;bZ.isPersistent=function(){return !this._incremental},bZ.updateData=function(b){this.group.removeAll();var a=new gX({rectHover:!0,cursor:'default'});a.setShape({points:b.getLayout('symbolPoints')}),this._setCommon(a,b),this.group.add(a),this._incremental=null},bZ.updateLayout=function(b){if(!this._incremental){var a=b.getLayout('symbolPoints');this.group.eachChild(function(c){if(null!=c.startIndex){var d=2*(c.endIndex-c.startIndex),e=4*c.startIndex*2;a=new Float32Array(a.buffer,e,d)}c.setShape('points',a)})}},bZ.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>2000000?(this._incremental||(this._incremental=new Gn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},bZ.incrementalUpdate=function(c,b){var a;this._incremental?(a=new gX(),this._incremental.addDisplayable(a,!0)):((a=new gX({rectHover:!0,cursor:'default',startIndex:c.start,endIndex:c.end})).incremental=!0,this.group.add(a)),a.setShape({points:b.getLayout('symbolPoints')}),this._setCommon(a,b,!!this._incremental)},bZ._setCommon=function(a,b,g){var d=b.hostModel,c=b.getVisual('symbolSize');a.setShape('size',c instanceof Array?c:[c,c]),a.symbolProxy=Xl(b.getVisual('symbol'),0,0,0,0),a.setColor=a.symbolProxy.setColor;var f=a.shape.size[0]<4;a.useStyle(d.getModel('itemStyle').getItemStyle(f?['color','shadowBlur','shadowColor']:['color']));var e=b.getVisual('color');e&&a.setColor(e),g||(a.seriesIndex=d.seriesIndex,a.on('mousemove',function(c){a.dataIndex=null;var d=a.findDataIndex(c.offsetX,c.offsetY);d>=0&&(a.dataIndex=d+(a.startIndex||0))}))},bZ.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},bZ._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()},Fs({type:'scatter',render:function(b,c,d){var a=b.getData();this._updateSymbolDraw(a,b).updateData(a),this._finished=!0},incrementalPrepareRender:function(b,c,d){var a=b.getData();this._updateSymbolDraw(a,b).incrementalPrepareUpdate(a),this._finished=!1},incrementalRender:function(b,a,c){this._symbolDraw.incrementalUpdate(b,a.getData()),this._finished=b.end===a.getData().count()},updateTransform:function(c,d,e){var a=c.getData();if(this.group.dirty(),!this._finished||a.count()>10000||!this._symbolDraw.isPersistent()){return {update:!0}}var b=d5().reset(c);b.progress&&b.progress({start:0,end:a.count()},a),this._symbolDraw.updateLayout(a)},_updateSymbolDraw:function(d,c){var a=this._symbolDraw,b=c.pipelineContext.large;return a&&b===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=b?new Vh():new Su(),this._isLargeDraw=b,this.group.removeAll()),this.group.add(a.group),a},remove:function(b,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Es(cJ('scatter','circle')),Os(d5('scatter')),u(Gh,aF),Fh.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Fh.prototype.dataToPoint=function(c,a){var b=this._indicatorAxes[a];return this.coordToPoint(b.dataToCoord(c),a)},Fh.prototype.coordToPoint=function(b,c){var a=this._indicatorAxes[c].angle;return [this.cx+b*Math.cos(a),this.cy-b*Math.sin(a)]},Fh.prototype.pointToData=function(i){var a=i[0]-this.cx,b=i[1]-this.cy,d=Math.sqrt(a*a+b*b);a/=d,b/=d;for(var e,k=Math.atan2(-b,a),g=1/0,h=-1,c=0;c<this._indicatorAxes.length;c++){var j=this._indicatorAxes[c],f=Math.abs(k-j.angle);f<g&&(e=j,h=c,g=f)}return [h,+(e&&e.coodToData(d))]},Fh.prototype.resize=function(b,e){var f=b.get('center'),g=e.getWidth(),h=e.getHeight(),c=Math.min(g,h)/2;this.cx=Ro(f[0],g),this.cy=Ro(f[1],h),this.startAngle=b.get('startAngle')*Math.PI/180;var a=b.get('radius');'string'!=typeof a&&'number'!=typeof a||(a=[0,a]),this.r0=Ro(a[0],c),this.r=Ro(a[1],c),d(this._indicatorAxes,function(c,d){c.setExtent(this.r0,this.r);var a=this.startAngle+d*Math.PI*2/this._indicatorAxes.length;a=Math.atan2(Math.sin(a),Math.cos(a)),c.angle=a},this)},Fh.prototype.update=function(e,f){function i(c){var b=Math.pow(10,Math.floor(Math.log(c)/Math.LN10)),a=c/b;return 2===a?a=5:a*=2,a*b}var b=this._indicatorAxes,c=this._model;d(b,function(a){a.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType('radar',function(a,h){if('radar'===a.get('coordinateSystem')&&e.getComponent('radar',a.get('radarIndex'))===c){var g=a.getData();d(b,function(b){b.scale.unionExtentFromData(g,g.mapDimension(b.dim))})}},this);var a=c.get('splitNumber');d(b,function(j,p){var g=Rl(j.scale,j.model);Bl(j.scale,j.model);var o=j.model,c=j.scale,h=o.getMin(),d=o.getMax(),b=c.getInterval();if(null!=h&&null!=d){c.setExtent(+h,+d),c.setInterval((d-h)/a)}else {if(null!=h){var l;do{l=h+b*a,c.setExtent(+h,l),c.setInterval(b),b=i(b)}while(l<g[1]&&isFinite(l)&&isFinite(g[1]))}else {if(null!=d){var k;do{k=d-b*a,c.setExtent(k,+d),c.setInterval(b),b=i(b)}while(k>g[0]&&isFinite(k)&&isFinite(g[0]))}else {c.getTicks().length-1>a&&(b=i(b));var m=Math.round((g[0]+g[1])/2/b)*b,n=Math.round(a/2);c.setExtent(zo(m-n*b),zo(m+(a-n)*b)),c.setInterval(b)}}}})},Fh.dimensions=[],Fh.create=function(b,c){var a=[];return b.eachComponent('radar',function(d){var e=new Fh(d,b,c);a.push(e),d.coordinateSystem=e}),b.eachSeriesByType('radar',function(d){'radar'===d.get('coordinateSystem')&&(d.coordinateSystem=a[d.get('radarIndex')||0])}),a},Ba.register('radar',Fh);var ej=b7.valueAxis,rE=(Bs({type:'radar',optionUpdated:function(){var o=this.get('boundaryGap'),e=this.get('splitNumber'),k=this.get('scale'),m=this.get('axisLine'),h=this.get('axisTick'),p=this.get('axisLabel'),c=this.get('name'),d=this.get('name.show'),b=this.get('name.formatter'),l=this.get('nameGap'),g=this.get('triggerEvent'),j=f(this.get('indicator')||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var q=c;if(null!=f.color&&(q=r({color:f.color},c)),f=n(i(f),{boundaryGap:o,splitNumber:e,scale:k,axisLine:m,axisTick:h,axisLabel:p,name:f.text,nameLocation:'end',nameGap:l,nameTextStyle:q,triggerEvent:g},!1),d||(f.name=''),'string'==typeof b){var s=f.name;f.name=b.replace('{value}',null!=s?s:'')}else {'function'==typeof b&&(f.name=b(f.name,f))}var j=a(new Lo(f,null,this.ecModel),b9);return j.mainType='radar',j.componentIndex=this.componentIndex,j},this);this.getIndicatorModels=function(){return j}},defaultOption:{zlevel:0,z:0,center:['50%','50%'],radius:'75%',startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:'polygon',axisLine:n({lineStyle:{color:'#bbb'}},ej.axisLine),axisLabel:Wh(ej.axisLabel,!1),axisTick:Wh(ej.axisTick,!1),splitLine:Wh(ej.splitLine,!0),splitArea:Wh(ej.splitArea,!0),indicator:[]}}),['axisLine','axisTickLabel','axisName']);Vs({type:'radar',render:function(a,b,c){this.group.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(b){var a=b.coordinateSystem;d(f(a.getIndicatorAxes(),function(c){return new a9(c.model,{position:[a.cx,a.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(a){d(rE,a.add,a),this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(o){function e(b,c,d){var a=d%c.length;return b[a]=b[a]||[],a}var m=o.coordinateSystem,n=m.getIndicatorAxes();if(n.length){var E=o.get('shape'),t=o.getModel('splitLine'),x=o.getModel('splitArea'),w=t.getModel('lineStyle'),z=x.getModel('areaStyle'),v=t.get('show'),u=x.get('show'),c=w.get('color'),b=z.get('color');c=y(c)?c:[c],b=y(b)?b:[b];var h=[],i=[];if('circle'===E){for(var j=n[0].getTicksCoords(),s=m.cx,A=m.cy,a=0;a<j.length;a++){v&&h[k=e(h,c,a)].push(new bV({shape:{cx:s,cy:A,r:j[a].coord}})),u&&a<j.length-1&&i[k=e(i,b,a)].push(new mV({shape:{cx:s,cy:A,r0:j[a].coord,r:j[a+1].coord}}))}}else {for(var l,D=f(n,function(c,b){var a=c.getTicksCoords();return l=null==l?a.length-1:Math.min(a.length-1,l),f(a,function(a){return m.coordToPoint(a.coord,b)})}),q=[],a=0;a<=l;a++){for(var g=[],p=0;p<n.length;p++){g.push(D[p][a])}if(g[0]&&g.push(g[0].slice()),v&&h[k=e(h,c,a)].push(new a4({shape:{points:g}})),u&&q){var k=e(i,b,a-1);i[k].push(new aY({shape:{points:g.concat(q)}}))}q=g.slice().reverse()}}var B=w.getLineStyle(),C=z.getAreaStyle();d(i,function(c,a){this.group.add(bN(c,{style:r({stroke:'none',fill:b[a%b.length]},C),silent:!0}))},this),d(h,function(b,a){this.group.add(bN(b,{style:r({fill:'none',stroke:c[a%c.length]},B),silent:!0}))},this)}}});var rW=aD.extend({type:'series.radar',dependencies:['radar'],init:function(a){rW.superApply(this,'init',arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(b,a){return c5(this,{generateCoord:'indicator_',generateCoordCount:1/0})},formatTooltip:function(c){var a=this.getData(),d=this.coordinateSystem.getIndicatorAxes(),b=this.getData().getName(c);return Qo(''===b?this.name:b)+'<br/>'+f(d,function(b,e){var d=a.get(a.mapDimension(b.dim),c);return Qo(b.name+' : '+d)}).join('<br />')},defaultOption:{zlevel:0,z:2,coordinateSystem:'radar',legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:'solid'},label:{position:'top'},symbol:'emptyCircle',symbolSize:4}});Fs({type:'radar',render:function(c,h,j){function o(b,a){var e=b.getItemVisual(a,'symbol')||'circle',g=b.getItemVisual(a,'color');if('none'!==e){var f=Hh(b.getItemVisual(a,'symbolSize')),d=Xl(e,-1,-1,2,2,g);return d.attr({style:{strokeNoScale:!0},z2:100,scale:[f[0]/2,f[1]/2]}),d}}function a(e,d,f,i,g,k){f.removeAll();for(var a=0;a<d.length-1;a++){var b=o(i,g);b&&(b.__dimIdx=a,e[a]?(b.attr('position',e[a]),a2[k?'initProps':'updateProps'](b,{position:d[a]},c,g)):b.attr('position',d[a]),f.add(b))}}function s(a){return f(a,function(b){return [e.cx,e.cy]})}var e=c.coordinateSystem,g=this.group,b=c.getData(),d=this._data;b.diff(d).add(function(d){var e=b.getItemLayout(d);if(e){var i=new aY(),g=new a4(),k={shape:{points:e}};i.shape.points=s(e),g.shape.points=s(e),So(i,k,c,d),So(g,k,c,d);var f=new t(),l=new t();f.add(g),f.add(i),f.add(l),a(g.shape.points,e,l,b,d,!0),b.setItemGraphicEl(d,f)}}).update(function(g,k){var f=d.getItemGraphicEl(k),i=f.childAt(0),l=f.childAt(1),m=f.childAt(2),e={shape:{points:b.getItemLayout(g)}};e.shape.points&&(a(i.shape.points,e.shape.points,m,b,g,!1),bo(i,e,c),bo(l,e,c),b.setItemGraphicEl(g,f))}).remove(function(a){g.remove(d.getItemGraphicEl(a))}).execute(),b.eachItemGraphicEl(function(d,f){function n(){e.attr('ignore',p)}function o(){e.attr('ignore',m)}var a=b.getItemModel(f),s=d.childAt(0),e=d.childAt(1),u=d.childAt(2),k=b.getItemVisual(f,'color');g.add(d),s.useStyle(r(a.getModel('lineStyle').getLineStyle(),{fill:'none',stroke:k})),s.hoverStyle=a.getModel('emphasis.lineStyle').getLineStyle();var l=a.getModel('areaStyle'),q=a.getModel('emphasis.areaStyle'),m=l.isEmpty()&&l.parentModel.isEmpty(),p=q.isEmpty()&&q.parentModel.isEmpty();p=p&&m,e.ignore=m,e.useStyle(r(l.getAreaStyle(),{fill:k,opacity:0.7})),e.hoverStyle=q.getAreaStyle();var v=a.getModel('itemStyle').getItemStyle(['color']),x=a.getModel('emphasis.itemStyle').getItemStyle(),w=a.getModel('label'),t=a.getModel('emphasis.label');u.eachChild(function(a){a.setStyle(v),a.hoverStyle=i(x),co(a.style,a.hoverStyle,w,t,{labelFetcher:b.hostModel,labelDataIndex:f,labelDimIndex:a.__dimIdx,defaultText:b.get(b.dimensions[a.__dimIdx],f),autoColor:k,isRectText:!0})}),d.off('mouseover').off('mouseout').off('normal').off('emphasis'),d.on('emphasis',n).on('mouseover',n).on('normal',o).on('mouseout',o),uo(d)}),this._data=b},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});Es(fL('radar')),Es(cJ('radar','circle')),Os(function(a){a.eachSeriesByType('radar',function(g){var d=g.getData(),b=[],e=g.coordinateSystem;if(e){for(var f=e.getIndicatorAxes(),c=0;c<f.length;c++){d.each(d.mapDimension(f[c].dim),function(f,d){b[d]=b[d]||[],b[d][c]=e.dataToPoint(f,c)})}d.each(function(c){b[c][0]&&b[c].push(b[c][0].slice()),d.setItemLayout(c,b[c])})}})}),ks(dL('radar')),Ls(function(a){var b=a.polar;if(b){y(b)||(b=[b]);var c=[];d(b,function(b,d){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],y(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)}),a.polar=c}d(a.series,function(b){b&&'radar'===b.type&&b.polarIndex&&(b.radarIndex=b.polarIndex)})});var mB=Q;h(Zh,bF),Uh.prototype={constructor:Uh,type:'view',dimensions:['x','y'],setBoundingRect:function(d,a,b,c){return this._rect=new ue(d,a,b,c),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(d,a,b,c){this.transformTo(d,a,b,c),this._viewRect=new ue(d,a,b,c)},transformTo:function(f,b,c,d){var e=this.getBoundingRect(),a=this._rawTransformable;a.transform=e.calculateTransform(new ue(f,b,c,d)),a.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return [a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),c=this._roamTransformable,b=this.getDefaultCenter(),a=this.getCenter(),d=this.getZoom();a=Q([],a,e),b=Q([],b,e),c.origin=a,c.position=[b[0]-a[0],b[1]-a[1]],c.scale=[d,d],this._updateTransform()},_updateTransform:function(){var b=this._roamTransformable,a=this._rawTransformable;a.parent=b,b.updateTransform(),a.updateTransform(),yt(this.transform||(this.transform=[]),a.transform||mt()),this._rawTransform=a.getLocalTransform(),this.invTransform=this.invTransform||[],St(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(c,d,a){var b=d?this._rawTransform:this.transform;return a=a||[],b?mB(a,c,b):G(a,c)},pointToData:function(a){var b=this.invTransform;return b?mB([],a,b):[a[0],a[1]]},convertToPixel:v(Xh,'dataToPoint'),convertFromPixel:v(Xh,'pointToData'),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},h(Uh,bF);for(var iI=[126,25],cG=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],cO=0;cO<cG.length;cO++){for(var dE=0;dE<cG[cO].length;dE++){cG[cO][dE][0]/=10.5,cG[cO][dE][1]/=-14,cG[cO][dE][0]+=iI[0],cG[cO][dE][1]+=iI[1]}}var sk=function(b,a){'china'===b&&a.push(new ql('',f(cG,function(c){return {type:'polygon',exterior:c}}),iI))},s9={'':[32,80],'':[0,-10],'':[10,5],'':[-10,10],'':[5,5]},rS=function(d,b){if('china'===d){var a=s9[b.name];if(a){var c=b.center;c[0]+=a[0]/10.5,c[1]+=-a[1]/14}}},q6={Russia:[100,60],'United States':[-99,38],'United States of America':[-99,38]},rq=function(d,b){if('world'===d){var a=q6[b.name];if(a){var c=b.center;c[0]=a[0],c[1]=a[1]}}},rK=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],sN=function(b,a){'china'===b&&''===a.name&&a.geometries.push({type:'polygon',exterior:rK[0]})},lV=Bi(),sA={load:function(c,b){var f=lV(b).parsed;if(f){return f}var a,g=b.specialAreas||{},e=b.geoJSON;try{a=e?gN(e):[]}catch(tN){throw new Error('Invalid geoJson format\n'+tN.message)}return d(a,function(a){var e=a.name;rS(c,a),rq(c,a),sN(c,a);var d=g[e];d&&a.transformTo(d.left,d.top,d.width,d.height)}),sk(c,a),lV(b).parsed={regions:a,boundingRect:jh(a)}}},dH=Bi(),m8={geoJSON:sA,svg:{load:function(d,a){var c=dH(a).originRoot;if(c){return {root:c,boundingRect:dH(a).boundingRect}}var b=Yh(a);return dH(a).originRoot=b.root,dH(a).boundingRect=b.boundingRect,b},makeGraphic:function(h,d,c){var a=dH(d),e=a.rootMap||(a.rootMap=R()),b=e.get(c);if(b){return b}var f=a.originRoot,g=a.boundingRect;return a.originRootHostKey?b=Yh(d,g).root:(a.originRootHostKey=c,b=f),e.set(c,b)},removeGraphic:function(e,d,b){var a=dH(d),c=a.rootMap;c&&c.removeKey(b),b===a.originRootHostKey&&(a.originRootHostKey=null)}}},f6={load:function(g,b){var a,e=[],f=R(),c=R();return d(Kh(g),function(i){var j=m8[i.type].load(g,i);d(j.regions,function(a){var d=a.name;b&&b.hasOwnProperty(d)&&(a=a.cloneShallow(d=b[d])),e.push(a),f.set(d,a),c.set(d,a.center)});var h=j.boundingRect;h&&(a?a.union(h):a=h.clone())}),{regions:e,regionsMap:f,nameCoordMap:c,boundingRect:a||new ue(0,0,0,0)}},makeGraphic:qh('makeGraphic'),removeGraphic:qh('removeGraphic')};$h.prototype={constructor:$h,type:'geo',dimensions:['lng','lat'],containCoord:function(c){for(var b=this.regions,a=0;a<b.length;a++){if(b[a].contain(c)){return !0}}return !1},transformTo:function(h,e,f,g){var a=this.getBoundingRect(),c=this._invertLongitute;a=a.clone(),c&&(a.y=-a.y-a.height);var b=this._rawTransformable;if(b.transform=a.calculateTransform(new ue(h,e,f,g)),b.decomposeTransform(),c){var d=b.scale;d[1]=-d[1]}b.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(c){for(var b=this.regions,a=0;a<b.length;a++){if(b[a].contain(c)){return b[a]}}},addGeoCoord:function(b,a){this._nameCoordMap.set(b,a)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){return this._rect},dataToPoint:function(a,b,c){if('string'==typeof a&&(a=this.getGeoCoord(a)),a){return Uh.prototype.dataToPoint.call(this,a,b,c)}},convertToPixel:v(Jh,'dataToPoint'),convertFromPixel:v(Jh,'pointToData')},h($h,Uh);var hP={dimensions:$h.prototype.dimensions,create:function(c,e){var a=[];c.eachComponent('geo',function(d,j){var g=d.get('map'),f=d.get('aspectScale'),i=!0,h=fT.retrieveMap(g);h&&h[0]&&'svg'===h[0].type?(null==f&&(f=1),i=!1):null==f&&(f=0.75);var b=new $h(g+j,g,d.get('nameMap'),i);b.aspectScale=f,b.zoomLimit=d.get('scaleLimit'),a.push(b),tc(b,d),d.coordinateSystem=b,b.model=d,b.resize=Qh,b.resize(d,e)}),c.eachSeries(function(b){if('geo'===b.get('coordinateSystem')){var d=b.get('geoIndex')||0;b.coordinateSystem=a[d]}});var b={};return c.eachSeriesByType('map',function(d){if(!d.getHostGeoModel()){var a=d.getMapType();b[a]=b[a]||[],b[a].push(d)}}),d(b,function(g,h){var b=new $h(h,h,o(f(g,function(a){return a.get('nameMap')})));b.zoomLimit=T.apply(null,f(g,function(a){return a.get('scaleLimit')})),a.push(b),b.resize=Qh,b.aspectScale=g[0].get('aspectScale'),b.resize(g[0],e),d(g,function(a){a.coordinateSystem=b,tc(b,a)})}),a},getFilledRegions:function(g,e,f){for(var a=(g||[]).slice(),c=R(),b=0;b<a.length;b++){c.set(a[b].name,a[b])}return d(f6.load(e,f).regions,function(d){var b=d.name;!c.get(b)&&a.push({name:b})}),a}};Ns('geo',hP);var i0=aD.extend({type:'series.map',dependencies:['geo'],layoutMode:'box',needsDrawMap:!1,seriesGroup:[],init:function(a){i0.superApply(this,'init',arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(a){return c5(this,['value'])},mergeOption:function(a){i0.superApply(this,'mergeOption',arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var b=this.getRawData(),d=b.mapDimension('value'),c=[],a=0,e=b.count();a<e;a++){c.push({name:b.getName(a),value:b.get(d,a),selected:cr(b,a,'selected')})}return c=hP.getFilledRegions(c,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return (this.getHostGeoModel()||this).option.map},_fillOption:function(b,a){},getRawValue:function(b){var a=this.getData();return a.get(a.mapDimension('value'),b)},getRegionModel:function(b){var a=this.getData();return a.getItemModel(a.indexOfName(b))},formatTooltip:function(f){for(var d=this.getData(),g=$o(this.getRawValue(f)),e=d.getName(f),b=this.seriesGroup,c=[],a=0;a<b.length;a++){var i=b[a].originalData.indexOfName(e),h=d.mapDimension('value');isNaN(b[a].originalData.get(h,i))||c.push(Qo(b[a].name))}return c.join(', ')+'<br />'+Qo(e+' : '+g)},getTooltipPosition:function(c){if(null!=c){var d=this.getData().getName(c),a=this.coordinateSystem,b=a.getRegion(d);return b&&a.dataToPoint(b.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:'geo',map:'',left:'center',top:'center',aspectScale:0.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:'#000'},itemStyle:{borderWidth:0.5,borderColor:'#444',areaColor:'#eee'},emphasis:{label:{show:!0,color:'rgb(100,0,0)'},itemStyle:{areaColor:'rgba(255,215,0,0.8)'}}}});h(i0,gT);var lB='\x00_ec_interaction_mutex';Ps({type:'takeGlobalCursor',event:'globalCursorTaken',update:'update'},function(){}),h(ac,aG);var pZ={axisPointer:1,tooltip:1,brush:1};_c.prototype={constructor:_c,draw:function(a,i,j,p,q){var f='geo'===a.mainType,b=a.getData&&a.getData();f&&i.eachComponent({mainType:'series',subType:'map'},function(c){b||c.getHostGeoModel()!==a||(b=c.getData())});var e=a.coordinateSystem;this._updateBackground(e);var c=this._regionsGroup,k=this.group,g=e.scale,h={position:e.position,scale:g};!c.childAt(0)||q?k.attr(h):bo(k,h,a),c.removeAll();var m=['itemStyle'],r=['emphasis','itemStyle'],n=['label'],o=['emphasis','label'],l=R();d(e.regions,function(e){var h=l.get(e.name)||l.set(e.name,new t()),k=new l0({shape:{paths:[]}});h.add(k);var s,G=(u=a.getRegionModel(e.name)||a).getModel(m),H=u.getModel(r),z=vc(G),I=vc(H),B=u.getModel(n),y=u.getModel(o);if(b){s=b.indexOfName(e.name);var A=b.getItemVisual(s,'color',!0);A&&(z.fill=A)}d(e.geometries,function(b){if('polygon'===b.type){k.shape.paths.push(new aY({shape:{points:b.exterior}}));for(var c=0;c<(b.interiors?b.interiors.length:0);c++){k.shape.paths.push(new aY({shape:{points:b.interiors[c]}}))}}}),k.setStyle(z),k.style.strokeNoScale=!0,k.culling=!0;var F=B.get('show'),E=y.get('show'),D=b&&isNaN(b.get(b.mapDimension('value'),s)),w=b&&b.getItemLayout(s);if(f||D&&(F||E)||w&&w.showLabel){var x,C=f?e.name:s;(!b||s>=0)&&(x=a);var v=new ak({position:e.center.slice(),scale:[1/g[0],1/g[1]],z2:10,silent:!0});co(v.style,v.hoverStyle={},B,y,{labelFetcher:x,labelDataIndex:C,defaultText:e.name,useInsideStyle:!1},{textAlign:'center',textVerticalAlign:'middle'}),h.add(v)}if(b){b.setItemGraphicEl(s,h)}else {var u=a.getRegionModel(e.name);k.eventData={componentType:'geo',componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:e.name,region:u&&u.option||{}}}(h.__regions||(h.__regions=[])).push(e),uo(h,I,{hoverSilentOnTouch:!!a.get('selectedMode')}),c.add(h)}),this._updateController(a,i,j),yc(this,a,c,j,p),xc(a,c)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&f6.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(b){var a=b.map;this._mapName!==a&&d(f6.makeGraphic(a,this.uid),function(a){this._backgroundGroup.add(a)},this),this._mapName=a},_updateController:function(b,h,e){function n(){var a={type:'geoRoam',componentType:f};return a[f+'Id']=b.id,a}var g=b.coordinateSystem,c=this._controller,d=this._controllerHost;d.zoomLimit=b.get('scaleLimit'),d.zoom=g.getZoom(),c.enable(b.get('roam')||!1);var f=b.mainType;c.off('pan').on('pan',function(c){this._mouseDownFlag=!1,pc(d,c.dx,c.dy),e.dispatchAction(a(n(),{dx:c.dx,dy:c.dy}))},this),c.off('zoom').on('zoom',function(c){if(this._mouseDownFlag=!1,gc(d,c.scale,c.originX,c.originY),e.dispatchAction(a(n(),{zoom:c.scale,originX:c.originX,originY:c.originY})),this._updateGroup){var f=this.group.scale;this._regionsGroup.traverse(function(a){'text'===a.type&&a.attr('scale',[1/f[0],1/f[1]])})}},this),c.setPointerChecker(function(c,d,a){return g.getViewRectAfterRoam().contain(d,a)&&!mc(c,e,b)})}},Fs({type:'map',render:function(b,d,e,a){if(!a||'mapToggleSelect'!==a.type||a.from!==this.uid){var f=this.group;if(f.removeAll(),!b.getHostGeoModel()){if(a&&'geoRoam'===a.type&&'series'===a.componentType&&a.seriesId===b.id){(c=this._mapDraw)&&f.add(c.group)}else {if(b.needsDrawMap){var c=this._mapDraw||new _c(e,!0);f.add(c.group),c.draw(b,d,e,this,a),this._mapDraw=c}else {this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null}}b.get('showLegendSymbol')&&d.getComponent('legend')&&this._renderSymbols(b,d,e)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(b,d,e){var a=b.originalData,c=this.group;a.each(a.mapDimension('value'),function(t,g){if(!isNaN(t)){var h=a.getItemLayout(g);if(h&&h.point){var p=h.point,j=h.offset,f=new bV({style:{fill:b.getData().getVisual('color')},shape:{cx:p[0]+9*j,cy:p[1],r:3},silent:!0,z2:j?8:10});if(!j){var q=b.mainSeries.getData(),m=a.getName(g),s=q.indexOfName(m),l=a.getItemModel(g),i=l.getModel('label'),o=l.getModel('emphasis.label'),u=q.getItemGraphicEl(s),n=A(b.getFormattedLabel(g,'normal'),m),v=A(b.getFormattedLabel(g,'emphasis'),n),r=function(){var a=fo({},o,{text:o.get('show')?v:null},{isRectText:!0,useInsideStyle:!1},!0);f.style.extendFrom(a),f.__mapOriginalZ2=f.z2,f.z2+=1},k=function(){fo(f.style,i,{text:i.get('show')?n:null,textPosition:i.getShallow('position')||'bottom'},{isRectText:!0,useInsideStyle:!1}),null!=f.__mapOriginalZ2&&(f.z2=f.__mapOriginalZ2,f.__mapOriginalZ2=null)};u.on('mouseover',r).on('mouseout',k).on('emphasis',r).on('normal',k),k()}c.add(f)}}})}}),Ps({type:'geoRoam',event:'geoRoam',update:'updateTransform'},function(a,c){var b=a.componentType||'series';c.eachComponent({mainType:b,query:a},function(e){var g=e.coordinateSystem;if('geo'===g.type){var f=wc(g,a,e.get('scaleLimit'));e.setCenter&&e.setCenter(f.center),e.setZoom&&e.setZoom(f.zoom),'series'===b&&d(e.seriesGroup,function(b){b.setCenter(f.center),b.setZoom(f.zoom)})}})});Os(function(b){var a={};b.eachSeriesByType('map',function(e){var g=e.getMapType();if(!e.getHostGeoModel()&&!a[g]){var f={};d(e.seriesGroup,function(c){var d=c.coordinateSystem,a=c.originalData;c.get('showLegendSymbol')&&b.getComponent('legend')&&a.each(a.mapDimension('value'),function(l,h){var g=a.getName(h),i=d.getRegion(g);if(i&&!isNaN(l)){var j=f[g]||0,k=d.dataToPoint(i.center);f[g]=j+1,a.setItemLayout(h,{point:k,offset:j})}})});var c=e.getData();c.each(function(a){var g=c.getName(a),d=c.getItemLayout(a)||{};d.showLabel=!f[g],c.setItemLayout(a,d)}),a[g]=!0}})}),Es(function(a){a.eachSeriesByType('map',function(b){var c=b.get('color'),d=b.getModel('itemStyle'),e=d.get('areaColor'),f=d.get('color')||c[b.seriesIndex%c.length];b.getData().setVisual({areaColor:e,color:f})})}),ks(c$.PROCESSOR.STATISTIC,function(b){var a={};b.eachSeriesByType('map',function(c){var d=c.getHostGeoModel(),e=d?'o'+d.id:'i'+c.getMapType();(a[e]=a[e]||[]).push(c)}),d(a,function(c,e){for(var d=bc(f(c,function(a){return a.getData()}),c[0].get('mapValueCalculation')),a=0;a<c.length;a++){c[a].originalData=c[a].getData()}for(a=0;a<c.length;a++){c[a].seriesGroup=c,c[a].needsDrawMap=0===a&&!c[a].getHostGeoModel(),c[a].setData(d.cloneShallow()),c[a].mainSeries=c[0]}})}),Ls(function(b){var a=[];d(b.series,function(c){c&&'map'===c.type&&(a.push(c),c.map=c.map||c.mapType,r(c,c.mapLocation))})}),k4('map',[{type:'mapToggleSelect',event:'mapselectchanged',method:'toggleSelected'},{type:'mapSelect',event:'mapselected',method:'select'},{type:'mapUnSelect',event:'mapunselected',method:'unSelect'}]);var dQ=d,dP='\x00__link_datas',e1='\x00__link_mainData',gA=function(b,a){this.name=b||'',this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=a};gA.prototype={constructor:gA,isRemoved:function(){return this.dataIndex<0},eachNode:function(a,b,c){'function'==typeof a&&(c=b,b=a,a=null),_(a=a||{})&&(a={order:a});var f,g=a.order||'preorder',e=this[a.attr||'children'];'preorder'===g&&(f=b.call(c,this));for(var d=0;!f&&d<e.length;d++){e[d].eachNode(a,b,c)}'postorder'===g&&b.call(c,this)},updateDepthAndHeight:function(d){var a=0;this.depth=d;for(var b=0;b<this.children.length;b++){var c=this.children[b];c.updateDepthAndHeight(d+1),c.height>a&&(a=c.height)}this.height=a+1},getNodeById:function(d){if(this.getId()===d){return this}for(var a=0,b=this.children,e=b.length;a<e;a++){var c=b[a].getNodeById(d);if(c){return c}}},contains:function(d){if(d===this){return !0}for(var a=0,b=this.children,e=b.length;a<e;a++){var c=b[a].contains(d);if(c){return c}}},getAncestors:function(c){for(var b=[],a=c?this:this.parentNode;a;){b.push(a),a=a.parentNode}return b.reverse(),b},getValue:function(b){var a=this.hostTree.data;return a.get(a.getDimension(b||'value'),this.dataIndex)},setLayout:function(b,a){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,b,a)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(d){if(!(this.dataIndex<0)){var a,b=this.hostTree,e=b.data.getItemModel(this.dataIndex),c=this.getLevelModel();return c||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(a=this.getLeavesModel()),e.getModel(d,(c||a||b.hostModel).getModel(d))}},getLevelModel:function(){return (this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(b,a){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,b,a)},getVisual:function(b,a){return this.hostTree.data.getItemVisual(this.dataIndex,b,a)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(b){for(var a=b.parentNode;a;){if(a===this){return !0}a=a.parentNode}return !1},isDescendantOf:function(a){return a!==this&&a.isAncestorOf(this)}},kc.prototype={constructor:kc,type:'tree',eachNode:function(c,a,b){this.root.eachNode(c,a,b)},getNodeByDataIndex:function(b){var a=this.data.getRawIndex(b);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var d=this.data,b=this._nodes,a=0,c=b.length;a<c;a++){b[a].dataIndex=-1}for(var a=0,c=d.count();a<c;a++){b[d.getRawIndex(a)].dataIndex=a}},clearLayouts:function(){this.data.clearItemLayouts()}},kc.createTree=function(h,d,e){function n(g,k){var l=g.value;c=Math.max(c,y(l)?l.length:1),b.push(g);var f=new gA(g.name,a);k?Pc(f,k):a.root=f,a._nodes.push(f);var i=g.children;if(i){for(var j=0;j<i.length;j++){n(i[j],f)}}}var a=new kc(d,e.levels,e.leaves),b=[],c=1;n(h),a.root.updateDepthAndHeight(0);var g=dB(b,{coordDimensions:['value'],dimensionsCount:c}),f=new aH(g,d);return f.initData(b),Sc({mainData:f,struct:a,structAttr:'tree'}),a.update(),a},aD.extend({type:'series.tree',layoutInfo:null,layoutMode:'box',getInitialData:function(a){var e={name:a.name,children:a.data},f=a.leaves||{},d={};d.leaves=f;var c=kc.createTree(e,this,d),b=0;c.eachNode('preorder',function(c){c.depth>b&&(b=c.depth)});var g=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:b;return c.root.eachNode('preorder',function(b){var c=b.hostTree.data.getRawDataItem(b.dataIndex);b.isExpand=c&&null!=c.collapsed?!c.collapsed:b.depth<=g}),c.data},getOrient:function(){var a=this.get('orient');return 'horizontal'===a?a='LR':'vertical'===a&&(a='TB'),a},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},formatTooltip:function(f){for(var d=this.getData().tree,e=d.root.children[0],a=d.getNodeByDataIndex(f),c=a.getValue(),b=a.name;a&&a!==e;){b=a.parentNode.name+'.'+b,a=a.parentNode}return Qo(b+(isNaN(c)||null==c?'':' : '+c))},defaultOption:{zlevel:0,z:2,coordinateSystem:'view',left:'12%',top:'12%',right:'12%',bottom:'12%',layout:'orthogonal',roam:!1,nodeScaleRatio:0.4,center:null,zoom:1,orient:'LR',symbol:'emptyCircle',symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:'#ccc',width:1.5,curveness:0.5},itemStyle:{color:'lightsteelblue',borderColor:'#c23531',borderWidth:1.5},label:{show:!0,color:'#555'},leaves:{label:{show:!0}},animationEasing:'linear',animationDuration:700,animationDurationUpdate:1000}}),Fs({type:'tree',init:function(b,a){this._oldTree,this._mainGroup=new t(),this._controller=new ac(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(a,i,g,j){var b=a.getData(),c=a.layoutInfo,d=this._mainGroup,h=a.get('layout');'radial'===h?d.attr('position',[c.x+c.width/2,c.y+c.height/2]):d.attr('position',[c.x,c.y]),this._updateViewCoordSys(a),this._updateController(a,i,g);var e=this._data,f={expandAndCollapse:a.get('expandAndCollapse'),layout:h,orient:a.getOrient(),curvature:a.get('lineStyle.curveness'),symbolRotate:a.get('symbolRotate'),symbolOffset:a.get('symbolOffset'),hoverAnimation:a.get('hoverAnimation'),useNameLabel:!0,fadeIn:!0};b.diff(e).add(function(c){Xc(b,c)&&Yc(b,c,null,d,a,f)}).update(function(h,k){var c=e.getItemGraphicEl(k);Xc(b,h)?Yc(b,h,c,d,a,f):c&&qc(e,k,c,d,a,f)}).remove(function(b){var c=e.getItemGraphicEl(b);c&&qc(e,b,c,d,a,f)}).execute(),this._nodeScaleRatio=a.get('nodeScaleRatio'),this._updateNodeAndLinkScale(a),!0===f.expandAndCollapse&&b.eachItemGraphicEl(function(b,c){b.off('click').on('click',function(){g.dispatchAction({type:'treeExpandAndCollapse',seriesId:a.id,dataIndex:c})})}),this._data=b},_updateViewCoordSys:function(d){var e=d.getData(),f=[];e.each(function(b){var a=e.getItemLayout(b);!a||isNaN(a.x)||isNaN(a.y)||f.push([+a.x,+a.y])});var a=[],c=[];dn(f,a,c),c[0]-a[0]==0&&(c[0]+=1,a[0]-=1),c[1]-a[1]==0&&(c[1]+=1,a[1]-=1);var b=d.coordinateSystem=new Uh();b.zoomLimit=d.get('scaleLimit'),b.setBoundingRect(a[0],a[1],c[0]-a[0],c[1]-a[1]),b.setCenter(d.get('center')),b.setZoom(d.get('zoom')),this.group.attr({position:b.position,scale:b.scale}),this._viewCoordSys=b},_updateController:function(a,f,c){var d=this._controller,b=this._controllerHost,e=this.group;d.setPointerChecker(function(d,g,h){var b=e.getBoundingRect();return b.applyTransform(e.transform),b.contain(g,h)&&!mc(d,c,a)}),d.enable(a.get('roam')),b.zoomLimit=a.get('scaleLimit'),b.zoom=a.coordinateSystem.getZoom(),d.off('pan').off('zoom').on('pan',function(d){pc(b,d.dx,d.dy),c.dispatchAction({seriesId:a.id,type:'treeRoam',dx:d.dx,dy:d.dy})},this).on('zoom',function(d){gc(b,d.scale,d.originX,d.originY),c.dispatchAction({seriesId:a.id,type:'treeRoam',zoom:d.scale,originX:d.originX,originY:d.originY}),this._updateNodeAndLinkScale(a)},this)},_updateNodeAndLinkScale:function(b){var c=b.getData(),a=this._getNodeGlobalScale(b),d=[a,a];c.eachItemGraphicEl(function(a,c){a.attr('scale',d)})},_getNodeGlobalScale:function(e){var a=e.coordinateSystem;if('view'!==a.type){return 1}var c=this._nodeScaleRatio,b=a.scale,d=b&&b[0]||1;return ((a.getZoom()-1)*c+1)/d},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Ps({type:'treeExpandAndCollapse',event:'treeExpandAndCollapse',update:'update'},function(a,b){b.eachComponent({mainType:'series',subType:'tree',query:a},function(d){var e=a.dataIndex,c=d.getData().tree.getNodeByDataIndex(e);c.isExpand=!c.isExpand})}),Ps({type:'treeRoam',event:'treeRoam',update:'none'},function(a,b){b.eachComponent({mainType:'series',subType:'tree',query:a},function(c){var d=wc(c.coordinateSystem,a);c.setCenter&&c.setCenter(d.center),c.setZoom&&c.setZoom(d.zoom)})});Es(cJ('tree','circle')),Os(function(b,a){b.eachSeriesByType('tree',function(c){Qc(c,a)})}),aD.extend({type:'series.treemap',layoutMode:'box',dependencies:['grid','polar'],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:'center',top:'middle',right:null,bottom:null,width:'80%',height:'80%',sort:!0,clipWindow:'origin',squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:'',zoomToNodeRatio:0.1024,roam:!0,nodeClick:'zoomToNode',animation:!0,animationDurationUpdate:900,animationEasing:'quinticInOut',breadcrumb:{show:!0,height:22,left:'center',top:'bottom',emptyItemWidth:25,itemStyle:{color:'rgba(0,0,0,0.7)',borderColor:'rgba(255,255,255,0.7)',borderWidth:1,shadowColor:'rgba(150,150,150,1)',shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:'#fff'}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:'inside',color:'#fff',ellipsis:!0},upperLabel:{show:!1,position:[0,'50%'],height:20,color:'#fff',ellipsis:!0,verticalAlign:'middle'},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:'#fff',borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,'50%'],color:'#fff',ellipsis:!0,verticalAlign:'middle'}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:'index',visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,e){var c={name:a.name,children:a.data};od(c);var b=a.levels||[];b=a.levels=ad(b,e);var d={};return d.levels=b,kc.createTree(c,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(b){var c=this.getData(),a=this.getRawValue(b),d=$o(y(a)?a[0]:a);return Qo(c.getName(b)+': '+d)},getDataParams:function(c){var a=aD.prototype.getDataParams.apply(this,arguments),b=this.getData().tree.getNodeByDataIndex(c);return a.treePathInfo=nd(b,this),a},setLayoutInfo:function(b){this.layoutInfo=this.layoutInfo||{},a(this.layoutInfo,b)},mapIdToIndex:function(c){var a=this._idIndexMap;a||(a=this._idIndexMap=R(),this._idIndexMapCount=0);var b=a.get(c);return null==b&&a.set(c,b=this._idIndexMapCount++),b},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)}});var gG=5;rd.prototype={constructor:rd,render:function(h,d,e,i){var a=h.getModel('breadcrumb'),c=this.group;if(c.removeAll(),a.get('show')&&e){var f=a.getModel('itemStyle'),g=f.getModel('textStyle'),b={pos:{left:a.get('left'),right:a.get('right'),top:a.get('top'),bottom:a.get('bottom')},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:a.get('emptyItemWidth'),totalWidth:0,renderList:[]};this._prepare(e,b,g),this._renderContent(h,b,f,g,i),ua(c,b.pos,b.box)}},_prepare:function(g,b,f){for(var a=g;a;a=a.parentNode){var c=a.getModel().get('name'),e=f.getTextRect(c),d=Math.max(e.width+16,b.emptyItemWidth);b.totalWidth+=d+8,b.renderList.push({node:a,text:c,width:d})}},_renderContent:function(l,b,n,i,p){for(var f=0,k=b.emptyItemWidth,o=l.get('breadcrumb.height'),q=sa(b.pos,b.box),g=b.totalWidth,d=b.renderList,a=d.length-1;a>=0;a--){var e=d[a],j=e.node,c=e.width,h=e.text;g>q.width&&(g-=c-k,c=k,h=null);var m=new aY({shape:{points:sd(f,0,c,o,a===d.length-1,0===a)},style:r(n.getItemStyle(),{lineJoin:'bevel',text:h,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:v(p,j)});this.group.add(m),ld(m,l,j),f+=c+8}},remove:function(){this.group.removeAll()}};var eH=m,j8=t,l8=aA,bb=d,o5=['label'],pq=['emphasis','label'],n2=['upperLabel'],pQ=['emphasis','upperLabel'],tJ=10,nL=1,qA=2,gO=c6([['fill','color'],['stroke','strokeColor'],['lineWidth','strokeWidth'],['shadowBlur'],['shadowOffsetX'],['shadowOffsetY'],['shadowColor']]),jP=function(b){var a=gO(b);return a.stroke=a.fill=a.lineWidth=null,a};Fs({type:'treemap',init:function(b,a){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state='ready'},render:function(a,h,d,b){if(!(l(h.findComponents({mainType:'series',subType:'treemap',query:b}),a)<0)){this.seriesModel=a,this.api=d,this.ecModel=h;var e=td(b,['treemapZoomToNode','treemapRootToNode'],a),c=b&&b.type,k=a.layoutInfo,m=!this._oldTree,j=this._storage,i='treemapRootToNode'===c&&e&&j?{rootNodeGroup:j.nodeGroup[e.node.getRawIndex()],direction:b.direction}:null,f=this._giveContainerGroup(k),g=this._doRender(f,a,i);m||c&&'treemapZoomToNode'!==c&&'treemapRootToNode'!==c?g.renderFinally():this._doAnimation(f,g,a,i),this._resetController(d),this._renderBreadcrumb(a,d,e)}},_giveContainerGroup:function(b){var a=this._containerGroup;return a||(a=this._containerGroup=new j8(),this._initEvents(a),this.group.add(a)),a.attr('position',[b.x,b.y]),a},_doRender:function(k,d,j){function n(a,b,f,e,c){function r(g){return g.getId()}function s(m,o){var g=null!=m?a[m]:null,h=null!=o?b[o]:null,l=i(g,h,f,c);l&&n(g&&g.viewChildren||[],h&&h.viewChildren||[],l,e,c+1)}e?(b=a,bb(a,function(h,g){!h.isRemoved()&&s(g,g)})):(new Hs(b,a,r,r)).add(s).update(s).remove(v(s,null)).execute()}var b=d.getData().tree,a=this._oldTree,f={nodeGroup:[],background:[],content:[]},g={nodeGroup:[],background:[],content:[]},e=this._storage,h=[],i=v(hd,d,g,e,j,f,h);n(b.root?[b.root]:[],a&&a.root?[a.root]:[],k,b===a||!a,0);var c=function(b){var a={nodeGroup:[],background:[],content:[]};return b&&bb(b,function(f,c){var e=a[c];bb(f,function(a){a&&(e.push(a),a.__tmWillDelete=1)})}),a}(e);return this._oldTree=b,this._storage=g,{lastsForAnimation:f,willDeleteEls:c,renderFinally:function(){bb(c,function(a){bb(a,function(b){b.parent&&b.parent.remove(b)})}),bb(h,function(a){a.invisible=!0,a.dirty()})}}},_doAnimation:function(h,b,c,d){if(c.get('animation')){var f=c.get('animationDurationUpdate'),g=c.get('animationEasing'),e=ud();bb(b.willDeleteEls,function(i,a){bb(i,function(m,o){if(!m.invisible){var k,j=m.parent;if(d&&'drillDown'===d.direction){k=j===d.rootNodeGroup?{shape:{x:0,y:0,width:j.__tmNodeWidth,height:j.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else {var n=0,l=0;j.__tmWillDelete||(n=j.__tmNodeWidth/2,l=j.__tmNodeHeight/2),k='nodeGroup'===a?{position:[n,l],style:{opacity:0}}:{shape:{x:n,y:l,width:0,height:0},style:{opacity:0}}}k&&e.add(m,k,f,g)}})}),bb(this._storage,function(j,i){bb(j,function(k,n){var l=b.lastsForAnimation[i][n],m={};l&&('nodeGroup'===i?l.old&&(m.position=k.position.slice(),k.attr('position',l.old)):(l.old&&(m.shape=a({},k.shape),k.setShape(l.old)),l.fadein?(k.setStyle('opacity',0),m.style={opacity:1}):1!==k.style.opacity&&(m.style={opacity:1})),e.add(k,m,f,g))})},this),this._state='animating',e.done(eH(function(){this._state='ready',b.renderFinally()},this)).start()}},_resetController:function(b){var a=this._controller;a||((a=this._controller=new ac(b.getZr())).enable(this.seriesModel.get('roam')),a.on('pan',eH(this._onPan,this)),a.on('zoom',eH(this._onZoom,this)));var c=new ue(0,0,b.getWidth(),b.getHeight());a.setPointerChecker(function(e,a,d){return c.contain(a,d)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(b){if('animating'!==this._state&&(Math.abs(b.dx)>3||Math.abs(b.dy)>3)){var c=this.seriesModel.getData().tree.root;if(!c){return}var a=c.getLayout();if(!a){return}this.api.dispatchAction({type:'treemapMove',from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+b.dx,y:a.y+b.dy,width:a.width,height:a.height}})}},_onZoom:function(d){var e=d.originX,f=d.originY;if('animating'!==this._state){var g=this.seriesModel.getData().tree.root;if(!g){return}var c=g.getLayout();if(!c){return}var b=new ue(c.x,c.y,c.width,c.height),h=this.seriesModel.layoutInfo;e-=h.x,f-=h.y;var a=mt();_t(a,a,[-e,-f]),bt(a,a,[d.scale,d.scale]),_t(a,a,[e,f]),b.applyTransform(a),this.api.dispatchAction({type:'treemapRender',from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:b.x,y:b.y,width:b.width,height:b.height}})}},_initEvents:function(a){a.on('click',function(g){if('ready'===this._state){var c=this.seriesModel.get('nodeClick',!0);if(c){var b=this.findTarget(g.offsetX,g.offsetY);if(b){var d=b.node;if(d.getLayout().isLeafRoot){this._rootToNode(b)}else {if('zoomToNode'===c){this._zoomToNode(b)}else {if('link'===c){var f=d.hostTree.data.getItemModel(d.dataIndex),e=f.get('link',!0),h=f.get('target',!0)||'blank';e&&window.open(e,h)}}}}}}},this)},_renderBreadcrumb:function(a,c,b){b||(b=null!=a.get('leafDepth',!0)?{node:a.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2))||(b={node:a.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new rd(this.group))).render(a,c,b.node,eH(function(d){'animating'!==this._state&&(id(a.getViewRoot(),d)?this._rootToNode({node:d}):this._zoomToNode({node:d}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state='ready',this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:'treemapZoomToNode',from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:'treemapRootToNode',from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(c,b){var a;return this.seriesModel.getViewRoot().eachNode({attr:'viewChildren',order:'preorder'},function(g){var f=this._storage.background[g.getRawIndex()];if(f){var d=f.transformCoordToLocal(c,b),e=f.shape;if(!(e.x<=d[0]&&d[0]<=e.x+e.width&&e.y<=d[1]&&d[1]<=e.y+e.height)){return !1}a={node:g,offsetX:d[0],offsetY:d[1]}}},this),a}});for(var k0=['treemapZoomToNode','treemapRender','treemapMove'],gS=0;gS<k0.length;gS++){Ps({type:k0[gS],update:'updateView'},function(){})}Ps({type:'treemapRootToNode',update:'updateView'},function(a,b){b.eachComponent({mainType:'series',subType:'treemap',query:a},function(c,f){var d=td(a,['treemapZoomToNode','treemapRootToNode'],c);if(d){var e=c.getViewRoot();e&&(a.direction=id(e,d.node)?'rollUp':'drillDown'),c.resetViewRoot(d.node)}})});var d2=d,kR=w,e9=-1,aC=function(d){var b=d.mappingMethod,e=d.type,a=this.option=i(d);this.type=e,this.mappingMethod=b,this._normalizeData=sS[b];var c=d0[e];this.applyVisual=c.applyVisual,this.getColorMapper=c.getColorMapper,this._doMap=c._doMap[b],'piecewise'===b?(pd(a),dd(a)):'category'===b?a.categories?fd(a):pd(a,!0):(k('linear'!==b||a.dataExtent),pd(a))};aC.prototype={constructor:aC,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return m(this._normalizeData,this)}};var d0=aC.visualHandlers={color:{applyVisual:vd('color'),getColorMapper:function(){var a=this.option;return m('category'===a.mappingMethod?function(a,b){return !b&&(a=this._normalizeData(a)),yd.call(this,a)}:function(c,d,b){var e=!!b;return !d&&(c=this._normalizeData(c)),b=Wt(c,a.parsedVisual,b),e?b:Xt(b,'rgba')},this)},_doMap:{linear:function(a){return Xt(Wt(a,this.option.parsedVisual),'rgba')},category:yd,piecewise:function(c,b){var a=wd.call(this,b);return null==a&&(a=Xt(Wt(c,this.option.parsedVisual),'rgba')),a},fixed:xd}},colorHue:gd(function(b,a){return Zt(b,a)}),colorSaturation:gd(function(b,a){return Zt(b,null,a)}),colorLightness:gd(function(b,a){return Zt(b,null,null,a)}),colorAlpha:gd(function(b,a){return Ut(b,a)}),opacity:{applyVisual:vd('opacity'),_doMap:_d([0,1])},liftZ:{applyVisual:vd('liftZ'),_doMap:{linear:xd,category:xd,piecewise:xd,fixed:xd}},symbol:{applyVisual:function(d,e,c){var a=this.mapValueToVisual(d);if(_(a)){c('symbol',a)}else {if(kR(a)){for(var b in a){a.hasOwnProperty(b)&&c(b,a[b])}}}},_doMap:{linear:md,category:yd,piecewise:function(c,b){var a=wd.call(this,b);return null==a&&(a=md.call(this,c)),a},fixed:xd}},symbolSize:{applyVisual:vd('symbolSize'),_doMap:_d([0,1])}},sS={linear:function(a){return Eo(a,this.option.dataExtent,[0,1],!0)},piecewise:function(c){var a=this.option.pieceList,b=aC.findPieceIndex(c,a,!0);if(null!=b){return Eo(b,[0,a.length-1],[0,1],!0)}},category:function(b){var a=this.option.categories?this.option.categoryMap[b]:b;return null==a?e9:a},fixed:B};aC.listVisualTypes=function(){var a=[];return d(d0,function(c,b){a.push(b)}),a},aC.addVisualHandler=function(b,a){d0[b]=a},aC.isValidType=function(a){return d0.hasOwnProperty(a)},aC.eachVisual=function(a,b,c){w(a)?d(a,b,c):b.call(c,a)},aC.mapVisual=function(b,d,e){var c,a=y(b)?[]:w(b)?{}:(c=!0,null);return aC.eachVisual(b,function(h,f){var g=d.call(e,h,f);c?a=g:a[f]=g}),a},aC.retrieveVisuals=function(a){var b,c={};return a&&d2(d0,function(e,d){a.hasOwnProperty(d)&&(c[d]=a[d],b=!0)}),b?c:null},aC.prepareVisualTypes=function(a){if(kR(a)){var b=[];d2(a,function(d,c){b.push(c)}),a=b}else {if(!y(a)){return []}a=a.slice()}return a.sort(function(b,c){return 'color'===c&&'color'!==b&&0===b.indexOf('color')?1:-1}),a},aC.dependsOn=function(b,a){return 'color'===a?!(!b||0!==b.indexOf(a)):b===a},aC.findPieceIndex=function(c,d,g){function n(b,e){var a=Math.abs(b-c);a<i&&(i=a,j=e)}for(var j,i=1/0,a=0,h=d.length;a<h;a++){var e=d[a].value;if(null!=e){if(e===c||'string'==typeof e&&e===c+''){return a}g&&n(e,a)}}for(var a=0,h=d.length;a<h;a++){var k=d[a],b=k.interval,f=k.close;if(b){if(b[0]===-1/0){if(Sd(f[1],c,b[1])){return a}}else {if(b[1]===1/0){if(Sd(f[0],b[0],c)){return a}}else {if(Sd(f[0],b[0],c)&&Sd(f[1],c,b[1])){return a}}}g&&n(b[0],a),g&&n(b[1],a)}}if(g){return c===1/0?d.length-1:c===-1/0?0:j}};var oP=y,gq='itemStyle',oI={seriesType:'treemap',reset:function(a,e,g,h){var c=a.getData().tree,b=c.root,d=a.getModel(gq);b.isRemoved()||Md(b,{},f(c.levelModels,function(b){return b?b.get(gq):null}),d,a.getViewRoot().getAncestors(),a)}},dS=Math.max,f$=Math.min,lL=T,h6=d,mD=['itemStyle','borderWidth'],sI=['itemStyle','gapWidth'],q$=['upperLabel','show'],sV=['upperLabel','height'],sZ={seriesType:'treemap',reset:function(c,v,g,h){var q=g.getWidth(),r=g.getHeight(),j=c.option,d=la(c.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()}),s=j.size||[],p=Ro(lL(d.width,s[0]),q),n=Ro(lL(d.height,s[1]),r),f=h&&h.type,o=td(h,['treemapZoomToNode','treemapRootToNode'],c),i='treemapRender'===f||'treemapMove'===f?h.rootRect:null,b=c.getViewRoot(),m=ed(b);if('treemapMove'!==f){var k='treemapZoomToNode'===f?Vd(c,o,b,p,n):i?[i.width,i.height]:[p,n],e=j.sort;e&&'asc'!==e&&'desc'!==e&&(e='desc');var u={squareRatio:j.squareRatio,sort:e,leafDepth:j.leafDepth};b.hostTree.clearLayouts();l={x:0,y:0,width:k[0],height:k[1],area:k[0]*k[1]};b.setLayout(l),Pd(b,u,!1,0);var l=b.getLayout();h6(m,function(f,e){var d=(m[e+1]||b).getValue();f.setLayout(a({dataExtent:[d,d],borderWidth:0,upperHeight:0},l))})}var t=c.getData().tree.root;t.setLayout(Gd(d,i,o),!0),c.setLayoutInfo(d),Fd(t,new ue(-d.x,-d.y,q,r),m,b,0)}};Es(oI),Os(sZ);var eb=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},aW=eb.prototype;aW.type='graph',aW.isDirected=function(){return this._directed},aW.addNode=function(a,c){a=a||''+c;var d=this._nodesMap;if(!d[Hd(a)]){var b=new Zd(a,c);return b.hostGraph=this,this.nodes.push(b),d[Hd(a)]=b,b}},aW.getNodeByIndex=function(b){var a=this.data.getRawIndex(b);return this.nodes[a]},aW.getNodeById=function(a){return this._nodesMap[Hd(a)]},aW.addEdge=function(b,a,g){var e=this._nodesMap,f=this._edgesMap;if('number'==typeof b&&(b=this.nodes[b]),'number'==typeof a&&(a=this.nodes[a]),Zd.isInstance(b)||(b=e[Hd(b)]),Zd.isInstance(a)||(a=e[Hd(a)]),b&&a){var d=b.id+'-'+a.id;if(!f[d]){var c=new Ud(b,a,g);return c.hostGraph=this,this._directed&&(b.outEdges.push(c),a.inEdges.push(c)),b.edges.push(c),b!==a&&a.edges.push(c),this.edges.push(c),f[d]=c,c}}},aW.getEdgeByIndex=function(b){var a=this.edgeData.getRawIndex(b);return this.edges[a]},aW.getEdge=function(b,a){Zd.isInstance(b)&&(b=b.id),Zd.isInstance(a)&&(a=a.id);var c=this._edgesMap;return this._directed?c[b+'-'+a]:c[b+'-'+a]||c[a+'-'+b]},aW.eachNode=function(e,c){for(var b=this.nodes,d=b.length,a=0;a<d;a++){b[a].dataIndex>=0&&e.call(c,b[a],a)}},aW.eachEdge=function(e,c){for(var b=this.edges,d=b.length,a=0;a<d;a++){b[a].dataIndex>=0&&b[a].node1.dataIndex>=0&&b[a].node2.dataIndex>=0&&e.call(c,b[a],a)}},aW.breadthFirstTraverse=function(j,b,g,i){if(Zd.isInstance(b)||(b=this._nodesMap[Hd(b)]),b){for(var k='out'===g?'outEdges':'in'===g?'inEdges':'edges',a=0;a<this.nodes.length;a++){this.nodes[a].__visited=!1}if(!j.call(i,b,null)){for(var d=[b];d.length;){for(var e=d.shift(),h=e[k],a=0;a<h.length;a++){var f=h[a],c=f.node1===e?f.node2:f.node1;if(!c.__visited){if(j.call(i,c,e)){return}d.push(c),c.__visited=!0}}}}}},aW.update=function(){for(var f=this.data,c=this.edgeData,e=this.nodes,d=this.edges,a=0,b=e.length;a<b;a++){e[a].dataIndex=-1}for(var a=0,b=f.count();a<b;a++){e[f.getRawIndex(a)].dataIndex=a}c.filterSelf(function(b){var a=d[c.getRawIndex(b)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(var a=0,b=d.length;a<b;a++){d[a].dataIndex=-1}for(var a=0,b=c.count();a<b;a++){d[c.getRawIndex(a)].dataIndex=a}},aW.clone=function(){for(var d=new eb(this._directed),b=this.nodes,e=this.edges,a=0;a<b.length;a++){d.addNode(b[a].id,b[a].dataIndex)}for(a=0;a<e.length;a++){var c=e[a];d.addEdge(c.node1.id,c.node2.id,c.dataIndex)}return d},Zd.prototype={constructor:Zd,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0)){return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}}},Ud.prototype.getModel=function(a){if(!(this.dataIndex<0)){return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)}};var l$=function(b,a){return {getValue:function(d){var c=this[b][a];return c.get(c.getDimension(d||'value'),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[b][a].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[b][a].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){this.dataIndex>=0&&this[b][a].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[b][a].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[b][a].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[b][a].getRawIndex(this.dataIndex)}}};h(Zd,l$('hostGraph','data')),h(Ud,l$('hostGraph','edgeData')),eb.Node=Zd,eb.Edge=Ud,ji(Zd),ji(Ud);var lH=function(b,m,f,s,p){for(var c=new eb(s),a=0;a<b.length;a++){c.addNode(T(b[a].id,b[a].name,a),a)}for(var q=[],r=[],o=0,a=0;a<m.length;a++){var e=m[a],k=e.source,n=e.target;c.addEdge(k,n,o)&&(r.push(e),q.push(T(e.id,k+' > '+n)),o++)}var d,g=f.get('coordinateSystem');if('cartesian2d'===g||'polar'===g){d=dl(b,f)}else {var h=Ba.get(g),i=h&&'view'!==h.type?h.dimensions||[]:[];l(i,'value')<0&&i.concat(['value']);var t=dB(b,{coordDimensions:i});(d=new aH(t,f)).initData(b)}var j=new aH(['value'],f);return j.initData(r,q),p&&p(d,j),Sc({mainData:d,struct:c,structAttr:'graph',datas:{node:d,edge:j},datasAttr:{node:'data',edge:'edgeData'}}),c.update(),c},d7=Gs({type:'series.graph',init:function(a){d7.superApply(this,'init',arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){d7.superApply(this,'mergeOption',arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){d7.superApply(this,'mergeDefaultAndTheme',arguments),Ci(a,['edgeLabel'],['show'])},getInitialData:function(a,c){var d=a.edges||a.links||[],e=a.data||a.nodes||[],b=this;if(e&&d){return lH(e,d,this,!0,function(i,f){function n(b){return (b=this.parsePath(b))&&'label'===b[0]?h:b&&'emphasis'===b[0]&&'label'===b[1]?g:this.parentModel}i.wrapMethod('getItemModel',function(d){var e=b._categoriesModels[d.getShallow('category')];return e&&(e.parentModel=d.parentModel,d.parentModel=e),d});var d=b.getModel('edgeLabel'),h=new Lo({label:d.option},d.parentModel,c),e=b.getModel('emphasis.edgeLabel'),g=new Lo({emphasis:{label:e.option}},e.parentModel,c);f.wrapMethod('getItemModel',function(b){return b.customizeGetParent(n),b})}).data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(h,i,d){if('edge'===d){var b=this.getData(),e=this.getDataParams(h,d),c=b.graph.getEdgeByIndex(h),f=b.getName(c.node1.dataIndex),g=b.getName(c.node2.dataIndex),a=[];return null!=f&&a.push(f),null!=g&&a.push(g),a=Qo(a.join(' > ')),e.value&&(a+=' : '+Qo(e.value)),a}return d7.superApply(this,'formatTooltip',arguments)},_updateCategoriesData:function(){var c=f(this.option.categories||[],function(b){return null!=b.value?b:a({value:0},b)}),b=new aH(['value'],this);b.initData(c),this._categoriesData=b,this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return d7.superCall(this,'isAnimationEnabled')&&!('force'===this.get('layout')&&this.get('force.layoutAnimation'))},defaultOption:{zlevel:0,z:2,coordinateSystem:'view',legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:!0},left:'center',top:'center',symbol:'circle',symbolSize:10,edgeSymbol:['none','none'],edgeSymbolSize:10,edgeLabel:{position:'middle'},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:!1,formatter:'{b}'},itemStyle:{},lineStyle:{color:'#aaa',width:1,curveness:0,opacity:0.5},emphasis:{label:{show:!0}}}}),lP=aU.prototype,iL=iw.prototype,rO=Fn({type:'ec-line',style:{stroke:'#000',fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(b,a){(Xd(a)?lP:iL).buildPath(b,a)},pointAt:function(a){return Xd(this.shape)?lP.pointAt.call(this,a):iL.pointAt.call(this,a)},tangentAt:function(c){var a=this.shape,b=Xd(a)?[a.x2-a.x1,a.y2-a.y1]:iL.tangentAt.call(this,c);return q(b,b)}}),iC=['fromSymbol','toSymbol'],b8=$d.prototype;b8.beforeUpdate=function(){var r=this,k=r.childOfName('fromSymbol'),l=r.childOfName('toSymbol'),c=r.childOfName('label');if(k||l||!c.ignore){for(var d=1,j=this.parent;j;){j.scale&&(d/=j.scale[0]),j=j.parent}var e=r.childOfName('line');if(this.__dirty||e.__dirty){var h=e.shape.percent,m=e.pointAt(0),i=e.pointAt(h),a=U([],i,m);if(q(a,a),k&&(k.attr('position',m),b=e.tangentAt(0),k.attr('rotation',Math.PI/2-Math.atan2(b[1],b[0])),k.attr('scale',[d*h,d*h])),l){l.attr('position',i);var b=e.tangentAt(1);l.attr('rotation',-Math.PI/2-Math.atan2(b[1],b[0])),l.attr('scale',[d*h,d*h])}if(!c.ignore){c.attr('position',i);var n,o,p,g=5*d;if('end'===c.__position){n=[a[0]*g+i[0],a[1]*g+i[1]],o=a[0]>0.8?'left':a[0]<-0.8?'right':'center',p=a[1]>0.8?'top':a[1]<-0.8?'bottom':'middle'}else {if('middle'===c.__position){var t=h/2,f=[(b=e.tangentAt(t))[1],-b[0]],u=e.pointAt(t);f[1]>0&&(f[0]=-f[0],f[1]=-f[1]),n=[u[0]+f[0]*g,u[1]+f[1]*g],o='center',p='bottom';var s=-Math.atan2(b[1],b[0]);i[0]<m[0]&&(s=Math.PI+s),c.attr('rotation',s)}else {n=[-a[0]*g+m[0],-a[1]*g+m[1]],o=a[0]>0.8?'right':a[0]<-0.8?'left':'center',p=a[1]>0.8?'bottom':a[1]<-0.8?'top':'middle'}}c.attr({style:{textVerticalAlign:c.__verticalAlign||p,textAlign:c.__textAlign||o},position:n,scale:[d,d]})}}}},b8._createLine=function(b,a,f){var g=b.hostModel,c=qd(b.getItemLayout(a));c.shape.percent=0,So(c,{shape:{percent:1}},g,a),this.add(c);var e=new ak({name:'label'});this.add(e),d(iC,function(c){var d=Yd(c,b,a);this.add(d),this[jd(c)]=b.getItemVisual(a,c)},this),this._updateCommonStl(b,a,f)},b8.updateData=function(b,a,f){var g=b.hostModel,h=this.childOfName('line'),e=b.getItemLayout(a),c={shape:{}};Kd(c.shape,e),bo(h,c,g,a),d(iC,function(c){var d=b.getItemVisual(a,c),e=jd(c);if(this[e]!==d){this.remove(this.childOfName(c));var g=Yd(c,b,a);this.add(g)}this[e]=d},this),this._updateCommonStl(b,a,f)},b8._updateCommonStl=function(b,c,a){var n=b.hostModel,u=this.childOfName('line'),k=a&&a.lineStyle,w=a&&a.hoverLineStyle,i=a&&a.labelModel,e=a&&a.hoverLabelModel;if(!a||b.hasItemOption){var h=b.getItemModel(c);k=h.getModel('lineStyle').getLineStyle(),w=h.getModel('emphasis.lineStyle').getLineStyle(),i=h.getModel('label'),e=h.getModel('emphasis.label')}var l=b.getItemVisual(c,'color'),t=D(b.getItemVisual(c,'opacity'),k.opacity,1);u.useStyle(r({strokeNoScale:!0,fill:'none',stroke:l,opacity:t},k)),u.hoverStyle=w,d(iC,function(e){var d=this.childOfName(e);d&&(d.setColor(l),d.setStyle({opacity:t}))},this);var v,g,m=i.getShallow('show'),o=e.getShallow('show'),f=this.childOfName('label');if((m||o)&&(v=l||'#000',null==(g=n.getFormattedLabel(c,'normal',b.dataType)))){var j=n.getRawValue(c);g=null==j?b.getName(c):isFinite(j)?zo(j):j}var q=m?g:null,p=o?A(n.getFormattedLabel(c,'emphasis',b.dataType),g):null,s=f.style;null==q&&null==p||(fo(f.style,i,{text:q},{autoColor:v}),f.__textAlign=s.textAlign,f.__verticalAlign=s.textVerticalAlign,f.__position=i.get('position')||'middle'),f.hoverStyle=null!=p?{text:p,textFill:e.getTextColor(!0),fontStyle:e.getShallow('fontStyle'),fontWeight:e.getShallow('fontWeight'),fontSize:e.getShallow('fontSize'),fontFamily:e.getShallow('fontFamily')}:{text:null},f.ignore=!m&&!o,uo(this)},b8.highlight=function(){this.trigger('emphasis')},b8.downplay=function(){this.trigger('normal')},b8.updateLayout=function(b,a){this.setLinePoints(b.getItemLayout(a))},b8.setLinePoints=function(b){var a=this.childOfName('line');Kd(a.shape,b),a.dirty()},u($d,t);var cS=Jd.prototype;cS.isPersistent=function(){return !0},cS.updateData=function(b){var a=this,d=a.group,c=a._lineData;a._lineData=b,c||d.removeAll();var e=ef(b);b.diff(c).add(function(c){Qd(a,b,c,e)}).update(function(f,d){tf(a,c,b,d,f,e)}).remove(function(a){d.remove(c.getItemGraphicEl(a))}).execute()},cS.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},cS.incrementalPrepareUpdate=function(a){this._seriesScope=ef(a),this._lineData=null,this.group.removeAll()},cS.incrementalUpdate=function(d,b){for(var a=d.start;a<d.end;a++){if(of(b.getItemLayout(a))){var c=new this._ctor(b,a,this._seriesScope);c.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),this.group.add(c),b.setItemGraphicEl(a,c)}}},cS.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},cS._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var i6=[],hQ=[],i1=[],c9=rn,hA=b2,kj=Math.abs,gV=function(g,d){function i(b){var a=b.getVisual('symbolSize');return a instanceof Array&&(a=(a[0]+a[1])/2),a}var b=[],f=hn,a=[[],[],[]],c=[[],[]],e=[];d/=2,g.eachEdge(function(l,p){var h=l.getLayout(),o=l.getVisual('fromSymbol'),n=l.getVisual('toSymbol');h.__original||(h.__original=[F(h[0]),F(h[1])],h[2]&&h.__original.push(F(h[2])));var j=h.__original;if(null!=h[2]){if(G(a[0],j[0]),G(a[1],j[2]),G(a[2],j[1]),o&&'none'!==o){var k=i(l.node1),m=af(a,j[0],k*d);f(a[0][0],a[1][0],a[2][0],m,b),a[0][0]=b[3],a[1][0]=b[4],f(a[0][1],a[1][1],a[2][1],m,b),a[0][1]=b[3],a[1][1]=b[4]}if(n&&'none'!==n){var k=i(l.node2),m=af(a,j[1],k*d);f(a[0][0],a[1][0],a[2][0],m,b),a[1][0]=b[1],a[2][0]=b[2],f(a[0][1],a[1][1],a[2][1],m,b),a[1][1]=b[1],a[2][1]=b[2]}G(h[0],a[0]),G(h[1],a[2]),G(h[2],a[1])}else {if(G(c[0],j[0]),G(c[1],j[1]),U(e,c[1],c[0]),q(e,e),o&&'none'!==o){k=i(l.node1);Z(c[0],c[0],e,k*d)}if(n&&'none'!==n){k=i(l.node2);Z(c[1],c[1],e,-k*d)}G(h[0],c[0]),G(h[1],c[1])}})},cB=['itemStyle','opacity'],eD=['lineStyle','opacity'];Fs({type:'graph',init:function(e,d){var b=new Su(),c=new Jd(),a=this.group;this._controller=new ac(d.getZr()),this._controllerHost={target:a},a.add(b.group),a.add(c.group),this._symbolDraw=b,this._lineDraw=c,this._firstRender=!0},render:function(a,l,d){var e=a.coordinateSystem;this._model=a,this._nodeScaleRatio=a.get('nodeScaleRatio');var m=this._symbolDraw,j=this._lineDraw,h=this.group;if('view'===e.type){var i={position:e.position,scale:e.scale};this._firstRender?h.attr(i):bo(h,i,a)}gV(a.getGraph(),this._getNodeGlobalScale(a));var c=a.getData();m.updateData(c);var o=a.getEdgeData();j.updateData(o),this._updateNodeAndLinkScale(),this._updateController(a,l,d),clearTimeout(this._layoutTimeout);var b=a.forceLayout,f=a.get('force.layoutAnimation');b&&this._startForceLayoutIteration(b,f),c.eachItemGraphicEl(function(e,g){var i=c.getItemModel(g);e.off('drag').off('dragend');var h=i.get('draggable');h&&e.on('drag',function(){b&&(b.warmUp(),!this._layouting&&this._startForceLayoutIteration(b,f),b.setFixed(g),c.setItemLayout(g,e.position))},this).on('dragend',function(){b&&b.setUnfixed(g)},this),e.setDraggable(h&&b),e.off('mouseover',e.__focusNodeAdjacency),e.off('mouseout',e.__unfocusNodeAdjacency),i.get('focusNodeAdjacency')&&(e.on('mouseover',e.__focusNodeAdjacency=function(){d.dispatchAction({type:'focusNodeAdjacency',seriesId:a.id,dataIndex:e.dataIndex})}),e.on('mouseout',e.__unfocusNodeAdjacency=function(){d.dispatchAction({type:'unfocusNodeAdjacency',seriesId:a.id})}))},this),c.graph.eachEdge(function(c){var b=c.getGraphicEl();b.off('mouseover',b.__focusNodeAdjacency),b.off('mouseout',b.__unfocusNodeAdjacency),c.getModel().get('focusNodeAdjacency')&&(b.on('mouseover',b.__focusNodeAdjacency=function(){d.dispatchAction({type:'focusNodeAdjacency',seriesId:a.id,edgeDataIndex:c.dataIndex})}),b.on('mouseout',b.__unfocusNodeAdjacency=function(){d.dispatchAction({type:'unfocusNodeAdjacency',seriesId:a.id})}))});var k='circular'===a.get('layout')&&a.get('circular.rotateLabel'),g=c.getLayout('cx'),n=c.getLayout('cy');c.eachItemGraphicEl(function(m,j){var e=m.getSymbolPath();if(k){var f=c.getItemLayout(j),b=Math.atan2(f[1]-n,f[0]-g);b<0&&(b=2*Math.PI+b);var h=f[0]<g;h&&(b-=Math.PI);var i=h?'left':'right';e.setStyle({textRotation:-b,textPosition:i,textOrigin:'center'}),e.hoverStyle&&(e.hoverStyle.textPosition=i)}else {e.setStyle({textRotation:0})}}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(j,h,i,e){var b=this._model.getData().graph,f=e.dataIndex,g=e.edgeDataIndex,c=b.getNodeByIndex(f),a=b.getEdgeByIndex(g);(c||a)&&(b.eachNode(function(a){sf(a,cB,0.1)}),b.eachEdge(function(a){sf(a,eD,0.1)}),c&&(lf(c,cB),d(c.edges,function(a){a.dataIndex<0||(lf(a,eD),lf(a.node1,cB),lf(a.node2,cB))})),a&&(lf(a,eD),lf(a.node1,cB),lf(a.node2,cB)))},unfocusNodeAdjacency:function(e,b,c,d){var a=this._model.getData().graph;a.eachNode(function(a){sf(a,cB)}),a.eachEdge(function(a){sf(a,eD)})},_startForceLayoutIteration:function(c,b){var a=this;!function n(){c.step(function(d){a.updateLayout(a._model),(a._layouting=!d)&&(b?a._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(a,f,d){var b=this._controller,c=this._controllerHost,e=this.group;b.setPointerChecker(function(c,g,h){var b=e.getBoundingRect();return b.applyTransform(e.transform),b.contain(g,h)&&!mc(c,d,a)}),'view'===a.coordinateSystem.type?(b.enable(a.get('roam')),c.zoomLimit=a.get('scaleLimit'),c.zoom=a.coordinateSystem.getZoom(),b.off('pan').off('zoom').on('pan',function(b){pc(c,b.dx,b.dy),d.dispatchAction({seriesId:a.id,type:'graphRoam',dx:b.dx,dy:b.dy})}).on('zoom',function(b){gc(c,b.scale,b.originX,b.originY),d.dispatchAction({seriesId:a.id,type:'graphRoam',zoom:b.scale,originX:b.originX,originY:b.originY}),this._updateNodeAndLinkScale(),gV(a.getGraph(),this._getNodeGlobalScale(a)),this._lineDraw.updateLayout()},this)):b.disable()},_updateNodeAndLinkScale:function(){var b=this._model,c=b.getData(),a=this._getNodeGlobalScale(b),d=[a,a];c.eachItemGraphicEl(function(a,b){a.attr('scale',d)})},_getNodeGlobalScale:function(e){var a=e.coordinateSystem;if('view'!==a.type){return 1}var c=this._nodeScaleRatio,b=a.scale,d=b&&b[0]||1;return ((a.getZoom()-1)*c+1)/d},updateLayout:function(a){gV(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(b,a){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),Ps({type:'focusNodeAdjacency',event:'focusNodeAdjacency',update:'series:focusNodeAdjacency'},function(){}),Ps({type:'unfocusNodeAdjacency',event:'unfocusNodeAdjacency',update:'series:unfocusNodeAdjacency'},function(){}),Ps({type:'graphRoam',event:'graphRoam',update:'none'},function(a,b){b.eachComponent({mainType:'series',query:a},function(c){var d=wc(c.coordinateSystem,a);c.setCenter&&c.setCenter(d.center),c.setZoom&&c.setZoom(d.zoom)})});var cW=Z;ks(function(b){var a=b.findComponents({mainType:'legend'});a&&a.length&&b.eachSeriesByType('graph',function(e){var c=e.getCategoriesData(),d=e.getGraph().data,f=c.mapArray(c.getName);d.filterSelf(function(h){var c=d.getItemModel(h).getShallow('category');if(null!=c){'number'==typeof c&&(c=f[c]);for(var g=0;g<a.length;g++){if(!a[g].isSelected(c)){return !1}}}return !0})},this)}),Es(cJ('graph','circle',null)),Es(function(b){var a={};b.eachSeriesByType('graph',function(e){var c=e.getCategoriesData(),d=e.getData(),f={};c.each(function(d){var g=c.getName(d);f['ec-'+g]=d;var h=c.getItemModel(d).get('itemStyle.color')||e.getColorFromPalette(g,a);c.setItemVisual(d,'color',h)}),c.count()&&d.each(function(g){var a=d.getItemModel(g).getShallow('category');null!=a&&('string'==typeof a&&(a=f['ec-'+a]),d.getItemVisual(g,'color',!0)||d.setItemVisual(g,'color',c.getItemVisual(a,'color')))})})}),Es(function(a){a.eachSeriesByType('graph',function(c){var h=c.getGraph(),b=c.getEdgeData(),d=uf(c.get('edgeSymbol')),e=uf(c.get('edgeSymbolSize')),f='lineStyle.color'.split('.'),g='lineStyle.opacity'.split('.');b.setVisual('fromSymbol',d&&d[0]),b.setVisual('toSymbol',d&&d[1]),b.setVisual('fromSymbolSize',e&&e[0]),b.setVisual('toSymbolSize',e&&e[1]),b.setVisual('color',c.get(f)),b.setVisual('opacity',c.get(g)),b.each(function(l){var i=b.getItemModel(l),d=h.getEdgeByIndex(l),j=uf(i.getShallow('symbol',!0)),e=uf(i.getShallow('symbolSize',!0)),k=i.get(f),m=i.get(g);switch(k){case 'source':k=d.node1.getVisual('color');break;case 'target':k=d.node2.getVisual('color');}j[0]&&d.setVisual('fromSymbol',j[0]),j[1]&&d.setVisual('toSymbol',j[1]),e[0]&&d.setVisual('fromSymbolSize',e[0]),e[1]&&d.setVisual('toSymbolSize',e[1]),d.setVisual('color',k),d.setVisual('opacity',m)})})}),Os(function(a,b){a.eachSeriesByType('graph',function(h){var j=h.get('layout'),f=h.coordinateSystem;if(f&&'view'!==f.type){var c=h.getData(),g=[];d(f.dimensions,function(d){g=g.concat(c.mapDimension(d,!0))});for(var e=0;e<c.count();e++){for(var k=[],l=!1,i=0;i<g.length;i++){var m=c.get(g[i],e);isNaN(m)||(l=!0),k.push(m)}l?c.setItemLayout(e,f.dataToPoint(k)):c.setItemLayout(e,[NaN,NaN])}cf(c.graph)}else {j&&'none'!==j||hf(h)}})}),Os(function(a){a.eachSeriesByType('graph',function(b){'circular'===b.get('layout')&&df(b)})}),Os(function(a){a.eachSeriesByType('graph',function(b){var j=b.coordinateSystem;if(!j||'view'===j.type){if('force'===b.get('layout')){var k=b.preservedPoints||{},g=b.getGraph(),d=g.data,m=g.edgeData,i=b.getModel('force'),l=i.get('initLayout');b.preservedPoints?d.each(function(c){var e=d.getId(c);d.setItemLayout(c,k[e]||[NaN,NaN])}):l&&'none'!==l?'circular'===l&&df(b):hf(b);var o=d.getDataExtent('value'),r=m.getDataExtent('value'),e=i.get('repulsion'),c=i.get('edgeLength');y(e)||(e=[e,e]),y(c)||(c=[c,c]),c=[c[1],c[0]];var f=d.mapArray('value',function(h,g){var c=d.getItemLayout(g),f=Eo(h,o,e);return isNaN(f)&&(f=(e[0]+e[1])/2),{w:f,rep:f,fixed:d.getItemModel(g).get('fixed'),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),n=m.mapArray('value',function(i,h){var d=g.getEdgeByIndex(h),e=Eo(i,r,c);return isNaN(e)&&(e=(c[0]+c[1])/2),{n1:f[d.node1.dataIndex],n2:f[d.node2.dataIndex],d:e,curveness:d.getModel().get('lineStyle.curveness')||0}}),q=(j=b.coordinateSystem).getBoundingRect(),h=ff(f,n,{rect:q,gravity:i.get('gravity')}),p=h.step;h.step=function(e){for(var c=0,h=f.length;c<h;c++){f[c].fixed&&G(f[c].p,g.getNodeByIndex(c).getLayout())}p(function(l,n,p){for(var c=0,m=l.length;c<m;c++){l[c].fixed||g.getNodeByIndex(c).setLayout(l[c].p),k[d.getId(c)]=l[c].p}for(var c=0,m=n.length;c<m;c++){var j=n[c],o=g.getEdgeByIndex(c),h=j.n1.p,i=j.n2.p,f=o.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],G(f[0],h),G(f[1],i),+j.curveness&&(f[2]=[(h[0]+i[0])/2-(h[1]-i[1])*j.curveness,(h[1]+i[1])/2-(i[0]-h[0])*j.curveness]),o.setLayout(f)}e&&e(p)})},b.forceLayout=h,b.preservedPoints=k,h.step()}else {b.forceLayout=null}}})}),Ns('graphView',{create:function(c,b){var a=[];return c.eachSeriesByType('graph',function(g){var i=g.get('coordinateSystem');if(!i||'view'===i){var j=g.getData(),d=[],f=[];dn(j.mapArray(function(d){var a=j.getItemModel(d);return [+a.get('x'),+a.get('y')]}),d,f),f[0]-d[0]==0&&(f[0]+=1,d[0]-=1),f[1]-d[1]==0&&(f[1]+=1,d[1]-=1);var k=(f[0]-d[0])/(f[1]-d[1]),e=pf(g,b,k);isNaN(k)&&(d=[e.x,e.y],f=[e.x+e.width,e.y+e.height]);var o=f[0]-d[0],n=f[1]-d[1],l=e.width,m=e.height,h=g.coordinateSystem=new Uh();h.zoomLimit=g.get('scaleLimit'),h.setBoundingRect(d[0],d[1],o,n),h.setViewRect(e.x,e.y,l,m),h.setCenter(g.get('center')),h.setZoom(g.get('zoom')),a.push(h)}}),a}});aD.extend({type:'series.gauge',getInitialData:function(b,c){var a=b.data||[];return y(a)||(a=[a]),b.data=a,c5(this,['value'])},defaultOption:{zlevel:0,z:2,center:['50%','50%'],legendHoverLink:!0,radius:'75%',startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[0.2,'#91c7ae'],[0.8,'#63869e'],[1,'#c23531']],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:'#eee',width:2,type:'solid'}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:'#eee',width:1,type:'solid'}},axisLabel:{show:!0,distance:5,color:'auto'},pointer:{show:!0,length:'80%',width:8},itemStyle:{color:'auto'},title:{show:!0,offsetCenter:[0,'-40%'],color:'#333',fontSize:15},detail:{show:!0,backgroundColor:'rgba(0,0,0,0)',borderWidth:0,borderColor:'#ccc',width:100,height:null,padding:[5,10],offsetCenter:[0,'40%'],color:'auto',fontSize:30}}});var nS=kn.extend({type:'echartsGaugePointer',shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(d,a){var e=Math.cos,f=Math.sin,g=a.r,b=a.width,c=a.angle,i=a.x-e(c)*b*(b>=g/3?1:2),h=a.y-f(c)*b*(b>=g/3?1:2);c=a.angle-Math.PI/2,d.moveTo(i,h),d.lineTo(a.x+e(c)*b,a.y+f(c)*b),d.lineTo(a.x+e(a.angle)*g,a.y+f(a.angle)*g),d.lineTo(a.x-e(c)*b,a.y-f(c)*b),d.lineTo(i,h)}}),oV=2*Math.PI,mb=(Mr.extend({type:'gauge',render:function(a,c,b){this.group.removeAll();var d=a.get('axisLine.lineStyle.color'),e=gf(a,b);this._renderMain(a,c,b,d,e)},dispose:function(){},_renderMain:function(c,f,h,a,b){for(var n=this.group,m=c.getModel('axisLine').getModel('lineStyle'),j=c.get('clockwise'),d=-c.get('startAngle')/180*Math.PI,e=-c.get('endAngle')/180*Math.PI,p=(e-d)%oV,l=d,o=m.get('width'),g=0;g<a.length;g++){var q=Math.min(Math.max(a[g][0],0),1),k=new bI({shape:{startAngle:l,endAngle:e=d+p*q,cx:b.cx,cy:b.cy,clockwise:j,r0:b.r-o,r:b.r},silent:!0});k.setStyle({fill:a[g][1]}),k.setStyle(m.getLineStyle(['color','borderWidth','borderColor'])),n.add(k),l=e}var i=function(e){if(e<=0){return a[0][1]}for(var d=0;d<a.length;d++){if(a[d][0]>=e&&(0===d?0:a[d-1][0])<e){return a[d][1]}}return a[d-1][1]};if(!j){var r=d;d=e,e=r}this._renderTicks(c,f,h,i,b,d,e,j),this._renderPointer(c,f,h,i,b,d,e,j),this._renderTitle(c,f,h,i,b),this._renderDetail(c,f,h,i,b)},_renderTicks:function(g,G,H,o,p,y,F,I){for(var n=this.group,i=p.cx,h=p.cy,a=p.r,A=+g.get('min'),E=+g.get('max'),q=g.getModel('splitLine'),j=g.getModel('axisTick'),k=g.getModel('axisLabel'),e=g.get('splitNumber'),r=j.get('splitNumber'),l=Ro(q.get('length'),a),x=Ro(j.get('length'),a),f=y,z=(F-y)/e,w=z/r,u=q.getModel('lineStyle').getLineStyle(),t=j.getModel('lineStyle').getLineStyle(),d=0;d<=e;d++){var b=Math.cos(f),c=Math.sin(f);if(q.get('show')){var s=new aU({shape:{x1:b*a+i,y1:c*a+h,x2:b*(a-l)+i,y2:c*(a-l)+h},style:u,silent:!0});'auto'===u.stroke&&s.setStyle({stroke:o(d/e)}),n.add(s)}if(k.get('show')){var C=mf(zo(d/e*(E-A)+A),k.get('formatter')),B=k.get('distance'),D=o(d/e);n.add(new ak({style:fo({},k,{text:C,x:b*(a-l-B)+i,y:c*(a-l-B)+h,textVerticalAlign:c<-0.4?'top':c>0.4?'bottom':'middle',textAlign:b<-0.4?'left':b>0.4?'right':'center'},{autoColor:D}),silent:!0}))}if(j.get('show')&&d!==e){for(var m=0;m<=r;m++){var b=Math.cos(f),c=Math.sin(f),v=new aU({shape:{x1:b*a+i,y1:c*a+h,x2:b*(a-x)+i,y2:c*(a-x)+h},silent:!0,style:t});'auto'===t.stroke&&v.setStyle({stroke:o((d+m/r)/e)}),n.add(v),f+=w}f-=w}else {f+=z}}},_renderPointer:function(b,l,m,j,e,h,k,n){var d=this.group,c=this._data;if(b.get('pointer.show')){var g=[+b.get('min'),+b.get('max')],i=[h,k],a=b.getData(),f=a.mapDimension('value');a.diff(c).add(function(o){var c=new nS({shape:{angle:h}});So(c,{shape:{angle:Eo(a.get(f,o),g,i,!0)}},b),d.add(c),a.setItemGraphicEl(o,c)}).update(function(p,q){var o=c.getItemGraphicEl(q);bo(o,{shape:{angle:Eo(a.get(f,p),g,i,!0)}},b),d.add(o),a.setItemGraphicEl(p,o)}).remove(function(f){var a=c.getItemGraphicEl(f);d.remove(a)}).execute(),a.eachItemGraphicEl(function(c,o){var d=a.getItemModel(o),i=d.getModel('pointer');c.setShape({x:e.cx,y:e.cy,width:Ro(i.get('width'),e.r),r:Ro(i.get('length'),e.r)}),c.useStyle(d.getModel('itemStyle').getItemStyle()),'auto'===c.style.fill&&c.setStyle('fill',j(Eo(a.get(f,o),g,[0,1],!0))),uo(c,d.getModel('emphasis.itemStyle').getItemStyle())}),this._data=a}else {c&&c.eachItemGraphicEl(function(a){d.remove(a)})}},_renderTitle:function(a,m,n,j,b){var d=a.getData(),k=d.mapDimension('value'),c=a.getModel('title');if(c.get('show')){var e=c.get('offsetCenter'),l=b.cx+Ro(e[0],b.r),i=b.cy+Ro(e[1],b.r),f=+a.get('min'),g=+a.get('max'),h=j(Eo(a.getData().get(k,0),[f,g],[0,1],!0));this.group.add(new ak({silent:!0,style:fo({},c,{x:l,y:i,text:d.getName(0),textAlign:'center',textVerticalAlign:'middle'},{autoColor:h,forceRich:!0})}))}},_renderDetail:function(c,o,p,k,b){var a=c.getModel('detail'),l=+c.get('min'),m=+c.get('max');if(a.get('show')){var g=a.get('offsetCenter'),n=b.cx+Ro(g[0],b.r),j=b.cy+Ro(g[1],b.r),d=Ro(a.get('width'),b.r),e=Ro(a.get('height'),b.r),f=c.getData(),h=f.get(f.mapDimension('value'),0),i=k(Eo(h,[l,m],[0,1],!0));this.group.add(new ak({silent:!0,style:fo({},a,{x:n,y:j,text:mf(h,a.get('formatter')),textWidth:isNaN(d)?null:d,textHeight:isNaN(e)?null:e,textAlign:'center',textVerticalAlign:'middle'},{autoColor:i,forceRich:!0})}))}}}),Gs({type:'series.funnel',init:function(a){mb.superApply(this,'init',arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(b,a){return c5(this,['value'])},_defaultLabelLine:function(a){Ci(a,'labelLine',['show']);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},getDataParams:function(e){var a=this.getData(),b=mb.superCall(this,'getDataParams',e),c=a.mapDimension('value'),d=a.getSum(c);return b.percent=d?+(a.get(c,e)/d*100).toFixed(2):0,b.$vars.push('percent'),b},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:'0%',maxSize:'100%',sort:'descending',gap:0,funnelAlign:'center',label:{show:!0,position:'outer'},labelLine:{show:!0,length:20,lineStyle:{width:1,type:'solid'}},itemStyle:{borderColor:'#fff',borderWidth:1},emphasis:{label:{show:!0}}}})),kD=vf.prototype,o8=['itemStyle','opacity'];kD.updateData=function(c,a,j){var b=this.childAt(0),e=c.hostModel,h=c.getItemModel(a),f=c.getItemLayout(a),d=c.getItemModel(a).get(o8);d=null==d?1:d,b.useStyle({}),j?(b.setShape({points:f.points}),b.setStyle({opacity:0}),So(b,{style:{opacity:d}},e,a)):bo(b,{style:{opacity:d},shape:{points:f.points}},e,a);var g=h.getModel('itemStyle'),i=c.getItemVisual(a,'color');b.setStyle(r({lineJoin:'round',fill:i},g.getItemStyle(['opacity']))),b.hoverStyle=g.getModel('emphasis').getItemStyle(),this._updateLabel(c,a),uo(this)},kD._updateLabel=function(e,b){var c=this.childAt(1),d=this.childAt(2),k=e.hostModel,f=e.getItemModel(b),a=e.getItemLayout(b).label,g=e.getItemVisual(b,'color');bo(c,{shape:{points:a.linePoints||a.linePoints}},k,b),bo(d,{style:{x:a.x,y:a.y}},k,b),d.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var j=f.getModel('label'),l=f.getModel('emphasis.label'),i=f.getModel('labelLine'),h=f.getModel('emphasis.labelLine'),g=e.getItemVisual(b,'color');co(d.style,d.hoverStyle={},j,l,{labelFetcher:e.hostModel,labelDataIndex:b,defaultText:e.getName(b),autoColor:g,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),d.ignore=d.normalIgnore=!j.get('show'),d.hoverIgnore=!l.get('show'),c.ignore=c.normalIgnore=!i.get('show'),c.hoverIgnore=!h.get('show'),c.setStyle({stroke:g}),c.setStyle(i.getModel('lineStyle').getLineStyle()),c.hoverStyle=h.getModel('lineStyle').getLineStyle()},u(vf,t);Mr.extend({type:'funnel',render:function(d,e,f){var a=d.getData(),c=this._data,b=this.group;a.diff(c).add(function(g){var c=new vf(a,g);a.setItemGraphicEl(g,c),b.add(c)}).update(function(h,i){var g=c.getItemGraphicEl(i);g.updateData(a,h),b.add(g),a.setItemGraphicEl(h,g)}).remove(function(g){var a=c.getItemGraphicEl(g);b.remove(a)}).execute(),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});Es(fL('funnel')),Os(function(b,a,c){b.eachSeriesByType('funnel',function(f){var e=f.getData(),s=e.mapDimension('value'),n=f.get('sort'),d=yf(f,a),h=xf(e,n),v=[Ro(f.get('minSize'),d.width),Ro(f.get('maxSize'),d.width)],r=e.getDataExtent(s),o=f.get('min'),m=f.get('max');null==o&&(o=Math.min(r[0],0)),null==m&&(m=r[1]);var u=f.get('funnelAlign'),i=f.get('gap'),l=(d.height-i*(e.count()-1))/e.count(),k=d.y,q=function(j,i){var g,h=Eo(e.get(s,j)||0,[o,m],v,!0);switch(u){case 'left':g=d.x;break;case 'center':g=d.x+(d.width-h)/2;break;case 'right':g=d.x+d.width-h;}return [[g,i],[g+h,i]]};'ascending'===n&&(l=-l,i=-i,k+=d.height,h=h.reverse());for(var j=0;j<h.length;j++){var p=h[j],x=h[j+1],g=e.getItemModel(p).get('itemStyle.height');null==g?g=l:(g=Ro(g,d.height),'ascending'===n&&(g=-g));var t=q(p,k),w=q(x,k+g);k+=g+i,e.setItemLayout(p,{points:t.concat(w.slice().reverse())})}_f(e)})}),ks(dL('funnel'));var eY=function(e,a,b,c,d){aF.call(this,e,a,b),this.type=c||'value',this.axisIndex=d};eY.prototype={constructor:eY,model:null,isHorizontal:function(){return 'horizontal'!==this.coordinateSystem.getModel().get('layout')}},u(eY,aF);var cY=function(h,a,f,b,c,d){a[0]=Mf(a[0],f),a[1]=Mf(a[1],f),h=h||0;var k=f[1]-f[0];null!=c&&(c=Mf(c,[0,k])),null!=d&&(d=Math.max(d,null!=c?c:0)),'all'===b&&(c=d=Math.abs(a[1]-a[0]),b=0);var g=Sf(a,b);a[b]+=h;var j=c||0,i=f.slice();g.sign<0?i[0]+=j:i[1]-=j,a[b]=Mf(a[b],i);e=Sf(a,b);null!=c&&(e.sign!==g.sign||e.span<c)&&(a[1-b]=a[b]+g.sign*c);var e=Sf(a,b);return null!=d&&e.span>d&&(a[1-b]=a[b]+e.sign*d),a},hz=d,nj=Math.min,jB=Math.max,kX=Math.floor,oj=Math.ceil,jQ=zo,qE=Math.PI;If.prototype={type:'parallel',constructor:If,_init:function(a,b,e){var c=a.dimensions,d=a.parallelAxisIndex;hz(c,function(h,i){var g=d[i],c=b.getComponent('parallelAxis',g),f=this._axesMap.set(h,new eY(h,Vl(c),[0,0],c.get('type'),g)),j='category'===f.type;f.onBand=j&&c.get('boundaryGap'),f.inverse=c.get('inverse'),c.axis=f,f.model=c,f.coordinateSystem=c.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(g){var a=this._makeLayoutInfo(),c=a.axisBase,d=a.layoutBase,e=a.pixelDimIndex,b=g[1-e],f=g[e];return b>=c&&b<=c+a.axisLength&&f>=d&&f<=d+a.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(b,a){a.eachSeries(function(c){if(b.contains(c,a)){var d=c.getData();hz(this.dimensions,function(f){var e=this._axesMap.get(f);e.scale.unionExtentFromData(d,d.mapDimension(f)),Bl(e.scale,e.model)},this)}},this)},resize:function(b,a){this._rect=la(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var d,c=this._model,h=this._rect,m=['x','y'],n=['width','height'],l=c.get('layout'),f='horizontal'===l?0:1,j=h[n[f]],k=[0,j],e=this.dimensions.length,b=Tf(c.get('axisExpandWidth'),k),g=Tf(c.get('axisExpandCount')||0,[0,e]),o=c.get('axisExpandable')&&e>3&&e>g&&g>1&&b>0&&j>0,a=c.get('axisExpandWindow');a?(d=Tf(a[1]-a[0],k),a[1]=a[0]+d):(d=Tf(b*(g-1),k),(a=[b*(c.get('axisExpandCenter')||kX(e/2))-d/2])[1]=a[0]+d);var i=(j-d)/(e-g);i<3&&(i=0);var p=[kX(jQ(a[0]/b,1))+1,oj(jQ(a[1]/b,1))-1],q=i/b*a[0];return {layout:l,pixelDimIndex:f,layoutBase:h[m[f]],layoutLength:j,axisBase:h[m[1-f]],axisLength:h[n[1-f]],axisExpandable:o,axisExpandWidth:b,axisCollapseWidth:i,axisExpandWindow:a,axisCount:e,winInnerIndices:p,axisExpandWindow0Pos:q}},_layoutAxes:function(){var c=this._rect,d=this._axesMap,e=this.dimensions,a=this._makeLayoutInfo(),b=a.layout;d.each(function(d){var b=[0,a.axisLength],c=d.inverse?1:0;d.setExtent(b[c],b[1-c])}),hz(e,function(i,j){var d=(a.axisExpandable?Df:Af)(j,a),g={horizontal:{x:d.position,y:a.axisLength},vertical:{x:0,y:d.position}},k={horizontal:qE/2,vertical:0},f=[g[b].x+c.x,g[b].y+c.y],h=k[b],e=mt();wt(e,e,h),_t(e,e,f),this._axesLayout[i]={position:f,rotation:h,transform:e,axisNameAvailableWidth:d.axisNameAvailableWidth,axisLabelShow:d.axisLabelShow,nameTruncateMaxWidth:d.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(b,a){return this.axisCoordToPoint(this._axesMap.get(a).dataToCoord(b),a)},eachActiveState:function(g,l,e,f){null==e&&(e=0),null==f&&(f=g.count());var n=this._axesMap,h=this.dimensions,i=[],j=[];d(h,function(a){i.push(g.mapDimension(a)),j.push(n.get(a).model)});for(var m=this.hasAxisBrushed(),c=e;c<f;c++){var b;if(m){b='active';for(var k=g.getValues(i,c),a=0,o=h.length;a<o;a++){if('inactive'===j[a].getActiveState(k[a])){b='inactive';break}}}else {b='normal'}l(b,c)}},hasAxisBrushed:function(){for(var c=this.dimensions,d=this._axesMap,b=!1,a=0,e=c.length;a<e;a++){'normal'!==d.get(c[a]).model.getActiveState()&&(b=!0)}return b},axisCoordToPoint:function(b,a){return Io([b,0],this._axesLayout[a].transform)},getAxisLayout:function(a){return i(this._axesLayout[a])},getSlidedAxisExpandWindow:function(k){var c=this._makeLayoutInfo(),l=c.pixelDimIndex,a=c.axisExpandWindow.slice(),b=a[1]-a[0],i=[0,c.axisExpandWidth*(c.axisCount-1)];if(!this.containPoint(k)){return {behavior:'none',axisExpandWindow:a}}var e,f=k[l]-c.layoutBase-c.axisExpandWindow0Pos,g='slide',h=c.axisCollapseWidth,d=this._model.get('axisExpandSlideTriggerArea'),j=null!=d[0];if(h){j&&h&&f<b*d[0]?(g='jump',e=f-b*d[2]):j&&h&&f>b*(1-d[0])?(g='jump',e=f-b*(1-d[2])):(e=f-b*d[1])>=0&&(e=f-b*(1-d[1]))<=0&&(e=0),(e*=c.axisExpandWidth/h)?cY(e,a,i,'all'):g='none'}else {b=a[1]-a[0];(a=[jB(0,i[1]*f/b-b/2)])[1]=nj(i[1],a[0]+b),a[0]=a[1]-b}return {axisExpandWindow:a,behavior:g}}},Ba.register('parallel',{create:function(a,b){var c=[];return a.eachComponent('parallel',function(e,f){var d=new If(e,a,b);d.name='parallel_'+f,d.resize(e,b),e.coordinateSystem=d,d.model=e,c.push(d)}),a.eachSeries(function(c){if('parallel'===c.get('coordinateSystem')){var d=a.queryComponents({mainType:'parallel',index:c.get('parallelIndex'),id:c.get('parallelId')})[0];c.coordinateSystem=d.coordinateSystem}}),c}});var jW=aw.extend({type:'baseParallelAxis',axis:null,activeIntervals:[],getAreaSelectStyle:function(){return c6([['fill','color'],['lineWidth','borderWidth'],['stroke','borderColor'],['width','width'],['opacity','opacity']])(this.getModel('areaSelectStyle'))},setActiveIntervals:function(c){var a=this.activeIntervals=i(c);if(a){for(var b=a.length-1;b>=0;b--){Bo(a[b])}}},getActiveState:function(b){var a=this.activeIntervals;if(!a.length){return 'normal'}if(null==b||isNaN(b)){return 'inactive'}if(1===a.length){var d=a[0];if(d[0]<=b&&b<=d[1]){return 'active'}}else {for(var c=0,e=a.length;c<e;c++){if(a[c][0]<=b&&b<=a[c][1]){return 'active'}}}return 'inactive'}}),qU={type:'value',dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:'rgba(160,197,232)',color:'rgba(160,197,232)',opacity:0.3},realtime:!0,z:10};n(jW.prototype,b9),dI('parallel',jW,function(b,a){return a.type||(a.data?'category':'value')},qU),aw.extend({type:'parallel',dependencies:['parallelAxis'],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:'box',defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:'horizontal',axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:'click',parallelAxisDefault:null},init:function(){aw.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&n(b,a,!0),this._initDimensions()},contains:function(c,b){var a=c.get('parallelIndex');return null!=a&&b.getComponent('parallel',a)===this},setAxisExpand:function(a){d(['axisExpandable','axisExpandCenter','axisExpandCount','axisExpandWidth','axisExpandWindow'],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var b=this.dimensions=[],a=this.parallelAxisIndex=[];d(g(this.dependentModels.parallelAxis,function(a){return (a.get('parallelIndex')||0)===this.componentIndex},this),function(c){b.push('dim'+c.get('dim')),a.push(c.componentIndex)})}}),Ps({type:'axisAreaSelect',event:'axisAreaSelected'},function(a,b){b.eachComponent({mainType:'parallelAxis',query:a},function(c){c.axis.model.setActiveIntervals(a.intervals)})}),Ps('parallelAxisExpand',function(a,b){b.eachComponent({mainType:'parallel',query:a},function(c){c.setAxisExpand(a)})});var b$=v,bq=d,r1=f,d1=Math.min,dD=Math.max,oQ=Math.pow,nD=10000,oK=6,pJ=6,mY='globalPan',rI={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},r$={w:'ew',e:'ew',n:'ns',s:'ns',ne:'nesw',sw:'nesw',nw:'nwse',se:'nwse'},mF={brushStyle:{lineWidth:2,stroke:'rgba(0,0,0,0.3)',fill:'rgba(0,0,0,0.1)'},transformable:!0,brushMode:'single',removeOnClick:!1},sL=0;Cf.prototype={constructor:Cf,enableBrush:function(a){return this._brushType&&kf(this),a.brushType&&Lf(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};d(a,function(c){b[c.panelId]=i(c)})}else {this._panels=null}return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(b,a){bq(this._covers,b,a)},updateCovers:function(c){function e(a,b){return (null!=a.id?a.id:h+b)+'-'+a.brushType}function o(f,e){var h=c[f];if(null!=e&&a[e]===g){d[f]=a[e]}else {var i=d[f]=null!=e?(a[e].__brushOption=h,a[e]):Nf(b,Pf(b,h));Rf(b,i)}}c=f(c,function(a){return n(i(mF),a,!0)});var h='\x00-brush-index-',a=this._covers,d=this._covers=[],b=this,g=this._creatingCover;return (new Hs(a,c,function(b,a){return e(b.__brushOption,a)},e)).add(o).update(o).remove(function(d){a[d]!==g&&b.group.remove(a[d])}).execute(),this},unmount:function(){return this.enableBrush(!1),Gf(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},h(Cf,aG);var q2={mousedown:function(a){if(this._dragging){lp.call(this,a)}else {if(!a.target||!a.target.draggable){op(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=Bf(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(np(this,a,b),this._dragging){op(a);var c=rp(this,a,b,!1);c&&Ff(this,c)}},mouseup:lp},fX={lineX:up(0),lineY:up(1),rect:{createCover:function(b,a){return Zf(b$(Jf,function(c){return c},function(c){return c}),b,a,['w','e','n','s','se','sw','ne','nw'])},getCreatingRange:function(b){var a=Hf(b);return qf(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(d,a,b,c){Uf(d,a,b,c)},updateCommon:Xf,contain:ap},polygon:{createCover:function(c,b){var a=new t();return a.add(new a4({name:'main',style:Yf(b),silent:!0})),a},getCreatingRange:function(a){return a},endCreating:function(b,a){a.remove(a.childAt(0)),a.add(new aY({name:'main',draggable:!0,drift:b$(Qf,b,a),ondragend:b$(Ff,b,{isEnd:!0})}))},updateCoverShape:function(c,a,b,d){a.childAt(0).setShape({points:ep(c,a,b)})},updateCommon:Xf,contain:ap}},s2=['axisLine','axisTickLabel','axisName'],sz=Vs({type:'parallelAxis',init:function(b,a){sz.superApply(this,'init',arguments),(this._brushController=new Cf(a.getZr())).on('brush',m(this._onBrush,this))},render:function(b,g,h,e){if(!pp(b,g,e)){this.axisModel=b,this.api=h,this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t(),this.group.add(this._axisGroup),b.get('show')){var j=mp(b,g),o=j.coordinateSystem,i=b.getAreaSelectStyle(),k=i.width,l=b.axis.dim,f=a({strokeContainThreshold:k},o.getAxisLayout(l)),c=new a9(b,f);d(s2,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(f,i,b,j,k,h);var n=e&&!1===e.animation?null:b;Ao(m,this._axisGroup,n)}}},_refreshBrushController:function(g,i,c,j,e,h){var b=c.axis.getExtent(),f=b[1]-b[0],d=Math.min(30,0.1*Math.abs(f)),a=ue.create({x:b[0],y:-e/2,width:f,height:e});a.x-=d,a.width+=2*d,this._brushController.mount({enableGlobalPan:!0,rotation:g.rotation,position:g.position}).setPanels([{panelId:'pl',clipPath:hp(a),isTargetByCursor:dp(a,h,j),getLinearBrushOtherExtent:cp(a,0)}]).enableBrush({brushType:'lineX',brushStyle:i,removeOnClick:!0}).updateCovers(gp(c))},_onBrush:function(e,b){var a=this.axisModel,c=a.axis,d=f(e,function(a){return [c.coordToData(a.range[0],!0),c.coordToData(a.range[1],!0)]});(!a.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:'axisAreaSelect',parallelAxisId:a.id,intervals:d})},dispose:function(){this._brushController.dispose()}});Vs({type:'parallel',render:function(b,c,a){this._model=b,this._api=a,this._handlers||(this._handlers={},d(tj,function(e,d){a.getZr().on(d,this._handlers[d]=m(e,this))},this)),Lr(this,'_throttledDispatchExpand',b.get('axisExpandRate'),'fixRate')},dispose:function(b,a){d(this._handlers,function(d,c){a.getZr().off(c,d)}),this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(b){b&&this._api.dispatchAction(a({type:'parallelAxisExpand'},b))}});var tj={mousedown:function(a){vp(this,'click')&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(vp(this,'click')&&b){var c=[a.offsetX,a.offsetY];if(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2)>5){return}var d=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);'none'!==d.behavior&&this._dispatchExpand({axisExpandWindow:d.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(d){if(!this._mouseDownPoint&&vp(this,'mousemove')){var b=this._model,c=b.coordinateSystem.getSlidedAxisExpandWindow([d.offsetX,d.offsetY]),a=c.behavior;'jump'===a&&this._throttledDispatchExpand.debounceNextCall(b.get('axisExpandDebounce')),this._throttledDispatchExpand('none'===a?null:{axisExpandWindow:c.axisExpandWindow,animation:'jump'===a&&null})}}};Ls(function(a){wf(a),bf(a)}),aD.extend({type:'series.parallel',dependencies:['parallel'],visualColorAccessPath:'lineStyle.color',getInitialData:function(c,b){var a=this.getSource();return yp(a,this),dl(a,this)},getRawIndicesByActiveState:function(d){var c=this.coordinateSystem,a=this.getData(),b=[];return c.eachActiveState(a,function(c,e){d===c&&b.push(a.getRawIndex(e))}),b},defaultOption:{zlevel:0,z:2,coordinateSystem:'parallel',parallelIndex:0,label:{show:!1},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:'solid'},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:'linear'}});var l2=0.3,rj=(Mr.extend({type:'parallel',init:function(){this._dataGroup=new t(),this.group.add(this._dataGroup),this._data,this._initialized},render:function(b,j,k,g){var c=this._dataGroup,a=b.getData(),e=this._data,d=b.coordinateSystem,f=d.dimensions,h=Sp(b);if(a.diff(e).add(function(e){Mp(bp(a,c,e,f,d),a,e,h)}).update(function(c,m){var i=e.getItemGraphicEl(m),l=wp(a,c,f,d);a.setItemGraphicEl(c,i),bo(i,{shape:{points:l}},g&&!1===g.animation?null:b,c),Mp(i,a,c,h)}).remove(function(d){var a=e.getItemGraphicEl(d);c.remove(a)}).execute(),!this._initialized){this._initialized=!0;var i=_p(d,b,function(){setTimeout(function(){c.removeClipPath()})});c.setClipPath(i)}this._data=a},incrementalPrepareRender:function(c,a,b){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(f,b,i){for(var d=b.getData(),e=b.coordinateSystem,g=e.dimensions,h=Sp(b),a=f.start;a<f.end;a++){var c=bp(d,this._dataGroup,a,g,e);c.incremental=!0,Mp(c,d,a,h)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),['lineStyle','normal','opacity']);Es({seriesType:'parallel',reset:function(a,e,m){var h=a.getModel('itemStyle'),i=a.getModel('lineStyle'),b=e.get('color'),j=i.get('color')||h.get('color')||b[a.seriesIndex%b.length],k=a.get('inactiveOpacity'),g=a.get('activeOpacity'),l=a.getModel('lineStyle').getLineStyle(),f=a.coordinateSystem,c=a.getData(),d={normal:l.opacity,active:g,inactive:k};return c.setVisual('color',j),{progress:function(c,b){f.eachActiveState(b,function(i,f){var g=d[i];if('normal'===i&&b.hasItemOption){var h=b.getItemModel(f).get(rj,!0);null!=h&&(g=h)}b.setItemVisual(f,'opacity',g)},c.start,c.end)}}}});var rC=aD.extend({type:'series.sankey',layoutInfo:null,getInitialData:function(a){var b=a.edges||a.links,c=a.data||a.nodes;if(c&&b){return lH(c,b,this,!0).data}},setNodePosition:function(c,a){var b=this.option.data[c];b.localX=a[0],b.localY=a[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,f,c){if('edge'===c){var a=this.getDataParams(e,c),d=a.data,b=d.source+' -- '+d.target;return a.value&&(b+=' : '+a.value),Qo(b)}return rC.superCall(this,'formatTooltip',e,f)},optionUpdated:function(){var a=this.option;!0===a.focusNodeAdjacency&&(a.focusNodeAdjacency='allEdges')},defaultOption:{zlevel:0,z:2,coordinateSystem:'view',layout:null,left:'5%',top:'5%',right:'20%',bottom:'5%',orient:'horizontal',nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:'right',color:'#000',fontSize:12},itemStyle:{borderWidth:1,borderColor:'#333'},lineStyle:{color:'#314656',opacity:0.2,curveness:0.5},emphasis:{label:{show:!0},lineStyle:{opacity:0.6}},animationEasing:'linear',animationDuration:1000}}),bK=['itemStyle','opacity'],dC=['lineStyle','opacity'],rR=Fn({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:''},buildPath:function(b,a){var c=a.extent;'vertical'===a.orient?(b.moveTo(a.x1,a.y1),b.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),b.lineTo(a.x2+c,a.y2),b.bezierCurveTo(a.cpx2+c,a.cpy2,a.cpx1+c,a.cpy1,a.x1+c,a.y1)):(b.moveTo(a.x1,a.y1),b.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),b.lineTo(a.x2,a.y2+c),b.bezierCurveTo(a.cpx2,a.cpy2+c,a.cpx1,a.cpy1+c,a.x1,a.y1+c)),b.closePath()}});Fs({type:'sankey',_model:null,_focusAdjacencyDisabled:!1,render:function(a,l,f){var d=this,k=a.getGraph(),b=this.group,g=a.layoutInfo,e=g.width,c=g.height,h=a.getData(),i=a.getData('edge'),j=a.get('orient');this._model=a,b.removeAll(),b.attr('position',[g.x,g.y]),k.eachEdge(function(g){var d=new rR();d.dataIndex=g.dataIndex,d.seriesIndex=a.seriesIndex,d.dataType='edge';var k,m,p,u,w,x,z,y,B=g.getModel('lineStyle'),h=B.get('curveness'),n=g.node1.getLayout(),C=g.node1.getModel(),s=C.get('localX'),v=C.get('localY'),t=g.node2.getLayout(),A=g.node2.getModel(),r=A.get('localX'),q=A.get('localY'),o=g.getLayout();switch(d.shape.extent=Math.max(1,o.dy),d.shape.orient=j,'vertical'===j?(k=(null!=s?s*e:n.x)+o.sy,m=(null!=v?v*c:n.y)+n.dy,p=(null!=r?r*e:t.x)+o.ty,w=k,x=m*(1-h)+(u=null!=q?q*c:t.y)*h,z=p,y=m*h+u*(1-h)):(k=(null!=s?s*e:n.x)+n.dx,m=(null!=v?v*c:n.y)+o.sy,w=k*(1-h)+(p=null!=r?r*e:t.x)*h,x=m,z=k*h+p*(1-h),y=u=(null!=q?q*c:t.y)+o.ty),d.setShape({x1:k,y1:m,x2:p,y2:u,cpx1:w,cpy1:x,cpx2:z,cpy2:y}),d.setStyle(B.getItemStyle()),d.style.fill){case 'source':d.style.fill=g.node1.getVisual('color');break;case 'target':d.style.fill=g.node2.getVisual('color');}uo(d,g.getModel('emphasis.lineStyle').getItemStyle()),b.add(d),i.setItemGraphicEl(g.dataIndex,d)}),k.eachNode(function(d){var j=d.getLayout(),i=d.getModel(),m=i.get('localX'),n=i.get('localY'),p=i.getModel('label'),o=i.getModel('emphasis.label'),g=new aA({shape:{x:null!=m?m*e:j.x,y:null!=n?n*c:j.y,width:j.dx,height:j.dy},style:i.getModel('itemStyle').getItemStyle()}),k=d.getModel('emphasis.itemStyle').getItemStyle();co(g.style,k,p,o,{labelFetcher:a,labelDataIndex:d.dataIndex,defaultText:d.id,isRectText:!0}),g.setStyle('fill',d.getVisual('color')),uo(g,k),b.add(g),h.setItemGraphicEl(d.dataIndex,g),g.dataType='node'}),h.eachItemGraphicEl(function(b,i){var g=h.getItemModel(i);g.get('draggable')&&(b.drift=function(j,g){d._focusAdjacencyDisabled=!0,this.shape.x+=j,this.shape.y+=g,this.dirty(),f.dispatchAction({type:'dragNode',seriesId:a.id,dataIndex:h.getRawIndex(i),localX:this.shape.x/e,localY:this.shape.y/c})},b.ondragend=function(){d._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor='move'),g.get('focusNodeAdjacency')&&(b.off('mouseover').on('mouseover',function(){d._focusAdjacencyDisabled||f.dispatchAction({type:'focusNodeAdjacency',seriesId:a.id,dataIndex:b.dataIndex})}),b.off('mouseout').on('mouseout',function(){d._focusAdjacencyDisabled||f.dispatchAction({type:'unfocusNodeAdjacency',seriesId:a.id})}))}),i.eachItemGraphicEl(function(b,c){i.getItemModel(c).get('focusNodeAdjacency')&&(b.off('mouseover').on('mouseover',function(){d._focusAdjacencyDisabled||f.dispatchAction({type:'focusNodeAdjacency',seriesId:a.id,edgeDataIndex:b.dataIndex})}),b.off('mouseout').on('mouseout',function(){d._focusAdjacencyDisabled||f.dispatchAction({type:'unfocusNodeAdjacency',seriesId:a.id})}))}),!this._data&&a.get('animation')&&b.setClipPath(Cp(b.getBoundingRect(),a,function(){b.removeClipPath()})),this._data=a.getData()},dispose:function(){},focusNodeAdjacency:function(m,k,l,h){var i=this._model.getData(),b=i.graph,f=h.dataIndex,j=i.getItemModel(f),g=h.edgeDataIndex;if(null!=f||null!=g){var a=b.getNodeByIndex(f),c=b.getEdgeByIndex(g);if(b.eachNode(function(a){Ap(a,bK,0.1)}),b.eachEdge(function(a){Ap(a,dC,0.1)}),a){Dp(a,bK);var e=j.get('focusNodeAdjacency');'outEdges'===e?d(a.outEdges,function(a){a.dataIndex<0||(Dp(a,dC),Dp(a.node2,bK))}):'inEdges'===e?d(a.inEdges,function(a){a.dataIndex<0||(Dp(a,dC),Dp(a.node1,bK))}):'allEdges'===e&&d(a.edges,function(a){a.dataIndex<0||(Dp(a,dC),Dp(a.node1,bK),Dp(a.node2,bK))})}c&&(Dp(c,dC),Dp(c.node1,bK),Dp(c.node2,bK))}},unfocusNodeAdjacency:function(e,b,c,d){var a=this._model.getGraph();a.eachNode(function(a){Ap(a,bK)}),a.eachEdge(function(a){Ap(a,dC)})}}),Ps({type:'dragNode',event:'dragNode',update:'update'},function(a,b){b.eachComponent({mainType:'series',subType:'sankey',query:a},function(c){c.setNodePosition(a.dataIndex,[a.localX,a.localY])})});Os(function(b,a,c){b.eachSeriesByType('sankey',function(d){var j=d.get('nodeWidth'),k=d.get('nodeGap'),f=kp(d,a);d.layoutInfo=f;var i=f.width,l=f.height,h=d.getGraph(),e=h.nodes,m=h.edges;Np(e),Pp(e,m,j,k,i,l,0!==g(e,function(e){return 0===e.getLayout().value}).length?0:d.get('layoutIterations'),d.get('orient'))})}),Es(function(a,b){a.eachSeriesByType('sankey',function(g){var c=g.getGraph().nodes;if(c.length){var e=1/0,f=-1/0;d(c,function(d){var c=d.getLayout().value;c<e&&(e=c),c>f&&(f=c)}),d(c,function(c){var h=(new aC({type:'color',mappingMethod:'linear',dataExtent:[e,f],visual:g.get('color')})).mapValueToVisual(c.getLayout().value);c.setVisual('color',h);var d=c.getModel().get('itemStyle.color');null!=d&&c.setVisual('color',d)})}})});var mA={_baseAxisDim:null,getInitialData:function(a,h){var e,f,g=h.getComponent('xAxis',this.get('xAxisIndex')),c=h.getComponent('yAxis',this.get('yAxisIndex')),r=g.get('type'),s=c.get('type');'category'===r?(a.layout='horizontal',e=g.getOrdinalMeta(),f=!0):'category'===s?(a.layout='vertical',e=c.getOrdinalMeta(),f=!0):a.layout=a.layout||'horizontal';var j=['x','y'],b='horizontal'===a.layout?0:1,p=this._baseAxisDim=j[b],n=j[1-b],i=[g,c],q=i[b].get('type'),o=i[1-b].get('type'),k=a.data;if(k&&f){var l=[];d(k,function(b,d){var c;b.value&&y(b.value)?(c=b.value.slice(),b.value.unshift(d)):y(b)?(c=b.slice(),b.unshift(d)):c=b,l.push(c)}),a.data=l}var m=this.defaultValueDimensions;return c5(this,{coordDimensions:[{name:p,type:Xs(q),ordinalMeta:e,otherDims:{tooltip:!1,itemName:0},dimsDef:['base']},{name:n,type:Xs(o),dimsDef:m.slice()}],dimensionsCount:m.length+1})},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+'Axis',this.get(a+'AxisIndex')).axis}};h(aD.extend({type:'series.boxplot',dependencies:['xAxis','yAxis','grid'],defaultValueDimensions:[{name:'min',defaultTooltip:!0},{name:'Q1',defaultTooltip:!0},{name:'median',defaultTooltip:!0},{name:'Q3',defaultTooltip:!0},{name:'max',defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:'cartesian2d',legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:'#fff',borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:'rgba(0,0,0,0.4)'}},animationEasing:'elasticOut',animationDuration:800}}),mA,!0);var tA=['itemStyle'],tH=['emphasis','itemStyle'],tE=(Mr.extend({type:'boxplot',render:function(e,f,g){var a=e.getData(),b=this.group,c=this._data;this._data||b.removeAll();var d='horizontal'===e.get('layout')?1:0;a.diff(c).add(function(c){if(a.hasValue(c)){var h=qp(a.getItemLayout(c),a,c,d,!0);a.setItemGraphicEl(c,h),b.add(h)}}).update(function(i,k){var h=c.getItemGraphicEl(k);if(a.hasValue(i)){var j=a.getItemLayout(i);h?Kp(j,h,a,i):h=qp(j,a,i,d),b.add(h),a.setItemGraphicEl(i,h)}else {b.remove(h)}}).remove(function(d){var a=c.getItemGraphicEl(d);a&&b.remove(a)}).execute(),this._data=a},remove:function(c){var b=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(a){a&&b.remove(a)})},dispose:B}),kn.extend({type:'boxplotBoxPath',shape:{},buildPath:function(c,d){var b=d.points,a=0;for(c.moveTo(b[a][0],b[a][1]),a++;a<4;a++){c.lineTo(b[a][0],b[a][1])}for(c.closePath();a<b.length;a++){c.moveTo(b[a][0],b[a][1]),a++,c.lineTo(b[a][0],b[a][1])}}})),lw=['itemStyle','borderColor'],eq=d;Es(function(a,c){var b=a.get('color');a.eachRawSeriesByType('boxplot',function(d){var f=b[d.seriesIndex%b.length],e=d.getData();e.setVisual({legendSymbol:'roundRect',color:d.get(lw)||f}),a.isSeriesFiltered(d)||e.each(function(b){var f=e.getItemModel(b);e.setItemVisual(b,{color:f.get(lw,!0)})})})}),Os(function(b){var a=Jp(b);eq(a,function(a){var c=a.seriesModels;c.length&&(Qp(a),eq(c,function(d,c){tg(d,a.boxOffsetList[c],a.boxWidthList[c])}))})}),h(aD.extend({type:'series.candlestick',dependencies:['xAxis','yAxis','grid'],defaultValueDimensions:[{name:'open',defaultTooltip:!0},{name:'close',defaultTooltip:!0},{name:'lowest',defaultTooltip:!0},{name:'highest',defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:'cartesian2d',legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:'#c23531',color0:'#314656',borderWidth:1,borderColor:'#c23531',borderColor0:'#314656'},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3000,progressiveThreshold:10000,progressiveChunkMode:'mod',animationUpdate:!1,animationEasing:'linear',animationDuration:300},getShadowDim:function(){return 'open'},brushSelector:function(d,b,c){var a=b.getItemLayout(d);return a&&c.rect(a.brushRect)}}),mA,!0);var lF=['itemStyle'],p4=['emphasis','itemStyle'],kw=['color','color0','borderColor','borderColor0'],oG=(Mr.extend({type:'candlestick',render:function(a,b,c){this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},incrementalPrepareRender:function(a,b,c){this._clear(),this._updateDrawMode(a)},incrementalRender:function(b,a,c,d){this._isLargeDraw?this._incrementalRenderLarge(b,a):this._incrementalRenderNormal(b,a)},_updateDrawMode:function(b){var a=b.pipelineContext.large;(null==this._isLargeDraw||a^this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},_renderNormal:function(d){var a=d.getData(),c=this._data,b=this.group,e=a.getLayout('isSimpleBox');this._data||b.removeAll(),a.diff(c).add(function(c){if(a.hasValue(c)){var f,g=a.getItemLayout(c);So(f=eg(g,0,!0),{shape:{points:g.ends}},d,c),ig(f,a,c,e),b.add(f),a.setItemGraphicEl(c,f)}}).update(function(g,i){var f=c.getItemGraphicEl(i);if(a.hasValue(g)){var h=a.getItemLayout(g);f?bo(f,{shape:{points:h.ends}},d,g):f=eg(h),ig(f,a,g,e),b.add(f),a.setItemGraphicEl(g,f)}else {b.remove(f)}}).remove(function(e){var a=c.getItemGraphicEl(e);a&&b.remove(a)}).execute(),this._data=a},_renderLarge:function(a){this._clear(),og(a,this.group)},_incrementalRenderNormal:function(f,d){for(var b,c=d.getData(),e=c.getLayout('isSimpleBox');null!=(b=f.next());){var a;ig(a=eg(c.getItemLayout(b)),c,b,e),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(b,a){og(a,this.group,!0)},remove:function(a){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:B}),kn.extend({type:'normalCandlestickBox',shape:{},buildPath:function(b,c){var a=c.points;this.__simpleBox?(b.moveTo(a[4][0],a[4][1]),b.lineTo(a[6][0],a[6][1])):(b.moveTo(a[0][0],a[0][1]),b.lineTo(a[1][0],a[1][1]),b.lineTo(a[2][0],a[2][1]),b.lineTo(a[3][0],a[3][1]),b.closePath(),b.moveTo(a[4][0],a[4][1]),b.lineTo(a[5][0],a[5][1]),b.moveTo(a[6][0],a[6][1]),b.lineTo(a[7][0],a[7][1]))}})),kP=kn.extend({type:'largeCandlestickBox',shape:{},buildPath:function(d,e){for(var b=e.points,a=0;a<b.length;){if(this.__sign===b[a++]){var c=b[a++];d.moveTo(c,b[a++]),d.lineTo(c,b[a++])}else {a+=3}}}}),nJ=['itemStyle','borderColor'],n1=['itemStyle','borderColor0'],nX=['itemStyle','color'],oY=['itemStyle','color0'],sb={seriesType:'candlestick',plan:dK(),performRawSeries:!0,reset:function(a,c){function i(d,b){return b.get(d>0?nX:oY)}function n(d,b){return b.get(d>0?nJ:n1)}var d=a.getData(),b=a.pipelineContext.large;if(d.setVisual({legendSymbol:'roundRect',colorP:i(1,a),colorN:i(-1,a),borderColorP:n(1,a),borderColorN:n(-1,a)}),!c.isSeriesFiltered(a)){return !b&&{progress:function(g,d){for(var b;null!=(b=g.next());){var e=d.getItemModel(b),f=d.getItemLayout(b).sign;d.setItemVisual(b,{color:i(f,e),borderColor:n(f,e)})}}}}}},pH='undefined'!=typeof Float32Array?Float32Array:Array,pj={seriesType:'candlestick',plan:dK(),reset:function(g){var h=g.coordinateSystem,f=g.getData(),c=sg(g,f),a=0,b=1,l=['x','y'],i=f.mapDimension(l[a]),d=f.mapDimension(l[b],!0),m=d[0],e=d[1],j=d[2],k=d[3];if(f.setLayout({candleWidth:c,isSimpleBox:c<=1.3}),!(null==i||d.length<4)){return {progress:g.pipelineContext.large?function(s,d){for(var c,f,n=new pH(5*s.count),l=0,o=[],q=[];null!=(f=s.next());){var r=d.get(i,f),u=d.get(m,f),v=d.get(e,f),t=d.get(j,f),p=d.get(k,f);isNaN(r)||isNaN(t)||isNaN(p)?(n[l++]=NaN,l+=4):(n[l++]=rg(d,f,u,v,e),o[a]=r,o[b]=t,c=h.dataToPoint(o,null,q),n[l++]=c?c[0]:NaN,n[l++]=c?c[1]:NaN,o[b]=p,c=h.dataToPoint(o,null,q),n[l++]=c?c[1]:NaN)}d.setLayout('largePoints',n)}:function(A,n){function r(e,d){var c=[];return c[a]=d,c[b]=e,isNaN(d)||isNaN(e)?[NaN,NaN]:h.dataToPoint(c)}function l(f,e,h){var b=e.slice(),d=e.slice();b[a]=Yn(b[a]+c/2,1,!1),d[a]=Yn(d[a]-c/2,1,!0),h?f.push(b,d):f.push(d,b)}function f(b){return b[a]=Yn(b[a],1),b}for(var d;null!=(d=A.next());){var o=n.get(i,d),q=n.get(m,d),s=n.get(e,d),w=n.get(j,d),v=n.get(k,d),z=Math.min(q,s),B=Math.max(q,s),u=r(z,o),t=r(B,o),y=r(w,o),x=r(v,o),p=[];l(p,t,0),l(p,u,1),p.push(f(x),f(t),f(y),f(u)),n.setItemLayout(d,{sign:rg(n,d,q,s,e),initBaseline:q>s?t[b]:u[b],ends:p,brushRect:function(i,h,f){var d=r(i,f),e=r(h,f);return d[a]-=c/2,e[a]-=c/2,{x:d[0],y:d[1],width:b?c:e[0]-d[0],height:b?e[1]-d[1]:c}}(w,v,o)})}}}}}};Ls(function(a){a&&y(a.series)&&d(a.series,function(b){w(b)&&'k'===b.type&&(b.type='candlestick')})}),Es(sb),Os(pj),aD.extend({type:'series.effectScatter',dependencies:['grid','polar'],getInitialData:function(b,a){return dl(this.getSource(),this)},brushSelector:'point',defaultOption:{coordinateSystem:'cartesian2d',zlevel:0,z:2,legendHoverLink:!0,effectType:'ripple',progressive:0,showEffectOn:'render',rippleEffect:{period:4,scale:2.5,brushType:'fill'},symbolSize:10}});var cA=hg.prototype;cA.stopEffectAnimation=function(){this.childAt(1).removeAll()},cA.startEffectAnimation=function(a){for(var f=a.symbolType,g=a.color,d=this.childAt(1),c=0;c<3;c++){var b=Xl(f,-1,-1,2,2,g);b.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[0.5,0.5]});var e=-c/3*a.period+a.effectOffset;b.animate('',!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(e).start(),b.animateStyle(!0).when(a.period,{opacity:0}).delay(e).start(),d.add(b)}ug(d,a)},cA.updateEffectAnimation=function(b){for(var e=this._effectCfg,f=this.childAt(1),d=['symbolType','period','rippleScale'],a=0;a<d.length;a++){var c=d[a];if(e[c]!==b[c]){return this.stopEffectAnimation(),void this.startEffectAnimation(b)}}ug(f,b)},cA.highlight=function(){this.trigger('emphasis')},cA.downplay=function(){this.trigger('normal')},cA.updateData=function(c,d){var n=c.hostModel;this.childAt(0).updateData(c,d);var e=this.childAt(1),b=c.getItemModel(d),m=c.getItemVisual(d,'symbol'),g=lg(c.getItemVisual(d,'symbolSize')),k=c.getItemVisual(d,'color');e.attr('scale',g),e.traverse(function(a){a.attr({fill:k})});var f=b.getShallow('symbolOffset');if(f){var l=e.position;l[0]=Ro(f[0],g[0]),l[1]=Ro(f[1],g[1])}e.rotation=(b.getShallow('symbolRotate')||0)*Math.PI/180||0;var a={};if(a.showEffectOn=n.get('showEffectOn'),a.rippleScale=b.get('rippleEffect.scale'),a.brushType=b.get('rippleEffect.brushType'),a.period=1000*b.get('rippleEffect.period'),a.effectOffset=d/c.count(),a.z=b.getShallow('z')||0,a.zlevel=b.getShallow('zlevel')||0,a.symbolType=m,a.color=k,this.off('mouseover').off('mouseout').off('emphasis').off('normal'),'render'===a.showEffectOn){this._effectCfg?this.updateEffectAnimation(a):this.startEffectAnimation(a),this._effectCfg=a}else {this._effectCfg=null,this.stopEffectAnimation();var h=this.childAt(0),i=function(){h.highlight(),'render'!==a.showEffectOn&&this.startEffectAnimation(a)},j=function(){h.downplay(),'render'!==a.showEffectOn&&this.stopEffectAnimation()};this.on('mouseover',i,this).on('mouseout',j,this).on('emphasis',i,this).on('normal',j,this)}this._effectCfg=a},cA.fadeOut=function(a){this.off('mouseover').off('mouseout').off('emphasis').off('normal'),a&&a()},u(hg,t),Fs({type:'effectScatter',init:function(){this._symbolDraw=new Su(hg)},render:function(c,d,e){var b=c.getData(),a=this._symbolDraw;a.updateData(b),this.group.add(a.group)},updateTransform:function(c,d,e){var a=c.getData();this.group.dirty();var b=d5().reset(c);b.progress&&b.progress({start:0,end:a.count()},a),this._symbolDraw.updateLayout(a)},_updateGroupTransform:function(b){var a=b.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=Mt(a.getRoamTransform()),this.group.decomposeTransform())},remove:function(b,a){this._symbolDraw&&this._symbolDraw.remove(a)},dispose:function(){}}),Es(cJ('effectScatter','circle')),Os(d5('effectScatter'));var n5='undefined'==typeof Uint32Array?Array:Uint32Array,pX='undefined'==typeof Float64Array?Array:Float64Array,nA=aD.extend({type:'series.lines',dependencies:['grid','polar'],visualColorAccessPath:'lineStyle.color',init:function(a){a.data=a.data||[],cg(a);var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset,b.flatCoords&&(a.data=new Float32Array(b.count)),nA.superApply(this,'init',arguments)},mergeOption:function(a){if(a.data=a.data||[],cg(a),a.data){var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset,b.flatCoords&&(a.data=new Float32Array(b.count))}nA.superApply(this,'mergeOption',arguments)},appendData:function(b){var a=this._processFlatCoordsArray(b.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=z(this._flatCoords,a.flatCoords),this._flatCoordsOffset=z(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),b.data=new Float32Array(a.count)),this.getRawData().appendData(b.data)},_getCoordsFromItemModel:function(b){var a=this.getData().getItemModel(b);return a.option instanceof Array?a.option:a.getShallow('coords')},getLineCoordsCount:function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},getLineCoords:function(d,b){if(this._flatCoordsOffset){for(var e=this._flatCoordsOffset[2*d],f=this._flatCoordsOffset[2*d+1],a=0;a<f;a++){b[a]=b[a]||[],b[a][0]=this._flatCoords[e+2*a],b[a][1]=this._flatCoords[e+2*a+1]}return f}for(var c=this._getCoordsFromItemModel(d),a=0;a<c.length;a++){b[a]=b[a]||[],b[a][0]=c[a][0],b[a][1]=c[a][1]}return c.length},_processFlatCoordsArray:function(a){var h=0;if(this._flatCoords&&(h=this._flatCoords.length),'number'==typeof a[0]){for(var d=a.length,e=new n5(d),f=new pX(d),c=0,g=0,j=0,b=0;b<d;){j++;var k=a[b++];e[g++]=c+h,e[g++]=k;for(var i=0;i<k;i++){var l=a[b++],m=a[b++];f[c++]=l,f[c++]=m}}return {flatCoordsOffset:new Uint32Array(e.buffer,0,g),flatCoords:f,count:j}}return {flatCoordsOffset:null,flatCoords:null,count:a.length}},getInitialData:function(b,c){var a=new aH(['value'],this);return a.hasItemOption=!1,a.initData(b.data,[],function(e,g,h,f){if(e instanceof Array){return NaN}a.hasItemOption=!0;var d=e.value;return null!=d?d instanceof Array?d[f]:d:void 0}),a},formatTooltip:function(f){var b=this.getData().getItemModel(f),c=b.get('name');if(c){return c}var d=b.get('fromName'),e=b.get('toName'),a=[];return null!=d&&a.push(d),null!=e&&a.push(e),Qo(a.join(' > '))},preventIncremental:function(){return !!this.get('effect.show')},getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?10000:this.get('progressive'):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?20000:this.get('progressiveThreshold'):a},defaultOption:{coordinateSystem:'geo',zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:['none','none'],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:'circle',symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,label:{show:!1,position:'end'},lineStyle:{opacity:0.5}}}),bT=dg.prototype;bT.createLine=function(c,a,b){return new $d(c,a,b)},bT._updateEffectSymbol=function(g,e){var c=g.getItemModel(e).getModel('effect'),b=c.get('symbolSize'),f=c.get('symbol');y(b)||(b=[b,b]);var d=c.get('color')||g.getItemVisual(e,'color'),a=this.childAt(1);this._symbolType!==f&&(this.remove(a),(a=Xl(f,-0.5,-0.5,1,1,d)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle('shadowColor',d),a.setStyle(c.getItemStyle(['color'])),a.attr('scale',b),a.setColor(d),a.attr('scale',b),this._symbolType=f,this._updateEffectAnimation(g,c,e))},bT._updateEffectAnimation=function(k,c,h){var a=this.childAt(1);if(a){var j=this,l=k.getItemLayout(h),b=1000*c.get('period'),d=c.get('loop'),i=c.get('constantSpeed'),f=T(c.get('delay'),function(a){return a/k.count()*b/3}),m='function'==typeof f;if(a.ignore=!0,this.updateAnimationPoints(a,l),i>0&&(b=this.getLineLength(a)/i*1000),b!==this._period||d!==this._loop){a.stopAnimation();var e=f;m&&(e=f(h)),a.__t>0&&(e=-b*a.__t),a.__t=0;var g=a.animate('',d).when(b,{__t:1}).delay(e).during(function(){j.updateSymbolPosition(a)});d||g.done(function(){j.remove(a)}),g.start()}this._period=b,this._loop=d}},bT.getLineLength=function(a){return cI(a.__p1,a.__cp1)+cI(a.__cp1,a.__p2)},bT.updateAnimationPoints=function(b,a){b.__p1=a[0],b.__p2=a[1],b.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},bT.updateData=function(b,a,c){this.childAt(0).updateData(b,a,c),this._updateEffectSymbol(b,a)},bT.updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t,f=a.position,g=rn,h=sn;f[0]=g(b[0],d[0],c[0],e),f[1]=g(b[1],d[1],c[1],e);var i=h(b[0],d[0],c[0],e),j=h(b[1],d[1],c[1],e);a.rotation=-Math.atan2(j,i)-Math.PI/2,a.ignore=!1},bT.updateLayout=function(b,a){this.childAt(0).updateLayout(b,a);var c=b.getItemModel(a).getModel('effect');this._updateEffectAnimation(b,c,a)},u(dg,t);var e3=fg.prototype;e3._createPolyline=function(b,a,c){var d=b.getItemLayout(a),e=new a4({shape:{points:d}});this.add(e),this._updateCommonStl(b,a,c)},e3.updateData=function(b,a,c){var d=b.hostModel;bo(this.childAt(0),{shape:{points:b.getItemLayout(a)}},d,a),this._updateCommonStl(b,a,c)},e3._updateCommonStl=function(b,c,a){var e=this.childAt(0),f=b.getItemModel(c),h=b.getItemVisual(c,'color'),g=a&&a.lineStyle,d=a&&a.hoverLineStyle;a&&!b.hasItemOption||(g=f.getModel('lineStyle').getLineStyle(),d=f.getModel('emphasis.lineStyle').getLineStyle()),e.useStyle(r({strokeNoScale:!0,fill:'none',stroke:h},g)),e.hoverStyle=d,uo(this)},e3.updateLayout=function(b,a){this.childAt(0).setShape('points',b.getItemLayout(a))},u(fg,t);var eO=pg.prototype;eO.createLine=function(c,a,b){return new fg(c,a,b)},eO.updateAnimationPoints=function(g,c){this._points=c;for(var d=[0],b=0,a=1;a<c.length;a++){var e=c[a-1],f=c[a];b+=cI(e,f),d.push(b)}if(0!==b){for(a=0;a<d.length;a++){d[a]/=b}this._offsets=d,this._length=b}},eO.getLineLength=function(a){return this._length},eO.updateSymbolPosition=function(f){var d=f.__t,b=this._points,c=this._offsets,e=b.length;if(c){var g=this._lastFrame;if(d<this._lastFramePercent){for(a=Math.min(g+1,e-1);a>=0&&!(c[a]<=d);a--){}a=Math.min(a,e-2)}else {for(var a=g;a<e&&!(c[a]>d);a++){}a=Math.min(a-1,e-2)}J(f.position,b[a],b[a+1],(d-c[a])/(c[a+1]-c[a]));var i=b[a+1][0]-b[a][0],h=b[a+1][1]-b[a][1];f.rotation=-Math.atan2(h,i)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=d,f.ignore=!1}},u(pg,dg);var jR=Fn({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(c,f){var b=f.segs,h=f.curveness;if(f.polyline){for(a=0;a<b.length;){var k=b[a++];if(k>0){c.moveTo(b[a++],b[a++]);for(var j=1;j<k;j++){c.lineTo(b[a++],b[a++])}}}}else {for(var a=0;a<b.length;){var i=b[a++],g=b[a++],e=b[a++],d=b[a++];if(c.moveTo(i,g),h>0){var l=(i+e)/2-(g-d)*h,m=(g+d)/2-(e-i)*h;c.quadraticCurveTo(l,m,e,d)}else {c.lineTo(e,d)}}}},findDataIndex:function(m,l){var h=this.shape,b=h.segs,i=h.curveness;if(h.polyline){for(var c=0,a=0;a<b.length;){var k=b[a++];if(k>0){for(var d=b[a++],e=b[a++],j=1;j<k;j++){if(vn(d,e,f=b[a++],g=b[a++])){return c}}}c++}}else {for(var c=0,a=0;a<b.length;){var d=b[a++],e=b[a++],f=b[a++],g=b[a++];if(i>0){if(xn(d,e,(d+f)/2-(e-g)*i,(e+g)/2-(f-d)*i,f,g)){return c}}else {if(vn(d,e,f,g)){return c}}c++}}return -1}}),cC=gg.prototype;cC.isPersistent=function(){return !this._incremental},cC.updateData=function(b){this.group.removeAll();var a=new jR({rectHover:!0,cursor:'default'});a.setShape({segs:b.getLayout('linesPoints')}),this._setCommon(a,b),this.group.add(a),this._incremental=null},cC.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>500000?(this._incremental||(this._incremental=new Gn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},cC.incrementalUpdate=function(c,b){var a=new jR();a.setShape({segs:b.getLayout('linesPoints')}),this._setCommon(a,b,!!this._incremental),this._incremental?this._incremental.addDisplayable(a,!0):(a.rectHover=!0,a.cursor='default',a.__startIndex=c.start,this.group.add(a))},cC.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},cC._setCommon=function(a,c,e){var b=c.hostModel;a.setShape({polyline:b.get('polyline'),curveness:b.get('lineStyle.curveness')}),a.useStyle(b.getModel('lineStyle').getLineStyle()),a.style.strokeNoScale=!0;var d=c.getVisual('color');d&&a.setStyle('stroke',d),a.setStyle('fill'),e||(a.seriesIndex=b.seriesIndex,a.on('mousemove',function(b){a.dataIndex=null;var d=a.findDataIndex(b.offsetX,b.offsetY);d>0&&(a.dataIndex=d+a.__startIndex)}))},cC._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var jY={seriesType:'lines',plan:dK(),reset:function(a){var b=a.coordinateSystem,c=a.get('polyline'),d=a.pipelineContext.large;return {progress:function(g,l){var h=[];if(d){var i,q=g.end-g.start;if(c){for(var r=0,e=g.start;e<g.end;e++){r+=a.getLineCoordsCount(e)}i=new Float32Array(q+2*r)}else {i=new Float32Array(4*q)}for(var m=0,j=[],e=g.start;e<g.end;e++){k=a.getLineCoords(e,h),c&&(i[m++]=k);for(var n=0;n<k;n++){j=b.dataToPoint(h[n],!1,j),i[m++]=j[0],i[m++]=j[1]}}l.setLayout('linesPoints',i)}else {for(e=g.start;e<g.end;e++){var s=l.getItemModel(e),k=a.getLineCoords(e,h),f=[];if(c){for(var o=0;o<k;o++){f.push(b.dataToPoint(h[o]))}}else {f[0]=b.dataToPoint(h[0]),f[1]=b.dataToPoint(h[1]);var p=s.get('lineStyle.curveness');+p&&(f[2]=[(f[0][0]+f[1][0])/2-(f[0][1]-f[1][1])*p,(f[0][1]+f[1][1])/2-(f[1][0]-f[0][0])*p])}l.setItemLayout(e,f)}}}}}};Fs({type:'lines',init:function(){},render:function(a,i,g){var e=a.getData(),h=this._updateLineDraw(e,a),c=a.get('zlevel'),f=a.get('effect.trailLength'),b=g.getZr(),d='svg'===b.painter.getType();d||b.painter.getLayer(c).clear(!0),null==this._lastZlevel||d||b.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&f&&(d||b.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(f/10+0.9,1),0)})),h.updateData(e),this._lastZlevel=c,this._finished=!0},incrementalPrepareRender:function(b,d,c){var a=b.getData();this._updateLineDraw(a,b).incrementalPrepareUpdate(a),this._clearLayer(c),this._finished=!1},incrementalRender:function(b,a,c){this._lineDraw.incrementalUpdate(b,a.getData()),this._finished=b.end===a.getData().count()},updateTransform:function(a,f,e){var c=a.getData(),d=a.pipelineContext;if(!this._finished||d.large||d.progressiveRender){return {update:!0}}var b=jY.reset(a);b.progress&&b.progress({start:0,end:c.count()},c),this._lineDraw.updateLayout(),this._clearLayer(e)},_updateLineDraw:function(f,d){var a=this._lineDraw,b=this._showEffect(d),e=!!d.get('polyline'),c=d.pipelineContext.large;return a&&b===this._hasEffet&&e===this._isPolyline&&c===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=c?new gg():new Jd(e?b?pg:fg:b?dg:$d),this._hasEffet=b,this._isPolyline=e,this._isLargeDraw=c,this.group.removeAll()),this.group.add(a.group),a},_showEffect:function(a){return !!a.get('effect.show')},_clearLayer:function(b){var a=b.getZr();'svg'===a.painter.getType()||null==this._lastZlevel||a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(b,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},dispose:function(){}});var lj='lineStyle.opacity'.split('.'),qw={seriesType:'lines',reset:function(d,e,f){var b=mg(d.get('symbol')),c=mg(d.get('symbolSize')),a=d.getData();return a.setVisual('fromSymbol',b&&b[0]),a.setVisual('toSymbol',b&&b[1]),a.setVisual('fromSymbolSize',c&&c[0]),a.setVisual('toSymbolSize',c&&c[1]),a.setVisual('opacity',d.get(lj)),{dataEach:a.hasItemOption?function(b,a){var h=b.getItemModel(a),c=mg(h.getShallow('symbol',!0)),g=mg(h.getShallow('symbolSize',!0)),i=h.get(lj);c[0]&&b.setItemVisual(a,'fromSymbol',c[0]),c[1]&&b.setItemVisual(a,'toSymbol',c[1]),g[0]&&b.setItemVisual(a,'fromSymbolSize',g[0]),g[1]&&b.setItemVisual(a,'toSymbolSize',g[1]),b.setItemVisual(a,'opacity',i)}:null}}};Os(jY),Es(qw),aD.extend({type:'series.heatmap',getInitialData:function(b,a){return dl(this.getSource(),this,{generateCoord:'value'})},preventIncremental:function(){var a=Ba.get(this.get('coordinateSystem'));if(a&&a.dimensions){return 'lng'===a.dimensions[0]&&'lat'===a.dimensions[1]}},defaultOption:{coordinateSystem:'cartesian2d',zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});vg.prototype={update:function(h,r,t,w,l,p){var x=this._getBrush(),y=this._getGradient(h,l,'inRange'),u=this._getGradient(h,l,'outOfRange'),m=this.pointSize+this.blurSize,a=this.canvas,g=a.getContext('2d'),q=h.length;a.width=r,a.height=t;for(var i=0;i<q;++i){var j=h[i],s=j[0],v=j[1],b=w(j[2]);g.globalAlpha=b,g.drawImage(x,s-m,v-m)}if(!a.width||!a.height){return a}for(var n=g.getImageData(0,0,a.width,a.height),d=n.data,c=0,z=d.length,k=this.minOpacity,o=this.maxOpacity-k;c<z;){var b=d[c+3]/256,f=4*Math.floor(255*b);if(b>0){var e=p(b)?y:u;b>0&&(b=b*o+k),d[c++]=e[f],d[c++]=e[f+1],d[c++]=e[f+2],d[c++]=e[f+3]*b*256}else {c+=4}}return g.putImageData(n,0,0),a},_getBrush:function(){var c=this._brushCanvas||(this._brushCanvas=c7()),d=this.pointSize+this.blurSize,b=2*d;c.width=b,c.height=b;var a=c.getContext('2d');return a.clearRect(0,0,b,b),a.shadowOffsetX=b,a.shadowBlur=this.blurSize,a.shadowColor='#000',a.beginPath(),a.arc(-d,d,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),c},_getGradient:function(h,g,d){for(var f=this._gradientPixels,b=f[d]||(f[d]=new Uint8ClampedArray(1024)),a=[0,0,0,0],c=0,e=0;e<256;e++){g[d](e/255,!0,a),b[c++]=a[0],b[c++]=a[1],b[c++]=a[2],b[c++]=a[3]}return b}},Fs({type:'heatmap',render:function(a,e,c){var d;e.eachComponent('visualMap',function(b){b.eachTargetSeries(function(f){f===a&&(d=b)})}),this.group.removeAll(),this._incrementalDisplayable=null;var b=a.coordinateSystem;'cartesian2d'===b.type||'calendar'===b.type?this._renderOnCartesianAndCalendar(a,c,0,a.getData().count()):_g(b)&&this._renderOnGeo(b,a,d,c)},incrementalPrepareRender:function(c,a,b){this.group.removeAll()},incrementalRender:function(b,a,d,c){a.coordinateSystem&&this._renderOnCartesianAndCalendar(a,c,b.start,b.end,!0)},_renderOnCartesianAndCalendar:function(e,y,v,w,q){var l,m,f=e.coordinateSystem;if('cartesian2d'===f.type){var x=f.getAxis('x'),u=f.getAxis('y');l=x.getBandWidth(),m=u.getBandWidth()}for(var t=this.group,b=e.getData(),k=e.getModel('itemStyle').getItemStyle(['color']),i=e.getModel('emphasis.itemStyle').getItemStyle(),o=e.getModel('label'),p=e.getModel('emphasis.label'),r=f.type,g='cartesian2d'===r?[b.mapDimension('x'),b.mapDimension('y'),b.mapDimension('value')]:[b.mapDimension('time'),b.mapDimension('value')],c=v;c<w;c++){var d;if('cartesian2d'===r){if(isNaN(b.get(g[2],c))){continue}var s=f.dataToPoint([b.get(g[0],c),b.get(g[1],c)]);d=new aA({shape:{x:s[0]-l/2,y:s[1]-m/2,width:l,height:m},style:{fill:b.getItemVisual(c,'color'),opacity:b.getItemVisual(c,'opacity')}})}else {if(isNaN(b.get(g[1],c))){continue}d=new aA({z2:1,shape:f.dataToRect([b.get(g[0],c)]).contentShape,style:{fill:b.getItemVisual(c,'color'),opacity:b.getItemVisual(c,'opacity')}})}var h=b.getItemModel(c);b.hasItemOption&&(k=h.getModel('itemStyle').getItemStyle(['color']),i=h.getModel('emphasis.itemStyle').getItemStyle(),o=h.getModel('label'),p=h.getModel('emphasis.label'));var j=e.getRawValue(c),n='-';j&&null!=j[2]&&(n=j[2]),co(k,i,o,p,{labelFetcher:e,labelDataIndex:c,defaultText:n,isRectText:!0}),d.setStyle(k),uo(d,b.hasItemOption?i:a({},i)),d.incremental=q,q&&(d.useHoverLayer=!0),t.add(d),b.setItemGraphicEl(c,d)}},_renderOnGeo:function(h,d,a,j){var k=a.targetVisuals.inRange,o=a.targetVisuals.outOfRange,e=d.getData(),c=this._hmLayer||this._hmLayer||new vg();c.blurSize=d.get('blurSize'),c.pointSize=d.get('pointSize'),c.minOpacity=d.get('minOpacity'),c.maxOpacity=d.get('maxOpacity');var b=h.getViewRect().clone(),s=h.getRoamTransform();b.applyTransform(s);var g=Math.max(b.x,0),f=Math.max(b.y,0),p=Math.min(b.width+b.x,j.getWidth()),q=Math.min(b.height+b.y,j.getHeight()),l=p-g,i=q-f,r=[e.mapDimension('lng'),e.mapDimension('lat'),e.mapDimension('value')],t=e.mapArray(r,function(c,e,i){var b=h.dataToPoint([c,e]);return b[0]-=g,b[1]-=f,b.push(i),b}),m=a.getExtent(),u='visualMap.continuous'===a.type?xg(m,a.option.range):yg(m,a.getPieceList(),a.option.selected);c.update(t,l,i,k.color.getNormalizer(),{inRange:k.color.getColorMapper(),outOfRange:o.color.getColorMapper()},u);var n=new hi({style:{width:l,height:i,x:g,y:f,image:c.canvas},silent:!0});this.group.add(n)},dispose:function(){}});var qN=jK.extend({type:'series.pictorialBar',dependencies:['grid'],defaultOption:{symbol:'circle',symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:'end',symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:'-100%',progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,qN.superApply(this,'getInitialData',arguments)}}),r5=['itemStyle','borderWidth'],k7=[{xy:'x',wh:'width',index:0,posDesc:['left','right']},{xy:'y',wh:'height',index:1,posDesc:['top','bottom']}],iO=new bV();Fs({type:'pictorialBar',render:function(h,j,i){var e=this.group,a=h.getData(),d=this._data,f=h.coordinateSystem,g=!!f.getBaseAxis().isHorizontal(),c=f.grid.getRect(),b={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:h,coordSys:f,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:g,valueDim:k7[+g],categoryDim:k7[1-g]};return a.diff(d).add(function(c){if(a.hasValue(c)){var g=Pg(a,c),f=wg(a,c,g,b),d=Rg(a,b,f);a.setItemGraphicEl(c,d),e.add(d),Wg(d,b,f)}}).update(function(g,k){var c=d.getItemGraphicEl(k);if(a.hasValue(g)){var m=Pg(a,g),f=wg(a,g,m,b),l=Vg(a,f);c&&l!==c.__pictorialShapeStr&&(e.remove(c),a.setItemGraphicEl(g,null),c=null),c?zg(c,b,f):c=Rg(a,b,f,!0),a.setItemGraphicEl(g,c),c.__pictorialSymbolMeta=f,e.add(c),Wg(c,b,f)}else {e.remove(c)}}).remove(function(b){var a=d.getItemGraphicEl(b);a&&Bg(d,b,a.__pictorialSymbolMeta.animationModel,a)}).execute(),this._data=a,this.group},dispose:B,remove:function(b,d){var c=this.group,a=this._data;b.get('animation')?a&&a.eachItemGraphicEl(function(c){Bg(a,c.dataIndex,b,c)}):c.removeAll()}});Os(v(kl,'pictorialBar')),Es(cJ('pictorialBar','roundRect'));var eU=function(e,a,b,c,d){aF.call(this,e,a,b),this.type=c||'value',this.position=d||'bottom',this.orient=null};eU.prototype={constructor:eU,model:null,isHorizontal:function(){var a=this.position;return 'top'===a||'bottom'===a},pointToData:function(b,a){return this.coordinateSystem.pointToData(b,a)[0]},toGlobalCoord:null,toLocalCoord:null},u(eU,aF),Zg.prototype={type:'singleAxis',axisPointerEnabled:!0,constructor:Zg,_init:function(b,e,f){var d=this.dimension,a=new eU(d,Vl(b),[0,0],b.get('type'),b.get('position')),c='category'===a.type;a.onBand=c&&b.get('boundaryGap'),a.inverse=b.get('inverse'),a.orient=b.get('orient'),b.axis=a,a.model=b,a.coordinateSystem=this,this._axis=a},update:function(a,b){a.eachSeries(function(e){if(e.coordinateSystem===this){var c=e.getData();d(c.mapDimension(this.dimension,!0),function(d){this._axis.scale.unionExtentFromData(c,d)},this),Bl(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=la({left:a.get('left'),top:a.get('top'),right:a.get('right'),bottom:a.get('bottom'),width:a.get('width'),height:a.get('height')},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var b=this._rect,a=this._axis,c=a.isHorizontal(),d=c?[0,b.width]:[0,b.height],e=a.reverse?1:0;a.setExtent(d[e],d[1-e]),this._updateAxisTransform(a,c?b.x:b.y)},_updateAxisTransform:function(b,a){var c=b.getExtent(),d=c[0]+c[1],e=b.isHorizontal();b.toGlobalCoord=e?function(c){return c+a}:function(c){return d-c+a},b.toLocalCoord=e?function(c){return c-a}:function(c){return d-c+a}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return [this._axis]},getTooltipAxes:function(){return {baseAxes:[this.getAxis()]}},containPoint:function(b){var a=this.getRect(),c=this.getAxis();return 'horizontal'===c.orient?c.contain(c.toLocalCoord(b[0]))&&b[1]>=a.y&&b[1]<=a.y+a.height:c.contain(c.toLocalCoord(b[1]))&&b[0]>=a.y&&b[0]<=a.y+a.height},pointToData:function(b){var a=this.getAxis();return [a.coordToData(a.toLocalCoord(b['horizontal'===a.orient?0:1]))]},dataToPoint:function(b){var c=this.getAxis(),a=this.getRect(),d=[],e='horizontal'===c.orient?0:1;return b instanceof Array&&(b=b[0]),d[e]=c.toGlobalCoord(c.dataToCoord(+b)),d[1-e]=0===e?a.y+a.height/2:a.x+a.width/2,d}},Ba.register('single',{create:function(a,b){var c=[];return a.eachComponent('singleAxis',function(e,f){var d=new Zg(e,a,b);d.name='single_'+f,d.resize(e,b),e.coordinateSystem=d,c.push(d)}),a.eachSeries(function(c){if('singleAxis'===c.get('coordinateSystem')){var d=a.queryComponents({mainType:'singleAxis',index:c.get('singleAxisIndex'),id:c.get('singleAxisId')})[0];c.coordinateSystem=d&&d.coordinateSystem}}),c},dimensions:Zg.prototype.dimensions});var nF=['axisLine','axisTickLabel','axisName'],oN=aR.extend({type:'singleAxis',axisPointerClass:'SingleAxisPointer',render:function(a,f,g,h){var c=this.group;c.removeAll();var e=Ug(a),b=new a9(a,e);d(nF,b.add,b),c.add(b.getGroup()),a.get('splitLine.show')&&this._splitLine(a),oN.superCall(this,'render',a,f,g,h)},_splitLine:function(l){var g=l.axis;if(!g.scale.isBlank()){var n=l.getModel('splitLine'),j=n.getModel('lineStyle'),k=j.get('width'),b=j.get('color');b=b instanceof Array?b:[b];for(var e=l.coordinateSystem.getRect(),o=g.isHorizontal(),f=[],p=0,m=g.getTicksCoords({tickModel:n}),c=[],d=[],a=0;a<m.length;++a){var h=g.toGlobalCoord(m[a].coord);o?(c[0]=h,c[1]=e.y,d[0]=h,d[1]=e.y+e.height):(c[0]=e.x,c[1]=h,d[0]=e.x+e.width,d[1]=h);var i=p++%b.length;f[i]=f[i]||[],f[i].push(new aU(Xn({shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:{lineWidth:k},silent:!0})))}for(a=0;a<f.length;++a){this.group.add(bN(f[a],{style:{stroke:b[a%b.length],lineDash:j.getLineDash(k),lineWidth:k},silent:!0}))}}}}),kI=aw.extend({type:'singleAxis',layoutMode:'box',axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),s7={left:'5%',top:'5%',right:'5%',bottom:'5%',type:'value',position:'bottom',orient:'horizontal',axisLine:{show:!0,lineStyle:{width:2,type:'solid'}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:'auto'},splitLine:{show:!0,lineStyle:{type:'dashed',opacity:0.2}}};n(kI.prototype,b9),dI('single',kI,function(b,a){return a.type||(a.data?'category':'value')},s7);var lN=function(j,k){var b,g=[],i=j.seriesIndex;if(null==i||!(b=k.getSeriesByIndex(i))){return {point:[]}}var d=b.getData(),a=zi(d,j);if(null==a||a<0||y(a)){return {point:[]}}var h=d.getItemGraphicEl(a),e=b.coordinateSystem;if(b.getTooltipPosition){g=b.getTooltipPosition(a)||[]}else {if(e&&e.dataToPoint){g=e.dataToPoint(d.getValues(f(e.dimensions,function(a){return d.mapDimension(a)}),a,!0))||[]}else {if(h){var c=h.getBoundingRect().clone();c.applyTransform(h.transform),g=[c.x+c.width/2,c.y+c.height/2]}}}return {point:g,el:h}},bD=d,mE=v,mH=Bi(),bJ=(Bs({type:'axisPointer',coordSysAxesInfo:null,defaultOption:{show:'auto',triggerOn:null,zlevel:0,z:50,type:'line',snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:'#aaa',width:1,type:'solid'},shadowStyle:{color:'rgba(150,150,150,0.3)'},label:{show:!0,formatter:null,precision:'auto',margin:3,color:'#fff',padding:[5,7,5,7],backgroundColor:'auto',borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:'#aaa'},handle:{show:!1,icon:'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',size:45,margin:50,color:'#333',shadowBlur:3,shadowColor:'#aaa',shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Bi()),sX=d,mT=Vs({type:'axisPointer',render:function(e,c,d){var a=c.getComponent('tooltip'),b=e.get('triggerOn')||a&&a.get('triggerOn')||'mousemove|click';im('axisPointer',d,function(f,a,g){'none'!==b&&('leave'===f||b.indexOf(f)>=0)&&g({type:'updateAxisPointer',currTrigger:f,x:a&&a.offsetX,y:a&&a.offsetY})})},remove:function(b,a){lm(a.getZr(),'axisPointer'),mT.superApply(this._model,'remove',arguments)},dispose:function(b,a){lm('axisPointer',a),mT.superApply(this._model,'dispose',arguments)}}),cL=Bi(),m0=i,h4=m;(um.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(d,b,f,l){var g=b.get('value'),e=b.get('status');if(this._axisModel=d,this._axisPointerModel=b,this._api=f,l||this._lastValue!==g||this._lastStatus!==e){this._lastValue=g,this._lastStatus=e;var a=this._group,h=this._handle;if(!e||'hide'===e){return a&&a.hide(),void (h&&h.hide())}a&&a.show(),h&&h.show();var c={};this.makeElOption(c,g,d,b,f);var j=c.graphicKey;j!==this._lastGraphicKey&&this.clear(f),this._lastGraphicKey=j;var k=this._moveAnimation=this.determineAnimation(d,b);if(a){var i=v(hm,b,k);this.updatePointerEl(a,c,i,b),this.updateLabelEl(a,c,i,b)}else {a=this._group=new t(),this.createPointerEl(a,c,d,b),this.createLabelEl(a,c,d,b),f.getZr().add(a)}pm(a,b,!0),this._renderHandle(g)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(h,d){var a=d.get('animation'),b=h.axis,f='category'===b.type,c=d.get('snap');if(!c&&!f){return !1}if('auto'===a||null==a){var g=this.animationThreshold;if(f&&b.getBandWidth()>g){return !0}if(c){var i=xh(h).seriesDataCount,e=b.getExtent();return Math.abs(e[0]-e[1])/i>g}return !1}return !0===a},makeElOption:function(e,a,b,c,d){},createPointerEl:function(c,a,e,f){var b=a.pointer;if(b){var d=cL(c).pointerEl=new a2[b.type](m0(a.pointer));c.add(d)}},createLabelEl:function(c,a,e,d){if(a.label){var b=cL(c).labelEl=new aA(m0(a.label));c.add(b),dm(b,d)}},updatePointerEl:function(d,b,c){var a=cL(d).pointerEl;a&&(a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape}))},updateLabelEl:function(e,b,c,d){var a=cL(e).labelEl;a&&(a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),dm(a,d))},_renderHandle:function(i){if(!this._dragging&&this.updateHandleTransform){var d=this._axisPointerModel,f=this._api.getZr(),a=this._handle,c=d.getModel('handle'),e=d.get('status');if(!c.get('show')||!e||'hide'===e){return a&&f.remove(a),void (this._handle=null)}var g;this._handle||(g=!0,a=this._handle=Co(c.get('icon'),{cursor:'move',draggable:!0,onmousemove:function(a){bL(a.event)},onmousedown:h4(this._onHandleDragMove,this,0,0),drift:h4(this._onHandleDragMove,this),ondragend:h4(this._onHandleDragEnd,this)}),f.add(a)),pm(a,d,!1);var h=['color','borderColor','borderWidth','opacity','shadowColor','shadowBlur','shadowOffsetX','shadowOffsetY'];a.setStyle(c.getItemStyle(null,h));var b=c.get('size');y(b)||(b=[b,b]),a.attr('scale',[b[0]/2,b[1]/2]),Lr(this,'_doDispatchAxisPointer',c.get('throttle')||0,'fixRate'),this._moveHandleToValue(i,g)}},_moveHandleToValue:function(b,a){hm(this._axisPointerModel,!a&&this._moveAnimation,this._handle,fm(this.getHandleTransform(b,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(d,c){var a=this._handle;if(a){this._dragging=!0;var b=this.updateHandleTransform(fm(a),[d,c],this._axisModel,this._axisPointerModel);this._payloadInfo=b,a.stopAnimation(),a.attr(fm(b)),cL(a).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:'updateAxisPointer',x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(b){if(this._dragging=!1,this._handle){var a=this._axisPointerModel.get('value');this._moveHandleToValue(a),this._api.dispatchAction({type:'hideTip'})}},getHandleTransform:null,updateHandleTransform:null,clear:function(d){this._lastValue=null,this._lastStatus=null;var a=d.getZr(),b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(c,b,a){return a=a||0,{x:c[a],y:c[1-a],width:b[a],height:b[1-a]}}}).constructor=um,Xi(um);var q8=um.extend({makeElOption:function(f,g,c,d,k){var a=c.axis,i=a.grid,e=d.get('type'),j=Mm(i,a).getOtherAxis(a).getGlobalExtent(),l=a.toGlobalCoord(a.dataToCoord(g,!0));if(e&&'none'!==e){var h=gm(d),b=rA[e](a,l,j,h);b.style=h,f.graphicKey=b.type,f.pointer=b}_m(g,f,Ih(i.model,c),c,d,k)},getHandleTransform:function(d,b,c){var a=Ih(b.axis.grid.model,b,{labelInside:!1});return a.labelMargin=c.get('handle.margin'),{position:xm(b.axis,d,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,k,l,m){var c=l.axis,i=c.grid,f=c.getGlobalExtent(!0),g=Mm(i,c).getOtherAxis(c).getGlobalExtent(),a='x'===c.dim?0:1,b=h.position;b[a]+=k[a],b[a]=Math.min(f[1],b[a]),b[a]=Math.max(f[0],b[a]);var e=(g[1]+g[0])/2,d=[e,e];d[a]=b[a];var j=[{verticalAlign:'middle'},{align:'center'}];return {position:b,rotation:h.rotation,cursorPoint:d,tooltipOption:j[a]}}}),rA={line:function(e,a,b,d){var c=wm([a,b[0]],[a,b[1]],Im(e));return Xn({shape:c,style:d}),{type:'Line',shape:c}},shadow:function(c,e,a,f){var b=Math.max(1,c.getBandWidth()),d=a[1]-a[0];return {type:'Rect',shape:bm([e-b/2,a[0]],[b,d],Im(c))}}};aR.registerAxisPointerClass('CartesianAxisPointer',q8),Ls(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var b=a.axisPointer.link;b&&!y(b)&&(a.axisPointer.link=[b])}}),ks(c$.PROCESSOR.STATISTIC,function(a,b){a.getComponent('axisPointer').coordSysAxesInfo=dh(a,b)}),Ps({type:'updateAxisPointer',event:'updateAxisPointer',update:':updateAxisPointer'},function(b,i,h){var q=b.currTrigger,a=[b.x,b.y],g=b,r=b.dispatchAction||m(h.dispatchAction,h),f=i.getComponent('axisPointer').coordSysAxesInfo;if(f){em(a)&&(a=lN({seriesIndex:g.seriesIndex,dataIndex:g.dataIndex},i).point);var k=em(a),n=g.axesInfo,e=f.axesInfo,p='leave'===q||em(a),c={},d={},l={list:[],map:{}},j={showPointer:mE(Yg,d),showTooltip:mE(qg,l)};bD(f.coordSysMap,function(g,d){var e=k||g.containPoint(a);bD(f.coordSysAxesInfo[d],function(m,q){var o=m.axis,l=Qg(n,m);if(!p&&e&&(!n||l)){var f=l&&l.value;null!=f||k||(f=o.pointToData(a)),null!=f&&Xg(m,f,j,!1,c)}})});var o={};return bD(e,function(a,e){var c=a.linkGroup;c&&!d[e]&&bD(c.axesInfo,function(g,k){var j=d[k];if(g!==a&&j){var f=j.value;c.mapper&&(f=a.axis.scale.parse(c.mapper(f,tm(g),tm(a)))),o[a.key]=f}})}),bD(o,function(d,a){Xg(e[a],d,j,!0,c)}),Kg(d,e,c),$g(l,a,b,r),Jg(e,0,h),c}});var lR=['x','y'],sQ=['width','height'],rP=um.extend({makeElOption:function(e,g,c,d,k){var a=c.axis,i=a.coordinateSystem,l=Am(i,1-Tm(a)),j=i.dataToPoint(g)[0],f=d.get('type');if(f&&'none'!==f){var h=gm(d),b=sB[f](a,j,l,h);b.style=h,e.graphicKey=b.type,e.pointer=b}_m(g,e,Ug(c),c,d,k)},getHandleTransform:function(d,b,c){var a=Ug(b,{labelInside:!1});return a.labelMargin=c.get('handle.margin'),{position:xm(b.axis,d,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,j,k,l){var f=k.axis,c=f.coordinateSystem,a=Tm(f),g=Am(c,a),b=h.position;b[a]+=j[a],b[a]=Math.min(g[1],b[a]),b[a]=Math.max(g[0],b[a]);var i=Am(c,1-a),e=(i[1]+i[0])/2,d=[e,e];return d[a]=b[a],{position:b,rotation:h.rotation,cursorPoint:d,tooltipOption:{verticalAlign:'middle'}}}}),sB={line:function(e,a,b,d){var c=wm([a,b[0]],[a,b[1]],Tm(e));return Xn({shape:c,style:d}),{type:'Line',shape:c}},shadow:function(c,e,a,f){var b=c.getBandWidth(),d=a[1]-a[0];return {type:'Rect',shape:bm([e-b/2,a[0]],[b,d],Tm(c))}}};aR.registerAxisPointerClass('SingleAxisPointer',rP),Vs({type:'single'});var tz=aD.extend({type:'series.themeRiver',dependencies:['singleAxis'],nameMap:null,init:function(a){tz.superApply(this,'init',arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(a){for(var d=a.length,b=f(Lp().key(function(b){return b[2]}).entries(a),function(b){return {name:b.key,dataList:b.values}}),l=b.length,j=-1,h=-1,g=0;g<l;++g){var n=b[g].dataList.length;n>j&&(j=n,h=g)}for(var c=0;c<l;++c){if(c!==h){for(var p=b[c].name,i=0;i<j;++i){for(var k=b[h].dataList[i][0],o=b[c].dataList.length,m=-1,e=0;e<o;++e){if(b[c].dataList[e][0]===k){m=e;break}}-1===m&&(a[d]=[],a[d][0]=k,a[d][1]=0,a[d][2]=p,d++)}}}return a},getInitialData:function(k,h){for(var i=h.queryComponents({mainType:'singleAxis',index:this.get('singleAxisIndex'),id:this.get('singleAxisId')})[0].get('type'),j=g(k.data,function(a){return void 0!==a[2]}),a=this.fixData(j||[]),f=[],d=this.nameMap=R(),e=0,b=0;b<a.length;++b){f.push(a[b][2]),d.get(a[b][2])||(d.set(a[b][2],e),e++)}var l=dB(a,{coordDimensions:['single'],dimensionsDefine:[{name:'time',type:Xs(i)},{name:'value',type:'float'},{name:'name',type:'ordinal'}],encodeDefine:{single:0,value:1,itemName:2}}),c=new aH(l,this);return c.initData(a),c},getLayerSeries:function(){for(var a=this.getData(),h=a.count(),g=[],b=0;b<h;++b){g[b]=b}for(var c=f(Lp().key(function(b){return a.get('name',b)}).entries(g),function(a){return {name:a.key,indices:a.values}}),e=a.mapDimension('single'),d=0;d<c.length;++d){c[d].indices.sort(function(b,c){return a.get(e,b)-a.get(e,c)})}return c},getAxisTooltipData:function(b,l,o){y(b)||(b=b?[b]:[]);for(var g,m=this.getData(),c=this.getLayerSeries(),i=[],n=c.length,a=0;a<n;++a){for(var j=Number.MAX_VALUE,f=-1,k=c[a].indices.length,d=0;d<k;++d){var e=m.get(b[0],c[a].indices[d]),h=Math.abs(e-l);h<=j&&(g=e,j=h,f=c[a].indices[d])}i.push(f)}return {dataIndices:i,nestestValue:g}},formatTooltip:function(c){var b=this.getData(),d=b.getName(c),a=b.get(b.mapDimension('value'),c);return (isNaN(a)||null==a)&&(a='-'),Qo(d+' : '+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:'singleAxis',boundaryGap:['10%','10%'],singleAxisIndex:0,animationEasing:'linear',label:{margin:4,show:!0,position:'left',color:'#000',fontSize:11},emphasis:{label:{show:!0}}}});Fs({type:'themeRiver',init:function(){this._layers=[]},render:function(c,j,k){function n(a){return a.name}function o(w,o,D){var y=this._layers;if('remove'!==w){for(var z,u=[],r=[],i=f[o].indices,l=0;l<i.length;l++){var s=b.getItemLayout(i[l]),x=s.x,A=s.y0,E=s.y;u.push([x,A]),r.push([x,A+E]),z=b.getItemVisual(i[l],'color')}var g,n,m=b.getItemLayout(i[0]),q=b.getItemModel(i[l-1]),p=q.getModel('label'),v=p.get('margin');if('add'===w){h=e[o]=new t();g=new mZ({shape:{points:u,stackedOnPoints:r,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),n=new ak({style:{x:m.x-v,y:m.y0+m.y/2}}),h.add(g),h.add(n),d.add(h),g.setClipPath(Dm(g.getBoundingRect(),c,function(){g.removeClipPath()}))}else {var h=y[D];g=h.childAt(0),n=h.childAt(1),d.add(h),e[o]=h,bo(g,{shape:{points:u,stackedOnPoints:r}},c),bo(n,{style:{x:m.x-v,y:m.y0+m.y/2}},c)}var C=q.getModel('emphasis.itemStyle'),B=q.getModel('itemStyle');fo(n.style,p,{text:p.get('show')?c.getFormattedLabel(i[l-1],'normal')||b.getName(i[l-1]):null,textVerticalAlign:'middle'}),g.setStyle(a({fill:z},B.getItemStyle(['color']))),uo(g,C.getItemStyle())}else {d.remove(y[o])}}var b=c.getData(),d=this.group,f=c.getLayerSeries(),g=b.getLayout('layoutInfo'),i=g.rect,h=g.boundaryGap;d.attr('position',[0,i.y+h[0]]);var e={};(new Hs(this._layersSeries||[],f,n,n)).add(m(o,this,'add')).update(m(o,this,'update')).remove(m(o,this,'remove')).execute(),this._layersSeries=f,this._layers=e},dispose:function(){}});Os(function(a,b){a.eachSeriesByType('themeRiver',function(e){var f=e.getData(),h=e.coordinateSystem,g={},d=h.getRect();g.rect=d;var c=e.get('boundaryGap'),i=h.getAxis();g.boundaryGap=c,'horizontal'===i.orient?(c[0]=Ro(c[0],d.height),c[1]=Ro(c[1],d.height),Cm(f,e,d.height-c[0]-c[1])):(c[0]=Ro(c[0],d.width),c[1]=Ro(c[1],d.width),Cm(f,e,d.width-c[0]-c[1])),f.setLayout('layoutInfo',g)})}),Es(function(a){a.eachSeriesByType('themeRiver',function(b){var c=b.getData(),d=b.getRawData(),e=b.get('color'),f=R();c.each(function(d){f.set(c.getRawIndex(d),d)}),d.each(function(g){var j=d.getName(g),i=e[(b.nameMap.get(j)-1)%e.length];d.setItemVisual(g,'color',i);var h=f.get(g);null!=h&&c.setItemVisual(h,'color',i)})})}),ks(dL('themeRiver')),aD.extend({type:'series.sunburst',_viewRoot:null,getInitialData:function(a,e){var b={name:a.name,children:a.data};km(b);var d=a.levels||[],c={};return c.levels=d,kc.createTree(b,this,c).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(c){var a=aD.prototype.getDataParams.apply(this,arguments),b=this.getData().tree.getNodeByDataIndex(c);return a.treePathInfo=nd(b,this),a},defaultOption:{zlevel:0,z:2,center:['50%','50%'],radius:[0,'75%'],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:'descendant',nodeClick:'rootToNode',renderLabelForZeroData:!1,label:{rotate:'radial',show:!0,opacity:1,align:'center',position:'inside',distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:'white',borderType:'solid',shadowBlur:0,shadowColor:'rgba(0, 0, 0, 0.2)',shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:0.9}},animationType:'expansion',animationDuration:1000,animationDurationUpdate:500,animationEasing:'cubicOut',data:[],levels:[],sort:'desc'},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)}});var gb={NONE:'none',DESCENDANT:'descendant',ANCESTOR:'ancestor',SELF:'self'},tD=2,qZ=4,cR=Pm.prototype;cR.updateData=function(o,c,i,d,h){this.node=c,c.piece=this,d=d||this._seriesModel,h=h||this._ecModel;var b=this.childAt(0);b.dataIndex=c.dataIndex;var j=c.getModel(),g=c.getLayout();g||console.log(c.getLayout());var f=a({},g);f.label=null;var e,k=Nm(c,0,h),m=j.getModel('itemStyle').getItemStyle();e=r({lineJoin:'bevel',fill:(e='normal'===i?m:n(j.getModel(i+'.itemStyle').getItemStyle(),m)).fill||k},e),o?(b.setShape(f),b.shape.r=g.r0,bo(b,{shape:{r:g.r}},d,c.dataIndex),b.useStyle(e)):'object'==typeof e.fill&&e.fill.type||'object'==typeof b.style.fill&&b.style.fill.type?(bo(b,{shape:f},d),b.useStyle(e)):bo(b,{shape:f,style:e},d),this._updateLabel(d,k,i);var l=j.getShallow('cursor');if(l&&b.attr('cursor',l),o){var p=d.getShallow('highlightPolicy');this._initEvents(b,c,d,p)}this._seriesModel=d||this._seriesModel,this._ecModel=h||this._ecModel},cR.onEmphasis=function(b){var a=this;this.node.hostTree.root.eachNode(function(c){c.piece&&(a.node===c?c.piece.updateData(!1,c,'emphasis'):Em(c,a.node,b)?c.piece.childAt(0).trigger('highlight'):b!==gb.NONE&&c.piece.childAt(0).trigger('downplay'))})},cR.onNormal=function(){this.node.hostTree.root.eachNode(function(a){a.piece&&a.piece.updateData(!1,a,'normal')})},cR.onHighlight=function(){this.updateData(!1,this.node,'highlight')},cR.onDownplay=function(){this.updateData(!1,this.node,'downplay')},cR._updateLabel=function(v,r,k){function n(b){var a=m.get(b);return null==a?h.get(b):a}var l=this.node.getModel(),h=l.getModel('label'),m='normal'===k||'emphasis'===k?h:l.getModel(k+'.label'),u=l.getModel('emphasis.label'),j=T(v.getFormattedLabel(this.node.dataIndex,'normal',null,null,'label'),this.node.name);!1===n('show')&&(j='');var a=this.node.getLayout(),f=m.get('minAngle');null==f&&(f=h.get('minAngle')),f=f/180*Math.PI;var q=a.endAngle-a.startAngle;null!=f&&Math.abs(q)<f&&(j='');var g=this.childAt(1);co(g.style,g.hoverStyle||{},h,u,{defaultText:m.getShallow('show')?j:null,autoColor:r,useInsideStyle:!0});var e,d=(a.startAngle+a.endAngle)/2,s=Math.cos(d),t=Math.sin(d),w=n('position'),o=n('distance')||0,b=n('align');'outside'===w?(e=a.r+o,b=d>Math.PI/2?'right':'left'):b&&'center'!==b?'left'===b?(e=a.r0+o,d>Math.PI/2&&(b='right')):'right'===b&&(e=a.r-o,d>Math.PI/2&&(b='left')):(e=(a.r+a.r0)/2,b='center'),g.attr('style',{text:j,textAlign:b,textVerticalAlign:n('verticalAlign')||'middle',opacity:n('opacity')});var p=e*s+a.cx,x=e*t+a.cy;g.attr('position',[p,x]);var i=n('rotate'),c=0;'radial'===i?(c=-d)<-Math.PI/2&&(c+=Math.PI):'tangential'===i?(c=Math.PI/2-d)>Math.PI/2?c-=Math.PI:c<-Math.PI/2&&(c+=Math.PI):'number'==typeof i&&(c=i*Math.PI/180),g.attr('rotation',c)},cR._initEvents=function(d,g,e,f){d.off('mouseover').off('mouseout').off('emphasis').off('normal');var a=this,b=function(){a.onEmphasis(f)},c=function(){a.onNormal()};e.isAnimationEnabled()&&d.on('mouseover',b).on('mouseout',c).on('emphasis',b).on('normal',c).on('downplay',function(){a.onDownplay()}).on('highlight',function(){a.onHighlight()})},u(Pm,t);Mr.extend({type:'sunburst',init:function(){},render:function(c,e,n,d){function o(b,g){if(l||!b||b.getValue()||(b=null),b!==f&&g!==f){if(g&&g.piece){b?(g.piece.updateData(!1,b,'normal',c,e),j.setItemGraphicEl(b.dataIndex,g.piece)):a(g)}else {if(b){var i=new Pm(b,c,e);h.add(i),j.setItemGraphicEl(b.dataIndex,i)}}}}function a(a){a&&a.piece&&(h.remove(a.piece),a.piece=null)}var b=this;this.seriesModel=c,this.api=n,this.ecModel=e;var j=c.getData(),f=j.tree.root,k=c.getViewRoot(),h=this.group,l=c.get('renderLabelForZeroData'),i=[];k.eachNode(function(a){i.push(a)});var m=this._oldChildren||[];if(function(b,a){function i(f){return f.getId()}function n(f,g){o(null==f?null:b[f],null==g?null:a[g])}0===b.length&&0===a.length||(new Hs(a,b,i,i)).add(n).update(n).remove(v(n,null)).execute()}(i,m),function(f,a){if(a.depth>0){b.virtualPiece?b.virtualPiece.updateData(!1,f,'normal',c,e):(b.virtualPiece=new Pm(f,c,e),h.add(b.virtualPiece)),a.piece._onclickEvent&&a.piece.off('click',a.piece._onclickEvent);var g=function(g){b._rootToNode(a.parentNode)};a.piece._onclickEvent=g,b.virtualPiece.on('click',g)}else {b.virtualPiece&&(h.remove(b.virtualPiece),b.virtualPiece=null)}}(f,k),d&&d.highlight&&d.highlight.piece){var p=c.getShallow('highlightPolicy');d.highlight.piece.onEmphasis(p)}else {if(d&&d.unhighlight){var g=this.virtualPiece;!g&&f.children.length&&(g=f.children[0].piece),g&&g.onNormal()}}this._initEvents(),this._oldChildren=i},dispose:function(){},_initEvents:function(){var b=this,a=function(c){var a=!1;b.seriesModel.getViewRoot().eachNode(function(d){if(!a&&d.piece&&d.piece.childAt(0)===c.target){var f=d.getModel().get('nodeClick');if('rootToNode'===f){b._rootToNode(d)}else {if('link'===f){var e=d.getModel(),g=e.get('link');if(g){var h=e.get('target',!0)||'_blank';window.open(g,h)}}}a=!0}})};this.group._onclickEvent&&this.group.off('click',this.group._onclickEvent),this.group.on('click',a),this.group._onclickEvent=a},_rootToNode:function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:'sunburstRootToNode',from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},containPoint:function(e,f){var a=f.getData().getItemLayout(0);if(a){var c=e[0]-a.cx,d=e[1]-a.cy,b=Math.sqrt(c*c+d*d);return b<=a.r&&b>=a.r0}}});var lD='sunburstRootToNode';Ps({type:lD,update:'updateView'},function(a,b){b.eachComponent({mainType:'series',subType:'sunburst',query:a},function(c,f){var d=td(a,[lD],c);if(d){var e=c.getViewRoot();e&&(a.direction=id(e,d.node)?'rollUp':'drillDown'),c.resetViewRoot(d.node)}})});var kL='sunburstHighlight';Ps({type:kL,update:'updateView'},function(a,b){b.eachComponent({mainType:'series',subType:'sunburst',query:a},function(d,e){var c=td(a,[kL],d);c&&(a.highlight=c.node)})});Ps({type:'sunburstUnhighlight',update:'updateView'},function(a,b){b.eachComponent({mainType:'series',subType:'sunburst',query:a},function(c,d){a.unhighlight=!0})});var kk=Math.PI/180;Es(v(fL,'sunburst')),Os(v(function(c,b,a,e){b.eachSeriesByType(c,function(f){var h=f.get('center'),i=f.get('radius');y(i)||(i=[0,i]),y(h)||(h=[h,h]);var v=a.getWidth(),r=a.getHeight(),k=Math.min(v,r),x=Ro(h[0],v),u=Ro(h[1],r),j=Ro(i[0],k/2),H=Ro(i[1],k/2),o=-f.get('startAngle')*kk,s=f.get('minAngle')*kk,w=f.getData().tree.root,g=f.getViewRoot(),I=g.depth,z=f.get('sort');null!=z&&Rm(g,z);var B=0;d(g.children,function(d){!isNaN(d.getValue())&&B++});var q=g.getValue(),A=Math.PI/(q||B)*2,n=g.depth>0,F=g.height-(n?-1:1),m=(H-j)/(F||1),l=f.get('clockwise'),G=f.get('stillShowZeroSum'),C=l?1:-1,p=function(g,h){if(g){var r=h;if(g!==w){var B=g.getValue(),o=0===q&&G?A:B*A;o<s&&(o=s),r=h+C*o;var t=g.depth-I-(n?-1:1),y=j+m*t,v=j+m*(t+1),i=g.getModel();null!=i.get('r0')&&(y=Ro(i.get('r0'),k/2)),null!=i.get('r')&&(v=Ro(i.get('r'),k/2)),g.setLayout({angle:o,startAngle:h,endAngle:r,clockwise:l,cx:x,cy:u,r0:y,r:v})}if(g.children&&g.children.length){var z=0;d(g.children,function(d){z+=p(d,h+z)})}return r-h}};if(n){var D=j,E=j+m,t=2*Math.PI;w.setLayout({angle:t,startAngle:o,endAngle:o+t,clockwise:l,cx:x,cy:u,r0:D,r:E})}p(g,o)})},'sunburst')),ks(v(dL,'sunburst'));var oF=['itemStyle'],p8=['emphasis','itemStyle'],nI=['label'],n$=['emphasis','label'],nV='e\x00\x00',oX={cartesian2d:function(b){var a=b.grid.getRect();return {coordSys:{type:'cartesian2d',x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(a){return b.dataToPoint(a)},size:m(Bm,b)}}},geo:function(b){var a=b.getBoundingRect();return {coordSys:{type:'geo',x:a.x,y:a.y,width:a.width,height:a.height,zoom:b.getZoom()},api:{coord:function(a){return b.dataToPoint(a)},size:m(Vm,b)}}},singleAxis:function(b){var a=b.getRect();return {coordSys:{type:'singleAxis',x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(a){return b.dataToPoint(a)},size:m(Gm,b)}}},polar:function(a){var c=a.getRadiusAxis(),d=a.getAngleAxis(),b=c.getExtent();return b[0]>b[1]&&b.reverse(),{coordSys:{type:'polar',cx:a.cx,cy:a.cy,r:b[1],r0:b[0]},api:{coord:m(function(e){var f=c.dataToRadius(e[0]),b=d.dataToAngle(e[1]),g=a.coordToPoint([f,b]);return g.push(f,b*Math.PI/180),g}),size:m(Fm,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return {coordSys:{type:'calendar',x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(b,c){return a.dataToPoint(b,c)}}}}};aD.extend({type:'series.custom',dependencies:['grid','polar','geo','singleAxis','calendar'],defaultOption:{coordinateSystem:'cartesian2d',zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(b,a){return dl(this.getSource(),this)},getDataParams:function(d,c,a){var b=aD.prototype.getDataParams.apply(this,arguments);return a&&(b.info=a.info),b}}),Mr.extend({type:'custom',_data:null,render:function(b,g,h,e){var c=this._data,a=b.getData(),d=this.group,f=Um(b,a,g,h);a.diff(c).add(function(c){jm(null,c,f(c,e),b,d,a)}).update(function(i,j){jm(c.getItemGraphicEl(j),i,f(i,e),b,d,a)}).remove(function(f){var a=c.getItemGraphicEl(f);a&&d.remove(a)}).execute(),this._data=a},incrementalPrepareRender:function(c,a,b){this.group.removeAll(),this._data=null},incrementalRender:function(d,b,e,f,g){for(var c=b.getData(),h=Um(b,c,e,f),a=d.start;a<d.end;a++){jm(null,a,h(a,g),b,this.group,c).traverse(function(a){a.isGroup||(a.incremental=!0,a.useHoverLayer=!0)})}},dispose:B,filterForExposedEvent:function(e,c,a,d){var b=c.element;if(null==b||a.name===b){return !0}for(;(a=a.parent)&&a!==this.group;){if(a.name===b){return !0}}return !1}}),Ls(function(b){var a=b.graphic;y(a)?a[0]&&a[0].elements?b.graphic=[b.graphic[0]]:b.graphic=[{elements:a}]:a&&!a.elements&&(b.graphic=[{elements:[a]}])});var r8=Bs({type:'graphic',defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(b){var a=this.option.elements;this.option.elements=null,r8.superApply(this,'mergeOption',arguments),this.option.elements=a},optionUpdated:function(j,f){var c=this.option,h=(f?c:j).elements,a=c.elements=f?[]:c.elements,e=[];this._flatten(h,e);var g=Pi(a,e);Ni(g);var i=this._elOptionsToUpdate=[];d(g,function(d,c){var b=d.option;b&&(i.push(b),sv(d,b),lv(a,c,b),uv(a[c],b))},this);for(var b=a.length-1;b>=0;b--){null==a[b]?a.splice(b,1):delete a[b].$action}},_flatten:function(c,a,b){d(c,function(d){if(d){b&&(d.parentOption=b),a.push(d);var e=d.children;'group'===d.type&&e&&this._flatten(e,a,d),delete d.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});Vs({type:'graphic',init:function(b,a){this._elMap=R(),this._lastGraphicModel},render:function(a,c,b){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,b)},_updateElements:function(c){var b=c.useElOptionsToUpdate();if(b){var a=this._elMap,e=this.group;d(b,function(d){var h=d.$action,f=d.id,i=a.get(f),l=d.parentId,k=null!=l?a.get(l):e,b=d.style;'text'===d.type&&b&&(d.hv&&d.hv[1]&&(b.textVerticalAlign=b.textBaseline=null),!b.hasOwnProperty('textFill')&&b.fill&&(b.textFill=b.fill),!b.hasOwnProperty('textStroke')&&b.stroke&&(b.textStroke=b.stroke));var j=av(d);h&&'merge'!==h?'replace'===h?(ov(i,a),nv(f,k,j,a)):'remove'===h&&ov(i,a):i?i.attr(j):nv(f,k,j,a);var g=a.get(f);g&&(g.__ecGraphicWidth=d.width,g.__ecGraphicHeight=d.height,hv(g,c))})}},_relocate:function(i,e){for(var f=i.option.elements,g=this.group,h=this._elMap,b=f.length-1;b>=0;b--){var a=f[b],d=h.get(a.id);if(d){var c=d.parent;ua(d,a,c===g?{width:e.getWidth(),height:e.getHeight()}:{width:c.__ecGraphicWidth||0,height:c.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){ov(b,a)}),this._elMap=R()},dispose:function(){this._clear()}});var kF=Bs({type:'legend.plain',dependencies:['series'],layoutMode:{type:'box',ignoreSize:!0},init:function(a,c,b){this.mergeDefaultAndTheme(a,b),a.selected=a.selected||{}},mergeOption:function(a){kF.superCall(this,'mergeOption',a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&'single'===this.get('selectedMode')){for(var c=!1,b=0;b<a.length;b++){var d=a[b].get('name');if(this.isSelected(d)){this.select(d),c=!0;break}}!c&&this.select(a[0].get('name'))}},_updateData:function(c){var a=[],b=[];c.eachRawSeries(function(d){var h=d.name;b.push(h);var e;if(d.legendDataProvider){var g=d.legendDataProvider(),f=g.mapArray(g.getName);c.isSeriesFiltered(d)||(b=b.concat(f)),f.length?a=a.concat(f):e=!0}else {e=!0}e&&Oi(d)&&a.push(d.name)}),this._availableNames=b;var d=f(this.get('data')||a,function(a){return 'string'!=typeof a&&'number'!=typeof a||(a={name:a}),new Lo(a,this,this.ecModel)},this);this._data=d},getData:function(){return this._data},select:function(b){var a=this.option.selected;'single'===this.get('selectedMode')&&d(this._data,function(c){a[c.get('name')]=!1}),a[b]=!0},unSelect:function(a){'single'!==this.get('selectedMode')&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?'unSelect':'select'](a)},isSelected:function(a){var b=this.option.selected;return !(b.hasOwnProperty(a)&&!b[a])&&l(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:'horizontal',left:'center',top:0,align:'auto',backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:'#ccc',textStyle:{color:'#333'},selectedMode:!0,tooltip:{show:!1}}});Ps('legendToggleSelect','legendselectchanged',v(cv,'toggleSelected')),Ps('legendSelect','legendselected',v(cv,'select')),Ps('legendUnSelect','legendunselected',v(cv,'unSelect'));var c0=v,pw=d,gK=t,pU=Vs({type:'legend.plain',newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new gK()),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(a,i,d){if(this.resetInner(),a.get('show',!0)){var b=a.get('align');b&&'auto'!==b||(b='right'===a.get('left')&&'vertical'===a.get('orient')?'right':'left'),this.renderInner(b,a,i,d);var g=a.getBoxLayoutParams(),e={width:d.getWidth(),height:d.getHeight()},h=a.get('padding'),j=la(g,e,h),c=this.layoutInner(a,b,j),f=la(r({width:c.width,height:c.height},g),e,h);this.group.attr('position',[f.x-c.x,f.y-c.y]),this.group.add(this._backgroundEl=fv(c,a))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(g,d,e,a){var h=this.getContentGroup(),c=R(),f=d.get('selectedMode'),b=[];e.eachRawSeries(function(c){!c.get('legendHoverLink')&&b.push(c.id)}),pw(d.getData(),function(m,n){var i=m.get('name');if(this.newlineDisabled||''!==i&&'\n'!==i){var j=e.getSeriesByName(i)[0];if(!c.get(i)){if(j){var l=j.getData(),k=l.getVisual('color');'function'==typeof k&&(k=k(j.getDataParams(0)));var p=l.getVisual('legendSymbol')||'roundRect',o=l.getVisual('symbol');this._createItem(i,n,m,d,p,o,g,k,f).on('click',c0(pv,i,a)).on('mouseover',c0(gv,j.name,null,a,b)).on('mouseout',c0(mv,j.name,null,a,b)),c.set(i,!0)}else {e.eachRawSeries(function(j){if(!c.get(i)&&j.legendDataProvider){var k=j.legendDataProvider(),h=k.indexOfName(i);if(h<0){return}var l=k.getItemVisual(h,'color');this._createItem(i,n,m,d,'roundRect',null,g,l,f).on('click',c0(pv,i,a)).on('mouseover',c0(gv,null,i,a,b)).on('mouseout',c0(mv,null,i,a,b)),c.set(i,!0)}},this)}}}else {h.add(new gK({newline:!0}))}},this)},_createItem:function(c,w,n,d,j,e,t,r,x){var m=d.get('itemWidth'),h=d.get('itemHeight'),l=d.get('inactiveColor'),i=d.get('symbolKeepAspect'),o=d.isSelected(c),b=new gK(),s=n.getModel('textStyle'),u=n.get('icon'),p=n.getModel('tooltip'),z=p.parentModel;if(j=u||j,b.add(Xl(j,0,0,m,h,o?r:l,null==i||i)),!u&&e&&(e!==j||'none'===e)){var g=0.8*h;'none'===e&&(e='circle'),b.add(Xl(e,(m-g)/2,(h-g)/2,g,g,o?r:l,null==i||i))}var y='left'===t?m+5:-5,v=t,f=d.get('formatter'),k=c;'string'==typeof f&&f?k=f.replace('{name}',null!=c?c:''):'function'==typeof f&&(k=f(c)),b.add(new ak({style:fo({},s,{text:k,x:y,y:h/2,textFill:o?s.getTextColor():l,textAlign:v,textVerticalAlign:'middle'})}));var q=new aA({shape:b.getBoundingRect(),invisible:!0,tooltip:p.get('show')?a({content:c,formatter:z.get('formatter',!0)||function(){return c},formatterParams:{componentType:'legend',legendIndex:d.componentIndex,name:c,$vars:['name']}},p.option):null});return b.add(q),b.eachChild(function(a){a.silent=!0}),q.silent=!x,this.getContentGroup().add(b),uo(b),b.__legendDataIndex=w,b},layoutInner:function(d,e,b){var a=this.getContentGroup();dX(d.get('orient'),a,d.get('itemGap'),b.width,b.height);var c=a.getBoundingRect();return a.attr('position',[-c.x,-c.y]),this.group.getBoundingRect()}});ks(function(b){var a=b.findComponents({mainType:'legend'});a&&a.length&&b.filterSeries(function(d){for(var c=0;c<a.length;c++){if(!a[c].isSelected(d.name)){return !1}}return !0})}),aw.registerSubTypeDefaulter('legend',function(){return 'plain'});var nq=kF.extend({type:'legend.scroll',setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:'end',pageFormatter:'{current}/{total}',pageIcons:{horizontal:['M0,0L12,-10L12,10z','M0,0L-12,-10L-12,10z'],vertical:['M0,0L20,0L10,-20z','M0,0L20,0L10,20z']},pageIconColor:'#2f4554',pageIconInactiveColor:'#aaa',pageIconSize:15,pageTextStyle:{color:'#333'},animationDurationUpdate:800},init:function(a,b,c,d){var e=da(a);nq.superCall(this,'init',a,b,c,d),vv(this,a,e)},mergeOption:function(a,b){nq.superCall(this,'mergeOption',a,b),vv(this,this.option,a)},getOrient:function(){return 'vertical'===this.get('orient')?{index:1,name:'vertical'}:{index:0,name:'horizontal'}}}),jC=t,e2=['width','height'],jU=['x','y'],gM=pU.extend({type:'legend.scroll',newlineDisabled:!0,init:function(){gM.superCall(this,'init'),this._currentIndex=0,this.group.add(this._containerGroup=new jC()),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new jC()),this._showController},resetInner:function(){gM.superCall(this,'resetInner'),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(h,b,g,e){function o(i,j){var k=i+'DataIndex',d=Co(b.get('pageIcons',!0)[b.getOrient().name][j],{onclick:m(c._pageGo,c,k,b,e)},{x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]});d.name=i,f.add(d)}var c=this;gM.superCall(this,'renderInner',h,b,g,e);var f=this._controllerGroup,a=b.get('pageIconSize',!0);y(a)||(a=[a,a]),o('pagePrev',0);var d=b.getModel('pageTextStyle');f.add(new ak({name:'pageText',style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:'middle',textAlign:'center'},silent:!0})),o('pageNext',1)},layoutInner:function(c,t,e){var h=this.getContentGroup(),m=this._containerGroup,j=this._controllerGroup,b=c.getOrient().index,a=e2[b],f=e2[1-b],s=jU[1-b];dX(c.get('orient'),h,c.get('itemGap'),b?e.width:null,b?null:e.height),dX('horizontal',j,c.get('pageButtonItemGap',!0));var g=h.getBoundingRect(),d=j.getBoundingRect(),k=this._showController=g[a]>e[a],p=[-g.x,-g.y];p[b]=h.position[b];var r=[0,0],l=[-d.x,-d.y],q=A(c.get('pageButtonGap',!0),c.get('itemGap',!0));k&&('end'===c.get('pageButtonPosition',!0)?l[b]+=e[a]-d[a]:r[b]+=d[a]+q),l[1-b]+=g[f]/2-d[f]/2,h.attr('position',p),m.attr('position',r),j.attr('position',l);var i=this.group.getBoundingRect();if((i={x:0,y:0})[a]=k?e[a]:g[a],i[f]=Math.max(g[f],d[f]),i[s]=Math.min(0,d[s]+l[1-b]),m.__rectSize=e[a],k){var n={x:0,y:0};n[a]=Math.max(e[a]-d[a]-q,0),n[f]=i[f],m.setClipPath(new aA({shape:n})),m.__rectSize=n[a]}else {j.eachChild(function(a){a.attr({invisible:!0,silent:!0})})}var o=this._getPageInfo(c);return null!=o.pageIndex&&bo(h,{position:o.contentPosition},!!k&&c),this._updatePageInfoView(c,o),i},_pageGo:function(d,a,c){var b=this._getPageInfo(a)[d];null!=b&&c.dispatchAction({type:'legendScroll',scrollDataIndex:b,legendId:a.id})},_updatePageInfoView:function(c,b){var f=this._controllerGroup;d(['pagePrev','pageNext'],function(d){var e=null!=b[d+'DataIndex'],a=f.childOfName(d);a&&(a.setStyle('fill',e?c.get('pageIconColor',!0):c.get('pageIconInactiveColor',!0)),a.cursor=e?'pointer':'default')});var g=f.childOfName('pageText'),a=c.get('pageFormatter'),e=b.pageIndex,h=null!=e?e+1:0,i=b.pageCount;g&&a&&g.setStyle('text',_(a)?a.replace('{current}',h).replace('{total}',i):a({current:h,total:i}))},_getPageInfo:function(t){function e(c){var b=c.getBoundingRect().clone();return b[a]+=c.position[f],b}var l,n,o,i,v=t.get('scrollDataIndex',!0),h=this.getContentGroup(),g=h.getBoundingRect(),m=this._containerGroup.__rectSize,f=t.getOrient().index,d=e2[f],r=e2[1-f],a=jU[f],p=h.position.slice();this._showController?h.eachChild(function(a){a.__legendDataIndex===v&&(i=a)}):i=h.childAt(0);var k=m?Math.ceil(g[d]/m):0;if(i){var s=i.getBoundingRect(),u=i.position[f]+s[a];p[f]=-u-g[a],l=Math.floor(k*(u+s[a]+m/2)/g[d]),l=g[d]&&k?Math.max(0,Math.min(k-1,l)):-1;var b={x:0,y:0};b[d]=m,b[r]=g[r],b[a]=-p[f]-g[a];var c,j=h.children();if(h.eachChild(function(h,g){var f=e(h);f.intersect(b)&&(null==c&&(c=g),o=h.__legendDataIndex),g===j.length-1&&f[a]+f[d]<=b[a]+b[d]&&(o=null)}),null!=c){var q=e(j[c]);if(b[a]=q[a]+q[d]-b[d],c<=0&&q[a]>=b[a]){n=null}else {for(;c>0&&e(j[c-1]).intersect(b);){c--}n=j[c].__legendDataIndex}}}return {contentPosition:p,pageIndex:l,pageCount:k,pagePrevDataIndex:n,pageNextDataIndex:o}}});Ps('legendScroll','legendscroll',function(b,c){var a=b.scrollDataIndex;null!=a&&c.eachComponent({mainType:'legend',subType:'scroll',query:b},function(d){d.setScrollDataIndex(a)})}),Bs({type:'tooltip',dependencies:['axisPointer'],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:'item',triggerOn:'mousemove|click',alwaysShowContent:!1,displayMode:'single',renderMode:'auto',confine:!1,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:'rgba(50,50,50,0.7)',borderColor:'#333',borderRadius:4,borderWidth:0,padding:5,extraCssText:'',axisPointer:{type:'line',axis:'auto',animation:'auto',animationDurationUpdate:200,animationEasingUpdate:'exponentialOut',crossStyle:{color:'#999',width:1,type:'dashed',textStyle:{}}},textStyle:{color:'#fff',fontSize:14}}});var k2=d,oz=Jo,qV=['','-webkit-','-moz-','-o-'];wv.prototype={constructor:wv,_enterable:!0,update:function(){var a=this._container,c=a.currentStyle||document.defaultView.getComputedStyle(a),b=a.style;'absolute'!==b.position&&'absolute'!==c.position&&(b.position='relative')},show:function(b){clearTimeout(this._hideTimeout);var a=this.el;a.style.cssText='position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;'+_v(b)+';left:'+this._x+'px;top:'+this._y+'px;'+(b.get('extraCssText')||''),a.style.display=a.innerHTML?'block':'none',a.style.pointerEvents=this._enterable?'auto':'none',this._show=!0},setContent:function(a){this.el.innerHTML=null==a?'':a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return [a.clientWidth,a.clientHeight]},moveTo:function(d,a){var b,c=this._zr;c&&c.painter&&(b=c.painter.getViewportRootOffset())&&(d+=b.offsetLeft,a+=b.offsetTop);var e=this.el.style;e.left=d+'px',e.top=a+'px',this._x=d,this._y=a},hide:function(){this.el.style.display='none',this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),a)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var c=this.el.clientWidth,b=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(this.el);a&&(c+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),b+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10))}return {width:c,height:b}}},bv.prototype={constructor:bv,_enterable:!0,update:function(){},show:function(a){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr('show',!0),this._show=!0},setContent:function(i,g,b){this.el&&this._zr.remove(this.el);for(var f={},c=i,e=c.indexOf('{marker');e>=0;){var h=c.indexOf('|}'),d=c.substr(e+'{marker'.length,h-e-'{marker'.length);d.indexOf('sub')>-1?f['marker'+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:g[d],textOffset:[3,0]}:f['marker'+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:g[d]},e=(c=c.substr(h+1)).indexOf('{marker')}this.el=new ak({style:{rich:f,text:i,textLineHeight:20,textBackgroundColor:b.get('backgroundColor'),textBorderRadius:b.get('borderRadius'),textFill:b.get('textStyle.color'),textPadding:b.get('padding')},z:b.get('z')}),this._zr.add(this.el);var a=this;this.el.on('mouseover',function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0}),this.el.on('mouseout',function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1})},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el.getBoundingRect();return [a.width,a.height]},moveTo:function(b,a){this.el&&this.el.attr('position',[b,a])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),a)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var kU=m,dZ=d,l6=Ro,qQ=new aA({shape:{x:-1,y:-1,width:2,height:2}});Vs({type:'tooltip',init:function(d,a){if(!aq.node){var c=d.getComponent('tooltip').get('renderMode');this._renderMode=Hi(c);var b;'html'===this._renderMode?(b=new wv(a.getDom(),a),this._newLine='<br/>'):(b=new bv(a),this._newLine='\n'),this._tooltipContent=b}},render:function(a,c,d){if(!aq.node){this.group.removeAll(),this._tooltipModel=a,this._ecModel=c,this._api=d,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get('alwaysShowContent');var b=this._tooltipContent;b.update(),b.setEnterable(a.get('enterable')),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel.get('triggerOn');im('itemTooltip',this._api,kU(function(b,d,c){'none'!==a&&(a.indexOf(b)>=0?this._tryShow(d,c):'leave'===b&&this._hide(c))},this))},_keepShow:function(){var b=this._tooltipModel,c=this._ecModel,d=this._api;if(null!=this._lastX&&null!=this._lastY&&'none'!==b.get('triggerOn')){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a.manuallyShowTip(b,c,d,{x:a._lastX,y:a._lastY})})}},manuallyShowTip:function(j,f,b,a){if(a.from!==this.uid&&!aq.node){var c=Mv(a,b);this._ticket='';var i=a.dataByCoordSys;if(a.tooltip&&null!=a.x&&null!=a.y){var d=qQ;d.position=[a.x,a.y],d.update(),d.tooltip=a.tooltip,this._tryShow({offsetX:a.x,offsetY:a.y,target:d},c)}else {if(i){this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,event:{},dataByCoordSys:a.dataByCoordSys,tooltipOption:a.tooltipOption},c)}else {if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(j,f,b,a)){return}var e=lN(a,f),g=e.point[0],h=e.point[1];null!=g&&null!=h&&this._tryShow({offsetX:g,offsetY:h,position:a.position,target:e.el,event:{}},c)}else {null!=a.x&&null!=a.y&&(b.dispatchAction({type:'updateAxisPointer',x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:b.getZr().findHover(a.x,a.y).target,event:{}},c))}}}}},manuallyHideTip:function(e,d,b,a){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get('hideDelay')),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(Mv(a,b))},_manuallyAxisShowTip:function(f,e,g,c){var d=c.seriesIndex,b=c.dataIndex,h=e.getComponent('axisPointer').coordSysAxesInfo;if(null!=d&&null!=b&&null!=h){var a=e.getSeriesByIndex(d);if(a&&'axis'===(f=Sv([a.getData().getItemModel(b),a,(a.coordinateSystem||{}).model,f])).get('trigger')){return g.dispatchAction({type:'updateAxisPointer',seriesIndex:d,dataIndex:b,position:c.position}),!0}}},_tryShow:function(a,c){var b=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):b&&null!=b.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,b,c)):b&&b.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,b,c)):(this._lastDataByCoordSys=null,this._hide(c))}},_showOrMove:function(c,a){var b=c.get('showDelay');a=m(a,this),clearTimeout(this._showTimout),b>0?this._showTimout=setTimeout(a,b):a()},_showAxisTooltip:function(k,c){var f=this._ecModel,m=this._tooltipModel,b=[c.offsetX,c.offsetY],a=[],h=[],g=Sv([c.tooltipOption,m]),l=this._renderMode,e=this._newLine,i={};dZ(k,function(b){dZ(b.dataByAxis,function(g){var m=f.getComponent(g.axisDim+'Axis',g.axisIndex),o=g.value,j=[];if(m&&null!=o){var q=ym(o,m.axis,f,g.seriesDataIndices,g.valueLabelOpt);d(g.seriesDataIndices,function(s){var e=f.getSeriesByIndex(s.seriesIndex),r=s.dataIndexInside,a=e&&e.getDataParams(r);if(a.axisDim=g.axisDim,a.axisIndex=g.axisIndex,a.axisType=g.axisType,a.axisId=g.axisId,a.axisValue=Wl(m.axis,o),a.axisValueLabel=q,a){h.push(a);var p,d=e.formatTooltip(r,!0,null,l);if(w(d)){p=d.html;var t=d.markers;n(i,t)}else {p=d}j.push(p)}});var p=q;'html'!==l?a.push(j.join(e)):a.push((p?Qo(p)+e:'')+j.join(e))}})},this),a.reverse(),a=a.join(this._newLine+this._newLine);var j=c.position;this._showOrMove(g,function(){this._updateContentNotChangedOnAxis(k)?this._updatePosition(g,j,b[0],b[1],this._tooltipContent,h):this._showTooltipContent(g,a,h,Math.random(),b[0],b[1],j,void 0,i)})},_showSeriesItemTooltip:function(e,c,n){var p=this._ecModel,l=c.seriesIndex,f=p.getSeriesByIndex(l),b=c.dataModel||f,a=c.dataIndex,k=c.dataType,m=b.getData(),i=Sv([m.getItemModel(a),b,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),j=i.get('trigger');if(null==j||'item'===j){var g,h,q=b.getDataParams(a,k),d=b.formatTooltip(a,!1,k,this._renderMode);w(d)?(g=d.html,h=d.markers):(g=d,h=null);var o='item_'+b.name+'_'+a;this._showOrMove(i,function(){this._showTooltipContent(i,g,q,o,e.offsetX,e.offsetY,e.position,e.target,h)}),n({type:'showTip',dataIndexInside:a,dataIndex:m.getRawIndex(a),seriesIndex:l,from:this.uid})}},_showComponentItemTooltip:function(c,d,f){var b=d.tooltip;if('string'==typeof b){var e=b;b={content:e,formatter:e}}var a=new Lo(b,this._tooltipModel,this._ecModel),g=a.get('content'),h=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,g,a.get('formatterParams')||{},h,c.offsetX,c.offsetY,c.position,d)}),f({type:'showTip',from:this.uid})},_showTooltipContent:function(a,m,d,i,j,g,e,k,h){if(this._ticket='',a.get('showContent')&&a.get('show')){var c=this._tooltipContent,b=a.get('formatter');e=e||a.get('position');var f=m;if(b&&'string'==typeof b){f=ta(b,d,!0)}else {if('function'==typeof b){var l=kU(function(b,f){b===this._ticket&&(c.setContent(f,h,a),this._updatePosition(a,e,j,g,c,d,k))},this);this._ticket=i,f=b(d,i,l)}}c.setContent(f,h,a),c.show(a),this._updatePosition(a,e,j,g,c,d,k)}},_updatePosition:function(l,a,b,c,i,o,j){var k=this._api.getWidth(),h=this._api.getHeight();a=a||l.get('position');var d=i.getSize(),g=l.get('align'),f=l.get('verticalAlign'),m=j&&j.getBoundingRect().clone();if(j&&m.applyTransform(j.transform),'function'==typeof a&&(a=a([b,c],o,i.el,m,{viewSize:[k,h],contentSize:d.slice()})),y(a)){b=l6(a[0],k),c=l6(a[1],h)}else {if(w(a)){a.width=d[0],a.height=d[1];var n=la(a,{width:k,height:h});b=n.x,c=n.y,g=null,f=null}else {'string'==typeof a&&j?(b=(e=Av(a,m,d))[0],c=e[1]):(b=(e=Iv(b,c,i,k,h,g?null:20,f?null:20))[0],c=e[1])}}if(g&&(b-=Dv(g)?d[0]/2:'right'===g?d[0]:0),f&&(c-=Dv(f)?d[1]/2:'bottom'===f?d[1]:0),l.get('confine')){var e=Tv(b,c,i,k,h);b=e[0],c=e[1]}i.moveTo(b,c)},_updateContentNotChangedOnAxis:function(c){var b=this._lastDataByCoordSys,a=!!b&&b.length===c.length;return a&&dZ(b,function(e,f){var d=e.dataByAxis||{},b=(c[f]||{}).dataByAxis||[];(a&=d.length===b.length)&&dZ(d,function(g,j){var d=b[j]||{},h=g.seriesDataIndices||[],i=d.seriesDataIndices||[];(a&=g.value===d.value&&g.axisType===d.axisType&&g.axisId===d.axisId&&h.length===i.length)&&dZ(h,function(d,h){var b=i[h];a&=d.seriesIndex===b.seriesIndex&&d.dataIndex===b.dataIndex})})}),this._lastDataByCoordSys=c,!!a},_hide:function(a){this._lastDataByCoordSys=null,a({type:'hideTip',from:this.uid})},dispose:function(b,a){aq.node||(this._tooltipContent.hide(),lm('itemTooltip',a))}}),Ps({type:'showTip',event:'showTip',update:'tooltip:manuallyShowTip'},function(){}),Ps({type:'hideTip',event:'hideTip',update:'tooltip:manuallyHideTip'},function(){}),Pv.prototype={constructor:Pv,pointToData:function(b,a){return this.polar.pointToData(b,a)['radius'===this.dim?0:1]},dataToRadius:aF.prototype.dataToCoord,radiusToData:aF.prototype.coordToData},u(Pv,aF);var sT=Bi();Nv.prototype={constructor:Nv,pointToData:function(b,a){return this.polar.pointToData(b,a)['radius'===this.dim?0:1]},dataToAngle:aF.prototype.dataToCoord,angleToData:aF.prototype.coordToData,calculateCategoryInterval:function(){var b=this,k=b.getLabelModel(),i=b.scale,f=i.getExtent(),j=i.count();if(f[1]-f[0]<1){return 0}var e=f[0],m=b.dataToCoord(e+1)-b.dataToCoord(e),n=Math.abs(m),l=De(e,k.getFont(),'center','top'),g=Math.max(l.height,7)/n;isNaN(g)&&(g=1/0);var a=Math.max(0,Math.floor(g)),c=sT(b.model),d=c.lastAutoInterval,h=c.lastTickCount;return null!=d&&null!=h&&Math.abs(d-a)<=1&&Math.abs(h-j)<=1&&d>a?a=d:(c.lastTickCount=j,c.lastAutoInterval=a),a}},u(Nv,aF);var eT=function(a){this.name=a||'',this.cx=0,this.cy=0,this._radiusAxis=new Pv(),this._angleAxis=new Nv(),this._radiusAxis.polar=this._angleAxis.polar=this};eT.prototype={type:'polar',axisPointerEnabled:!0,constructor:eT,dimensions:['radius','angle'],model:null,containPoint:function(b){var a=this.pointToCoord(b);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this['_'+a+'Axis']},getAxes:function(){return [this._radiusAxis,this._angleAxis]},getAxesByScale:function(d){var a=[],b=this._angleAxis,c=this._radiusAxis;return b.scale.type===d&&a.push(b),c.scale.type===d&&a.push(c),a},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(b){var a=this._angleAxis;return b===a?this._radiusAxis:a},getBaseAxis:function(){return this.getAxesByScale('ordinal')[0]||this.getAxesByScale('time')[0]||this.getAngleAxis()},getTooltipAxes:function(a){var b=null!=a&&'auto'!==a?this.getAxis(a):this.getBaseAxis();return {baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},dataToPoint:function(b,a){return this.coordToPoint([this._radiusAxis.dataToRadius(b[0],a),this._angleAxis.dataToAngle(b[1],a)])},pointToData:function(c,a){var b=this.pointToCoord(c);return [this._radiusAxis.radiusToData(b[0],a),this._angleAxis.angleToData(b[1],a)]},pointToCoord:function(i){var c=i[0]-this.cx,d=i[1]-this.cy,h=this.getAngleAxis(),e=h.getExtent(),b=Math.min(e[0],e[1]),f=Math.max(e[0],e[1]);h.inverse?b=f-360:f=b+360;var g=Math.sqrt(c*c+d*d);c/=g,d/=g;for(var a=Math.atan2(-d,c)/Math.PI*180,j=a<b?1:-1;a<b||a>f;){a+=360*j}return [g,a]},coordToPoint:function(c){var a=c[0],b=c[1]/180*Math.PI;return [Math.cos(b)*a+this.cx,-Math.sin(b)*a+this.cy]}};var gz=aw.extend({type:'polarAxis',axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:'polar',index:this.option.polarIndex,id:this.option.polarId})[0]}});n(gz.prototype,b9);var j2={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};dI('angle',gz,Ov,j2.angle),dI('radius',gz,Ov,j2.radius),Bs({type:'polar',dependencies:['polarAxis','angleAxis'],coordinateSystem:null,findAxisModel:function(b){var a;return this.ecModel.eachComponent(b,function(c){c.getCoordSysModel()===this&&(a=c)},this),a},defaultOption:{zlevel:0,z:0,center:['50%','50%'],radius:'80%'}});var pM={dimensions:eT.prototype.dimensions,create:function(a,c){var b=[];return a.eachComponent('polar',function(e,h){var d=new eT(h);d.update=Rv;var f=d.getRadiusAxis(),i=d.getAngleAxis(),j=e.findAxisModel('radiusAxis'),g=e.findAxisModel('angleAxis');zv(f,j),zv(i,g),Ev(d,e,c),b.push(d),e.coordinateSystem=d,d.model=e}),a.eachSeries(function(b){if('polar'===b.get('coordinateSystem')){var d=a.queryComponents({mainType:'polar',index:b.get('polarIndex'),id:b.get('polarId')})[0];b.coordinateSystem=d.coordinateSystem}}),b}};Ba.register('polar',pM);var s6=['axisLine','axisLabel','axisTick','splitLine','splitArea'];aR.extend({type:'angleAxis',axisPointerClass:'PolarAxisPointer',render:function(b,j){if(this.group.removeAll(),b.get('show')){var a=b.axis,c=a.polar,h=c.getRadiusAxis().getExtent(),e=a.getTicksCoords(),g=f(a.getViewLabels(),function(c){return (c=i(c)).coord=a.dataToCoord(c.tickValue),c});Gv(g),Gv(e),d(s6,function(d){!b.get(d+'.show')||a.scale.isBlank()&&'axisLine'!==d||this['_'+d](b,c,e,h,g)},this)}},_axisLine:function(e,a,f,c){var d=e.getModel('axisLine.lineStyle'),b=new bV({shape:{cx:a.cx,cy:a.cy,r:c[Vv(a)]},style:d.getLineStyle(),z2:1,silent:!0});b.style.fill=null,this.group.add(b)},_axisTick:function(d,b,g,i){var a=d.getModel('axisTick'),e=(a.get('inside')?-1:1)*a.get('length'),c=i[Vv(b)],h=f(g,function(a){return new aU({shape:Bv(b,[c,c+e],a.coord)})});this.group.add(bN(h,{style:r(a.getModel('lineStyle').getLineStyle(),{stroke:d.get('axisLine.lineStyle.color')})}))},_axisLabel:function(e,b,i,f,g){var a=e.getCategories(!0),c=e.getModel('axisLabel'),h=c.get('margin');d(g,function(k,s){var l=c,m=k.tickValue,j=f[Vv(b)],d=b.coordToPoint([j+h,k.coord]),n=b.cx,o=b.cy,r=Math.abs(d[0]-n)/j<0.3?'center':d[0]>n?'left':'right',q=Math.abs(d[1]-o)/j<0.3?'middle':d[1]>o?'top':'bottom';a&&a[m]&&a[m].textStyle&&(l=new Lo(a[m].textStyle,c,c.ecModel));var p=new ak({silent:!0});this.group.add(p),fo(p.style,l,{x:d[0],y:d[1],textFill:l.getTextColor()||e.get('axisLine.lineStyle.color'),text:k.formattedLabel,textAlign:r,textVerticalAlign:q})},this)},_splitLine:function(g,h,e,i){var f=g.getModel('splitLine').getModel('lineStyle'),b=f.get('color'),j=0;b=b instanceof Array?b:[b];for(var c=[],a=0;a<e.length;a++){var d=j++%b.length;c[d]=c[d]||[],c[d].push(new aU({shape:Bv(h,i,e[a].coord)}))}for(a=0;a<c.length;a++){this.group.add(bN(c[a],{style:r({stroke:b[a%b.length]},f.getLineStyle()),silent:!0,z:g.get('z')}))}},_splitArea:function(k,h,c,e){if(c.length){var j=k.getModel('splitArea').getModel('areaStyle'),b=j.get('color'),o=0;b=b instanceof Array?b:[b];for(var d=[],g=Math.PI/180,i=-c[0].coord*g,l=Math.min(e[0],e[1]),m=Math.max(e[0],e[1]),n=k.get('clockwise'),a=1;a<c.length;a++){var f=o++%b.length;d[f]=d[f]||[],d[f].push(new bI({shape:{cx:h.cx,cy:h.cy,r0:l,r:m,startAngle:i,endAngle:-c[a].coord*g,clockwise:n},silent:!0})),i=-c[a].coord*g}for(a=0;a<d.length;a++){this.group.add(bN(d[a],{style:r({fill:b[a%b.length]},j.getAreaStyle()),silent:!0}))}}}});var rH=['axisLine','axisTickLabel','axisName'],rY=['splitLine','splitArea'];aR.extend({type:'radiusAxis',axisPointerClass:'PolarAxisPointer',render:function(a,k){if(this.group.removeAll(),a.get('show')){var b=a.axis,c=b.polar,i=c.getAngleAxis(),g=b.getTicksCoords(),f=i.getExtent()[0],j=b.getExtent(),h=Fv(c,a,f),e=new a9(a,h);d(rH,e.add,e),this.group.add(e.getGroup()),d(rY,function(d){a.get(d+'.show')&&!b.scale.isBlank()&&this['_'+d](a,c,f,j,g)},this)}},_splitLine:function(i,f,j,k,g){var e=i.getModel('splitLine').getModel('lineStyle'),b=e.get('color'),h=0;b=b instanceof Array?b:[b];for(var c=[],a=0;a<g.length;a++){var d=h++%b.length;c[d]=c[d]||[],c[d].push(new bV({shape:{cx:f.cx,cy:f.cy,r:g[a].coord},silent:!0}))}for(a=0;a<c.length;a++){this.group.add(bN(c[a],{style:r({stroke:b[a%b.length],fill:null},e.getLineStyle()),silent:!0}))}},_splitArea:function(j,g,k,l,c){if(c.length){var f=j.getModel('splitArea').getModel('areaStyle'),b=f.get('color'),i=0;b=b instanceof Array?b:[b];for(var d=[],h=c[0].coord,a=1;a<c.length;a++){var e=i++%b.length;d[e]=d[e]||[],d[e].push(new bI({shape:{cx:g.cx,cy:g.cy,r0:h,r:c[a].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=c[a].coord}for(a=0;a<d.length;a++){this.group.add(bN(d[a],{style:r({fill:b[a%b.length]},f.getAreaStyle()),silent:!0}))}}}});var sF=um.extend({makeElOption:function(f,h,d,b,l){var a=d.axis;'angle'===a.dim&&(this.animationThreshold=Math.PI/18);var j,e=a.polar,k=e.getOtherAxis(a).getExtent();j=a['dataTo'+aa(a.dim)](h);var g=b.get('type');if(g&&'none'!==g){var i=gm(b),c=sJ[g](a,e,j,k,i);c.style=i,f.graphicKey=c.type,f.pointer=c}mm(f,d,b,l,Wv(h,d,0,e,b.get('label.margin')))}}),sJ={line:function(d,a,b,c,e){return 'angle'===d.dim?{type:'Line',shape:wm(a.coordToPoint([c[0],b]),a.coordToPoint([c[1],b]))}:{type:'Circle',shape:{cx:a.cx,cy:a.cy,r:b}}},shadow:function(f,b,c,d,g){var a=Math.max(1,f.getBandWidth()),e=Math.PI/180;return 'angle'===f.dim?{type:'Sector',shape:Sm(b.cx,b.cy,d[0],d[1],(-c-a/2)*e,(a/2-c)*e)}:{type:'Sector',shape:Sm(b.cx,b.cy,c-a/2,c+a/2,0,2*Math.PI)}}};aR.registerAxisPointerClass('PolarAxisPointer',sF),Os(v(function(d,b,c){c.getWidth(),c.getHeight();var a={},e=kv(g(b.getSeriesByType(d),function(a){return !b.isSeriesFiltered(a)&&a.coordinateSystem&&'polar'===a.coordinateSystem.type}));b.eachSeriesByType(d,function(g){if('polar'===g.coordinateSystem.type){var i=g.getData(),z=g.coordinateSystem,k=z.getBaseAxis(),f=Cv(g),C=e[Lv(k)][f],A=C.offset,D=C.width,l=z.getOtherAxis(k),H=g.coordinateSystem.cx,I=g.coordinateSystem.cy,x=g.get('barMinHeight')||0,B=g.get('barMinAngle')||0;a[f]=a[f]||[];for(var y=i.mapDimension(l.dim),J=i.mapDimension(k.dim),w=hl(i,y),n=l.getExtent()[0],m=0,G=i.count();m<G;m++){var s=i.get(y,m),h=i.get(J,m);if(!isNaN(s)){var v=s>=0?'p':'n',j=n;w&&(a[f][h]||(a[f][h]={p:n,n:n}),j=a[f][h][v]);var u,q,t,p;if('radius'===l.dim){var o=l.dataToRadius(s)-n,E=k.dataToAngle(h);Math.abs(o)<x&&(o=(o<0?-1:1)*x),u=j,q=j+o,p=(t=E-A)-D,w&&(a[f][h][v]=q)}else {var r=l.dataToAngle(s,!0)-n,F=k.dataToRadius(h);Math.abs(r)<B&&(r=(r<0?-1:1)*B),q=(u=F+A)+D,t=j,p=j+r,w&&(a[f][h][v]=p)}i.setItemLayout(m,{cx:H,cy:I,r0:u,r:q,startAngle:-t*Math.PI/180,endAngle:-p*Math.PI/180})}}}},this)},'bar')),Vs({type:'polar'}),h(aw.extend({type:'geo',coordinateSystem:null,layoutMode:'box',init:function(a){aw.prototype.init.apply(this,arguments),Ci(a,'label',['show'])},optionUpdated:function(){var a=this.option,b=this;a.regions=hP.getFilledRegions(a.regions,a.map,a.nameMap),this._optionModelMap=p(a.regions||[],function(c,a){return a.name&&c.set(a.name,new Lo(a,b)),c},R()),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:'center',top:'center',aspectScale:null,silent:!1,map:'',boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:'#000'},itemStyle:{borderWidth:0.5,borderColor:'#444',color:'#eee'},emphasis:{label:{show:!0,color:'rgb(100,0,0)'},itemStyle:{color:'rgba(255,215,0,0.8)'}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new Lo(null,this,this.ecModel)},getFormattedLabel:function(b,c){var a=this.getRegionModel(b).get('label.'+c+'.formatter'),d={name:b};return 'function'==typeof a?(d.status=c,a(d)):'string'==typeof a?a.replace('{a}',null!=b?b:''):void 0},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}}),gT),Vs({type:'geo',init:function(c,b){var a=new _c(b,!0);this._mapDraw=a,this.group.add(a.group)},render:function(b,c,d,a){if(!a||'geoToggleSelect'!==a.type||a.from!==this.uid){var e=this._mapDraw;b.get('show')?e.draw(b,c,d,this,a):this._mapDraw.group.removeAll(),this.group.silent=b.get('silent')}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),Hv('toggleSelected',{type:'geoToggleSelect',event:'geoselectchanged'}),Hv('select',{type:'geoSelect',event:'geoselected'}),Hv('unSelect',{type:'geoUnSelect',event:'geounselected'});var q_=['rect','polygon','keep','clear'],mR=d,iV={lineX:Kv(0),lineY:Kv(1),rect:{point:function(a,c,b){return a&&b.boundingRect.contain(a[0],a[1])},rect:function(a,c,b){return a&&b.boundingRect.intersect(a)}},polygon:{point:function(a,c,b){return a&&b.boundingRect.contain(a[0],a[1])&&Yl(b.range,a[0],a[1])},rect:function(f,i,h){var c=h.range;if(!f||c.length<=1){return !1}var b=f.x,a=f.y,d=f.width,e=f.height,g=c[0];return !!(Yl(c,b,a)||Yl(c,b+d,a)||Yl(c,b,a+e)||Yl(c,b+d,a+e)||ue.create(f).contain(g[0],g[1])||Jv(b,a,b+d,a,c)||Jv(b,a,b,a+e,c)||Jv(b+d,a,b+d,a+e,c)||Jv(b,a+e,b+d,a+e,c))||void 0}}},b4=d,f0=l,fI=v,hZ=['dataToPoint','pointToData'],rz=['grid','xAxis','yAxis','geo','graph','polar','radiusAxis','angleAxis','bmap'],dq=iy.prototype;dq.setOutputRanges=function(b,a){this.matchOutputRanges(b,a,function(c,d,f){if((c.coordRanges||(c.coordRanges=[])).push(d),!c.coordRange){c.coordRange=d;var e=iZ[c.brushType](0,f,d);c.__rangeOffset={offset:m9[c.brushType](e.values,c.range,[1,1]),xyMinMax:e.xyMinMax}}})},dq.matchOutputRanges=function(c,a,b){b4(c,function(e){var f=this.findTargetInfo(e,a);f&&!0!==f&&d(f.coordSyses,function(d){var f=iZ[e.brushType](1,d,e.range);b(e,f.values,d,a)})},this)},dq.setInputRanges=function(b,a){b4(b,function(c){var d=this.findTargetInfo(c,a);if(c.range=c.range||[],d&&!0!==d){c.panelId=d.panelId;var e=iZ[c.brushType](0,d.coordSys,c.coordRange),f=c.__rangeOffset;c.range=f?m9[c.brushType](e.values,f.offset,sy(e.xyMinMax,f.xyMinMax)):e.values}},this)},dq.makePanelOpts=function(b,a){return f(this._targetInfoList,function(c){var d=c.getPanelRect();return {panelId:c.panelId,defaultBrushType:a&&a(c),clipPath:hp(d),isTargetByCursor:dp(d,b,c.coordSysModel),getLinearBrushOtherExtent:cp(d)}})},dq.controlSeries=function(d,b,c){var a=this.findTargetInfo(d,c);return !0===a||a&&f0(a.coordSyses,b.coordinateSystem)>=0},dq.findTargetInfo=function(e,f){for(var c=this._targetInfoList,g=oy(f,e),a=0;a<c.length;a++){var b=c[a],d=e.panelId;if(d){if(b.panelId===d){return b}}else {for(a=0;a<lX.length;a++){if(lX[a](g,b)){return b}}}}return !0};var sP={grid:function(f,h){var b=f.xAxisModels,c=f.yAxisModels,g=f.gridModels,a=R(),d={},e={};(b||c||g)&&(b4(b,function(c){var b=c.axis.grid.model;a.set(b.id,b),d[b.id]=!0}),b4(c,function(c){var b=c.axis.grid.model;a.set(b.id,b),e[b.id]=!0}),b4(g,function(b){a.set(b.id,b),d[b.id]=!0,e[b.id]=!0}),a.each(function(a){var i=a.coordinateSystem,g=[];b4(i.getCartesians(),function(d,e){(f0(b,d.getAxis('x').model)>=0||f0(c,d.getAxis('y').model)>=0)&&g.push(d)}),h.push({panelId:'grid--'+a.id,gridModel:a,coordSysModel:a,coordSys:g[0],coordSyses:g,getPanelRect:mz.grid,xAxisDeclared:d[a.id],yAxisDeclared:e[a.id]})}))},geo:function(b,a){b4(b.geoModels,function(c){var d=c.coordinateSystem;a.push({panelId:'geo--'+c.id,geoModel:c,coordSysModel:c,coordSys:d,coordSyses:[d],getPanelRect:mz.geo})})}},lX=[function(b,e){var c=b.xAxisModel,d=b.yAxisModel,a=b.gridModel;return !a&&c&&(a=c.axis.grid.model),!a&&d&&(a=d.axis.grid.model),a&&a===e.gridModel},function(c,b){var a=c.geoModel;return a&&a===b.geoModel}],mz={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var b=this.coordSys,a=b.getBoundingRect().clone();return a.applyTransform(Mo(b)),a}},iZ={lineX:fI(ay,0),lineY:fI(ay,1),rect:function(f,c,a){var d=c[hZ[f]]([a[0][0],a[1][0]]),e=c[hZ[f]]([a[0][1],a[1][1]]),b=[ny([d[0],e[0]]),ny([d[1],e[1]])];return {values:b,xyMinMax:b}},polygon:function(d,b,c){var a=[[1/0,-1/0],[1/0,-1/0]];return {values:f(c,function(f){var e=b[hZ[d]](f);return a[0][0]=Math.min(a[0][0],e[0]),a[1][0]=Math.min(a[1][0],e[1]),a[0][1]=Math.max(a[0][1],e[0]),a[1][1]=Math.max(a[1][1],e[1]),e}),xyMinMax:a}}},m9={lineX:fI(ry,0),lineY:fI(ry,1),rect:function(c,a,b){return [[c[0][0]-b[0]*a[0][0],c[0][1]-b[0]*a[0][1]],[c[1][0]-b[1]*a[1][0],c[1][1]-b[1]*a[1][1]]]},polygon:function(c,a,b){return f(c,function(e,d){return [e[0]-b[0]*a[d][0],e[1]-b[1]*a[d][1]]})}},m7=['inBrush','outOfBrush'],hR='__ecBrushSelect',i2='__ecInBrushSelectEvent',lC=c$.VISUAL.BRUSH;Os(lC,function(b,c,a){b.eachComponent({mainType:'brush'},function(d){a&&'takeGlobalCursor'===a.type&&d.setBrushOption('brush'===a.key?a.brushOption:{brushType:!1}),(d.brushTargetManager=new iy(d.option,b)).setInputRanges(d.areas,b)})}),Es(lC,function(a,g,h){var c,b,e=[];a.eachComponent({mainType:'brush'},function(j,q){function l(b){return 'all'===m||t[b]}function u(b){return !!b.length}function h(c,d){var b=c.coordinateSystem;n|=b.hasAxisBrushed(),l(d)&&b.eachActiveState(c.getData(),function(e,b){'active'===e&&(o[b]=1)})}function c(e,f,b){var c=dy(e);if(c&&!fy(j,f)&&(d(w,function(d){c[d.brushType]&&j.brushTargetManager.controlSeries(d,e,a)&&b.push(d),n|=u(b)}),l(f)&&u(b))){var i=e.getData();i.each(function(d){cy(c,b,i,d)&&(o[d]=1)})}}var s={brushId:j.id,brushIndex:q,brushName:j.name,areas:i(j.areas),selected:[]};e.push(s);var k=j.option,m=k.brushLink,t=[],o=[],p=[],n=0;q||(c=k.throttleType,b=k.throttleDelay);var w=f(j.areas,function(b){return py(r({boundingRect:p2[b.brushType](b)},b))}),v=Xv(j.option,m7,function(b){b.mappingMethod='fixed'});y(m)&&d(m,function(b){t[b]=1}),a.eachSeries(function(d,b){var e=p[b]=[];'parallel'===d.subType?h(d,b):c(d,b,e)}),a.eachSeries(function(d,c){var e={seriesId:d.id,seriesIndex:c,seriesName:d.name,dataIndex:[]};s.selected.push(e);var i=dy(d),f=p[c],b=d.getData(),k=l(c)?function(f){return o[f]?(e.dataIndex.push(b.getRawIndex(f)),'inBrush'):'outOfBrush'}:function(k){return cy(i,f,b,k)?(e.dataIndex.push(b.getRawIndex(k)),'inBrush'):'outOfBrush'};(l(c)?n:u(f))&&Yv(m7,v,b,k)})}),uy(g,c,b,e,h)});var p2={lineX:B,lineY:B,rect:function(a){return gy(a.range)},polygon:function(f){for(var a,d=f.range,c=0,e=d.length;c<e;c++){a=a||[[1/0,-1/0],[1/0,-1/0]];var b=d[c];b[0]<a[0][0]&&(a[0][0]=b[0]),b[0]>a[0][1]&&(a[0][1]=b[0]),b[1]<a[1][0]&&(a[1][0]=b[1]),b[1]>a[1][1]&&(a[1][1]=b[1])}return a&&gy(a)}},o1=['#ddd'];Bs({type:'brush',dependencies:['geo','grid','xAxis','yAxis','parallel','series'],defaultOption:{toolbox:null,brushLink:null,seriesIndex:'all',geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:'rect',brushMode:'single',transformable:!0,brushStyle:{borderWidth:1,color:'rgba(120,140,180,0.3)',borderColor:'rgba(120,140,180,0.8)'},throttleType:'fixRate',throttleDelay:0,removeOnClick:!0,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(d,c){var a=this.option;!c&&jv(a,d,['inBrush','outOfBrush']);var b=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:o1},b.hasOwnProperty('liftZ')||(b.liftZ=5)},setAreas:function(a){a&&(this.areas=f(a,function(b){return my(this.option,b)},this))},setBrushOption:function(a){this.brushOption=my(this.option,a),this.brushType=this.brushOption.brushType}});Vs({type:'brush',init:function(b,a){this.ecModel=b,this.api=a,this.model,(this._brushController=new Cf(a.getZr())).on('brush',m(this._onBrush,this)).mount()},render:function(a){return this.model=a,vy.apply(this,arguments)},updateTransform:vy,updateView:vy,dispose:function(){this._brushController.dispose()},_onBrush:function(c,a){var b=this.model.id;this.model.brushTargetManager.setOutputRanges(c,this.ecModel),(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:'brush',brushId:b,areas:i(c),$from:b})}}),Ps({type:'brush',event:'brush'},function(a,b){b.eachComponent({mainType:'brush',query:a},function(c){c.setAreas(a.areas)})}),Ps({type:'brushSelect',event:'brushSelected',update:'none'},function(){});var j$={},p7=b0.toolbox.brush;_y.defaultOption={show:!0,type:['rect','polygon','lineX','lineY','keep','clear'],icon:{rect:'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',polygon:'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',lineX:'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',lineY:'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',keep:'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',clear:'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2'},title:i(p7.title)};var eF=_y.prototype;eF.render=eF.updateView=function(e,f,g){var a,b,c;f.eachComponent({mainType:'brush'},function(d){a=d.brushType,b=d.brushOption.brushMode||'single',c|=d.areas.length}),this._brushType=a,this._brushMode=b,d(e.get('type',!0),function(d){e.setIconStatus(d,('keep'===d?'multiple'===b:'clear'===d?c:d===a)?'emphasis':'normal')})},eF.getIcons=function(){var c=this.model,a=c.get('icon',!0),b={};return d(c.get('type',!0),function(c){a[c]&&(b[c]=a[c])}),b},eF.onclick=function(e,b,a){var c=this._brushType,d=this._brushMode;'clear'===a?(b.dispatchAction({type:'axisAreaSelect',intervals:[]}),b.dispatchAction({type:'brush',command:'clear',areas:[]})):b.dispatchAction({type:'takeGlobalCursor',key:'brush',brushOption:{brushType:'keep'===a?c:c!==a&&a,brushMode:'keep'===a?'multiple'===d?'single':'multiple':d}})},yy('brush',_y),Ls(function(e,i){var b=e&&e.brush;if(y(b)||(b=b?[b]:[]),b.length){var f=[];d(b,function(b){var a=b.hasOwnProperty('toolbox')?b.toolbox:[];a instanceof Array&&(f=f.concat(a))});var a=e&&e.toolbox;y(a)&&(a=a[0]),a||(a={feature:{}},e.toolbox=[a]);var g=a.feature||(a.feature={}),h=g.brush||(g.brush={}),c=h.type||(h.type=[]);c.push.apply(c,f),Zv(c),i&&!c.length&&c.push.apply(c,q_)}});wy.prototype={constructor:wy,type:'calendar',dimensions:['time','value'],getDimensionsInfo:function(){return [{name:'time',type:'time'},'value']},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){var e=(a=Uo(a)).getFullYear(),b=a.getMonth()+1;b=b<10?'0'+b:b;var c=a.getDate();c=c<10?'0'+c:c;var d=a.getDay();return d=Math.abs((d+7-this.getFirstDayOfWeek())%7),{y:e,m:b,d:c,day:d,time:a.getTime(),formatedDate:e+'-'+b+'-'+c,date:a}},getNextNDay:function(a,b){return 0===(b=b||0)?this.getDateInfo(a):((a=new Date(this.getDateInfo(a).time)).setDate(a.getDate()+b),this.getDateInfo(a))},update:function(k,b){function i(c,a){return null!=c[a]&&'auto'!==c[a]}this._firstDayOfWeek=+this._model.getModel('dayLabel').get('firstDay'),this._orient=this._model.get('orient'),this._lineWidth=this._model.getModel('itemStyle').getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,e=['width','height'],a=this._model.get('cellSize').slice(),f=this._model.getBoxLayoutParams(),g='horizontal'===this._orient?[c,7]:[7,c];d([0,1],function(c){i(a,c)&&(f[e[c]]=a[c]*g[c])});var h={width:b.getWidth(),height:b.getHeight()},j=this._rect=la(f,h);d([0,1],function(c){i(a,c)||(a[c]=j[e[c]]/g[c])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(b,c){y(b)&&(b=b[0]),null==c&&(c=!0);var a=this.getDateInfo(b),d=this._rangeInfo,g=a.formatedDate;if(c&&!(a.time>=d.start.time&&a.time<d.end.time+86400000)){return [NaN,NaN]}var e=a.day,f=this._getRangeInfo([d.start.time,g]).nthWeek;return 'vertical'===this._orient?[this._rect.x+e*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]},pointToData:function(b){var a=this.pointToDate(b);return a&&a.time},dataToRect:function(c,b){var a=this.dataToPoint(c,b);return {contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},pointToDate:function(d){var a=Math.floor((d[0]-this._rect.x)/this._sw)+1,b=Math.floor((d[1]-this._rect.y)/this._sh)+1,c=this._rangeInfo.range;return 'vertical'===this._orient?this._getDateByWeeksAndDay(b,a-1,c):this._getDateByWeeksAndDay(a,b-1,c)},convertToPixel:v(by,'dataToPoint'),convertFromPixel:v(by,'pointToData'),_initRangeOption:function(){var b=this._model.get('range'),a=b;if(y(a)&&1===a.length&&(a=a[0]),/^\d{4}$/.test(a)&&(b=[a+'-01-01',a+'-12-31']),/^\d{4}[\/|-]\d{1,2}$/.test(a)){var e=this.getDateInfo(a),c=e.date;c.setMonth(c.getMonth()+1);var f=this.getNextNDay(c,-1);b=[e.formatedDate,f.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(a)&&(b=[a,a]);var d=this._getRangeInfo(b);return d.start.time>d.end.time&&b.reverse(),b},_getRangeInfo:function(a){var d;(a=[this.getDateInfo(a[0]),this.getDateInfo(a[1])])[0].time>a[1].time&&(d=!0,a.reverse());var c=Math.floor(a[1].time/86400000)-Math.floor(a[0].time/86400000)+1,b=new Date(a[0].time),g=b.getDate(),f=a[1].date.getDate();if(b.setDate(g+c-1),b.getDate()!==f){for(var h=b.getTime()-a[1].time>0?1:-1;b.getDate()!==f&&(b.getTime()-a[1].time)*h>0;){c-=h,b.setDate(g+c-1)}}var e=Math.floor((c+a[0].day+6)/7),i=d?1-e:e-1;return d&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:c,weeks:e,nthWeek:i,fweek:a[0].day,lweek:a[1].day}},_getDateByWeeksAndDay:function(b,c,e){var a=this._getRangeInfo(e);if(b>a.weeks||0===b&&c<a.fweek||b===a.weeks&&c>a.lweek){return !1}var f=7*(b-1)-a.fweek+c,d=new Date(a.start.time);return d.setDate(a.start.d+f),this.getDateInfo(d)}},wy.dimensions=wy.prototype.dimensions,wy.getDimensionsInfo=wy.prototype.getDimensionsInfo,wy.create=function(b,c){var a=[];return b.eachComponent('calendar',function(d){var e=new wy(d,b,c);a.push(e),d.coordinateSystem=e}),b.eachSeries(function(d){'calendar'===d.get('coordinateSystem')&&(d.coordinateSystem=a[d.get('calendarIndex')||0])}),a},Ba.register('calendar',wy);var jG=aw.extend({type:'calendar',coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:'horizontal',splitLine:{show:!0,lineStyle:{color:'#000',width:1,type:'solid'}},itemStyle:{color:'#fff',borderWidth:1,borderColor:'#ccc'},dayLabel:{show:!0,firstDay:0,position:'start',margin:'50%',nameMap:'en',color:'#000'},monthLabel:{show:!0,position:'start',margin:5,align:'center',nameMap:'en',formatter:null,color:'#000'},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:'#ccc',fontFamily:'sans-serif',fontWeight:'bolder',fontSize:20}},init:function(a,c,d,e){var b=da(a);jG.superApply(this,'init',arguments),Sy(a,b)},mergeOption:function(a,b){jG.superApply(this,'mergeOption',arguments),Sy(this.option,a)}}),nU={EN:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],CN:['','','','','','','','','','','','']},oW={EN:['S','M','T','W','T','F','S'],CN:['','','','','','','']};Vs({type:'calendar',_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(b,f,g){var a=this.group;a.removeAll();var e=b.coordinateSystem,c=e.getRangeInfo(),d=e.getOrient();this._renderDayRect(b,c,a),this._renderLines(b,c,d,a),this._renderYearText(b,c,d,a),this._renderMonthText(b,d,a),this._renderWeekText(b,c,d,a)},_renderDayRect:function(e,c,g){for(var a=e.coordinateSystem,h=e.getModel('itemStyle').getItemStyle(),f=a.getCellWidth(),i=a.getCellHeight(),b=c.start.time;b<=c.end.time;b=a.getNextNDay(b,1).time){var d=a.dataToRect([b],!1).tl,j=new aA({shape:{x:d[0],y:d[1],width:f,height:i},cursor:'default',style:h});g.add(j)}},_renderLines:function(f,b,h,j){function o(g){a._firstDayOfMonth.push(d.getDateInfo(g)),a._firstDayPoints.push(d.dataToRect([g],!1).tl);var c=a._getLinePointsOfOneWeek(f,g,h);a._tlpoints.push(c[0]),a._blpoints.push(c[c.length-1]),i&&a._drawSplitline(c,e,j)}var a=this,d=f.coordinateSystem,e=f.getModel('splitLine.lineStyle').getLineStyle(),i=f.get('splitLine.show'),l=e.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=b.start,k=0;c.time<=b.end.time;k++){o(c.formatedDate),0===k&&(c=d.getDateInfo(b.start.y+'-'+b.start.m));var g=c.date;g.setMonth(g.getMonth()+1),c=d.getDateInfo(g)}o(d.getNextNDay(b.end.time,1).formatedDate),i&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,l,h),e,j),i&&this._drawSplitline(a._getEdgesPoints(a._blpoints,l,h),e,j)},_getEdgesPoints:function(c,d,e){var a=[c[0].slice(),c[c.length-1].slice()],b='horizontal'===e?0:1;return a[0][b]=a[0][b]-d/2,a[1][b]=a[1][b]+d/2,a},_drawSplitline:function(d,a,b){var c=new a4({z2:20,shape:{points:d},style:a});b.add(c)},_getLinePointsOfOneWeek:function(h,b,g){var c=h.coordinateSystem;b=c.getDateInfo(b);for(var d=[],a=0;a<7;a++){var e=c.getNextNDay(b.time,a),f=c.dataToRect([e.time],!1);d[2*e.day]=f.tl,d[2*e.day+1]=f['horizontal'===g?'bl':'tr']}return d},_formatterLabel:function(a,b){return 'string'==typeof a&&a?ea(a,b):'function'==typeof a?a(b):b.nameMap},_yearTextPositionControl:function(g,a,f,b,d){a=a.slice();var c=['center','bottom'];'bottom'===b?(a[1]+=d,c=['center','top']):'left'===b?a[0]-=d:'right'===b?(a[0]+=d,c=['center','top']):a[1]-=d;var e=0;return 'left'!==b&&'right'!==b||(e=Math.PI/2),{rotation:e,position:a,style:{textAlign:c[0],textVerticalAlign:c[1]}}},_renderYearText:function(q,b,h,o){var c=q.getModel('yearLabel');if(c.get('show')){var k=c.get('margin'),f=c.get('position');f||(f='horizontal'!==h?'top':'left');var a=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],i=(a[0][0]+a[1][0])/2,j=(a[0][1]+a[1][1])/2,d='horizontal'===h?0:1,l={top:[i,a[d][1]],bottom:[i,a[1-d][1]],left:[a[1-d][0],j],right:[a[d][0],j]},g=b.start.y;+b.end.y>+b.start.y&&(g=g+'-'+b.end.y);var m=c.get('formatter'),p={start:b.start.y,end:b.end.y,nameMap:g},n=this._formatterLabel(m,p),e=new ak({z2:30});fo(e.style,c,{text:n}),e.attr(this._yearTextPositionControl(e,l[f],h,f,k)),o.add(e)}},_monthTextPositionControl:function(h,c,i,e,f){var a='left',b='top',g=h[0],d=h[1];return 'horizontal'===i?(d+=f,c&&(a='center'),'start'===e&&(b='bottom')):(g+=f,c&&(b='middle'),'start'===e&&(a='right')),{x:g,y:d,textAlign:a,textVerticalAlign:b}},_renderMonthText:function(r,l,o){var b=r.getModel('monthLabel');if(b.get('show')){var e=b.get('nameMap'),f=b.get('margin'),h=b.get('position'),p=b.get('align'),i=[this._tlpoints,this._blpoints];_(e)&&(e=nU[e.toUpperCase()]||[]);var m='start'===h?0:1,g='horizontal'===l?0:1;f='start'===h?-f:f;for(var k='center'===p,c=0;c<i[m].length-1;c++){var n=i[m][c].slice(),d=this._firstDayOfMonth[c];if(k){var q=this._firstDayPoints[c];n[g]=(q[g]+i[0][c+1][g])/2}var s=b.get('formatter'),v=e[+d.m-1],u={yyyy:d.y,yy:(d.y+'').slice(2),MM:d.m,M:+d.m,nameMap:v},t=this._formatterLabel(s,u),j=new ak({z2:30});a(fo(j.style,b,{text:t}),this._monthTextPositionControl(n,k,l,h,f)),o.add(j)}}},_weekTextPositionControl:function(h,i,j,e,f){var d='center',g='middle',c=h[0],b=h[1],a='start'===j;return 'horizontal'===i?(c=c+e+(a?1:-1)*f[0]/2,d=a?'right':'left'):(b=b+e+(a?1:-1)*f[1]/2,g=a?'bottom':'top'),{x:c,y:b,textAlign:d,textVerticalAlign:g}},_renderWeekText:function(m,f,j,q){var d=m.getModel('dayLabel');if(d.get('show')){var b=m.coordinateSystem,l=d.get('position'),g=d.get('nameMap'),e=d.get('margin'),p=b.getFirstDayOfWeek();_(g)&&(g=oW[g.toUpperCase()]||[]);var h=b.getNextNDay(f.end.time,7-f.lweek).time,i=[b.getCellWidth(),b.getCellHeight()];e=Ro(e,i['horizontal'===j?0:1]),'start'===l&&(h=b.getNextNDay(f.start.time,-(7+f.fweek)).time,e=-e);for(var c=0;c<7;c++){var r=b.getNextNDay(h,c),o=b.dataToRect([r.time],!1).center,k=c;k=Math.abs((c+p)%7);var n=new ak({z2:30});a(fo(n.style,d,{text:g[k]}),this._weekTextPositionControl(o,j,l,e,i)),q.add(n)}}}}),Bs({type:'title',layoutMode:{type:'box',ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:'',target:'blank',subtext:'',subtarget:'blank',left:0,top:0,backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:'bolder',color:'#333'},subtextStyle:{color:'#aaa'}}}),Vs({type:'title',render:function(a,v,q){if(this.group.removeAll(),a.get('show')){var f=this.group,r=a.getModel('textStyle'),o=a.getModel('subtextStyle'),g=a.get('textAlign'),c=a.get('textBaseline'),e=new ak({style:fo({},r,{text:a.get('text'),textFill:r.getTextColor()},{disableBox:!0}),z2:10}),u=e.getBoundingRect(),p=a.get('subtext'),i=new ak({style:fo({},o,{text:p,textFill:o.getTextColor(),y:u.height+a.get('itemGap'),textVerticalAlign:'top'},{disableBox:!0}),z2:10}),j=a.get('link'),k=a.get('sublink'),m=a.get('triggerEvent',!0);e.silent=!j&&!m,i.silent=!k&&!m,j&&e.on('click',function(){window.open(j,'_'+a.get('target'))}),k&&i.on('click',function(){window.open(k,'_'+a.get('subtarget'))}),e.eventData=i.eventData=m?{componentType:'title',componentIndex:a.componentIndex}:null,f.add(e),p&&f.add(i);var d=f.getBoundingRect(),l=a.getBoxLayoutParams();l.width=d.width,l.height=d.height;var b=la(l,{width:q.getWidth(),height:q.getHeight()},a.get('padding'));g||('middle'===(g=a.get('left')||a.get('right'))&&(g='center'),'right'===g?b.x+=b.width:'center'===g&&(b.x+=b.width/2)),c||('center'===(c=a.get('top')||a.get('bottom'))&&(c='middle'),'bottom'===c?b.y+=b.height:'middle'===c&&(b.y+=b.height/2),c=c||'top'),f.attr('position',[b.x,b.y]);var t={textAlign:g,textVerticalAlign:c};e.setStyle(t),i.setStyle(t),d=f.getBoundingRect();var h=b.margin,n=a.getItemStyle(['color','opacity']);n.fill=a.get('backgroundColor');var s=new aA({shape:{x:d.x-h[3],y:d.y-h[0],width:d.width+h[1]+h[3],height:d.height+h[0]+h[2],r:a.get('borderRadius')},style:n,silent:!0});jn(s),f.add(s)}}}),aw.registerSubTypeDefaulter('dataZoom',function(){return 'slider'});var r7=['cartesian2d','polar','singleAxis'],kE=function(b,a){var c=f(b=b.slice(),aa),e=f(a=(a||[]).slice(),aa);return function(g,f){d(b,function(i,j){for(var h={name:i,capital:c[j]},d=0;d<a.length;d++){h[a[d]]=i+e[d]}g.call(f,h)})}}(['x','y','z','radius','angle','single'],['axisIndex','axis','index','id']),bY=d,kA=Bo,gJ=function(d,a,b,c){this._dimName=d,this._axisIndex=a,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=c,this._dataZoomModel=b};gJ.prototype={constructor:gJ,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var b=[],a=this.ecModel;return a.eachSeries(function(c){if(My(c.get('coordinateSystem'))){var d=this._dimName,e=a.queryComponents({mainType:d+'Axis',index:c.get(d+'AxisIndex'),id:c.get(d+'AxisId')})[0];this._axisIndex===(e&&e.componentIndex)&&b.push(c)}},this),b},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+'Axis',this._axisIndex)},getOtherAxisModel:function(){var c,a,b=this._dimName,e=this.ecModel,f=this.getAxisModel();'x'===b||'y'===b?(a='gridIndex',c='x'===b?'y':'x'):(a='polarIndex',c='angle'===b?'radius':'angle');var d;return e.eachComponent(c+'Axis',function(b){(b.get(a)||0)===(f.get(a)||0)&&(d=b)}),d},getMinMaxSpan:function(){return i(this._minMaxSpan)},calculateDataWindow:function(b){var e=this._dataExtent,f=this.getAxisModel().axis.scale,g=this._dataZoomModel.getRangePropMode(),d=[0,100],c=[b.start,b.end],a=[];return bY(['startValue','endValue'],function(c){a.push(null!=b[c]?f.parse(b[c]):null)}),bY([0,1],function(h){var j=a[h],i=c[h];'percent'===g[h]?(null==i&&(i=d[h]),j=f.parse(Eo(i,d,e,!0))):i=Eo(j,e,d,!0),a[h]=j,c[h]=i}),{valueWindow:kA(a),percentWindow:kA(c)}},reset:function(b){if(b===this._dataZoomModel){var c=this.getTargetSeriesModels();this._dataExtent=Ty(this,this._dimName,c);var a=this.calculateDataWindow(b.option);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,Cy(this),Dy(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Dy(this,!0))},filterData:function(c,f){function i(b){return b>=a[0]&&b<=a[1]}if(c===this._dataZoomModel){var d=this._dimName,e=this.getTargetSeriesModels(),b=c.get('filterMode'),a=this._valueWindow;'none'!==b&&bY(e,function(h){var e=h.getData(),g=e.mapDimension(d,!0);g.length&&('weakFilter'===b?e.filterSelf(function(o){for(var l,m,i,d=0;d<g.length;d++){var b=e.get(g[d],o),n=!isNaN(b),k=b<a[0],j=b>a[1];if(n&&!k&&!j){return !0}n&&(i=!0),k&&(l=!0),j&&(m=!0)}return i&&l&&m}):bY(g,function(d){if('empty'===b){h.setData(e.map(d,function(a){return i(a)?a:NaN}))}else {var g={};g[d]=a,e.selectRange(g)}}),bY(g,function(b){e.setApproximateExtent(a,b)}))})}}};var c4=d,cU=kE,gC=Bs({type:'dataZoom',dependencies:['xAxis','yAxis','zAxis','radiusAxis','angleAxis','singleAxis','series'],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:'filter',throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,d,b){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=['percent','percent'];var c=Ly(a);this.mergeDefaultAndTheme(a,b),this.doInit(c)},mergeOption:function(a){var b=Ly(a);n(this.option,a,!0),this.doInit(b)},doInit:function(b){var a=this.option;aq.canvasSupported||(a.realtime=!1),this._setDefaultThrottle(b),ky(this,b),c4([['start','startValue'],['end','endValue']],function(d,c){'value'===this._rangePropMode[c]&&(a[d[0]]=null)},this),this.textStyleModel=this.getModel('textStyle'),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,g,e){var d=this.dependentModels[b.axis][c],f=d.__dzAxisProxy||(d.__dzAxisProxy=new gJ(b.name,c,this,e));a[b.name+'_'+c]=f},this)},_resetTarget:function(){var b=this.option,a=this._judgeAutoMode();cU(function(c){var a=c.axisIndex;b[a]=Di(b[a])},this),'axisIndex'===a?this._autoSetAxisIndex():'orient'===a&&this._autoSetOrient()},_judgeAutoMode:function(){var b=this.option,a=!1;cU(function(c){null!=b[c.axisIndex]&&(a=!0)},this);var c=b.orient;return null==c&&a?'orient':a?void 0:(null==c&&(b.orient='horizontal'),'axisIndex')},_autoSetAxisIndex:function(){var a=!0,c=this.get('orient',!0),b=this.option,d=this.dependentModels;if(a){var e='vertical'===c?'y':'x';d[e+'Axis'].length?(b[e+'AxisIndex']=[0],a=!1):c4(d.singleAxis,function(d){a&&d.get('orient',!0)===c&&(b.singleAxisIndex=[d.componentIndex],a=!1)})}a&&cU(function(f){if(a){var d=[],e=this.dependentModels[f.axis];if(e.length&&!d.length){for(var c=0,g=e.length;c<g;c++){'category'===e[c].get('type')&&d.push(c)}}b[f.axisIndex]=d,d.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,'value')&&cU(function(c){var e=b[c.axisIndex],d=a.get(c.axisIndex),f=a.get(c.axisId);l(e,d=a.ecModel.queryComponents({mainType:c.axis,index:d,id:f})[0].componentIndex)<0&&e.push(d)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient='y'===a?'vertical':'horizontal'},_isSeriesHasAllAxesTypeOf:function(c,b){var a=!0;return cU(function(e){var f=c.get(e.axisIndex),d=this.dependentModels[e.axis][f];d&&d.get('type')===b||(a=!1)},this),a},_setDefaultThrottle:function(b){if(b.hasOwnProperty('throttle')&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return cU(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(c,a){var b=this.ecModel;cU(function(d){c4(this.get(d.axisIndex),function(e){c.call(a,d,e,this,b)},this)},this)},getAxisProxy:function(b,a){return this._axisProxies[b+'_'+a]},getAxisModel:function(c,b){var a=this.getAxisProxy(c,b);return a&&a.getAxisModel()},setRawRange:function(a,c){var b=this.option;c4([['start','startValue'],['end','endValue']],function(d){null==a[d[0]]&&null==a[d[1]]||(b[d[0]]=a[d[0]],b[d[1]]=a[d[1]])},this),!c&&ky(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a){return a.getDataPercentWindow()}},getValueRange:function(c,a){if(null!=c||null!=a){return this.getAxisProxy(c,a).getDataValueWindow()}var b=this.findRepresentativeAxisProxy();return b?b.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(c){if(c){return c.__dzAxisProxy}var a=this._axisProxies;for(var b in a){if(a.hasOwnProperty(b)&&a[b].hostedBy(this)){return a[b]}}for(var b in a){if(a.hasOwnProperty(b)&&!a[b].hostedBy(this)){return a[b]}}},getRangePropMode:function(){return this._rangePropMode.slice()}}),hH=a8.extend({type:'dataZoom',render:function(c,a,b,d){this.dataZoomModel=c,this.ecModel=a,this.api=b},getTargetCoordInfo:function(){function t(d,e,b,f){for(var c,a=0;a<b.length;a++){if(b[a].model===d){c=b[a];break}}c||b.push(c={model:d,axisModels:[],coordIndex:f}),c.axisModels.push(e)}var b=this.dataZoomModel,c=this.ecModel,a={};return b.eachTargetAxis(function(e,f){var d=c.getComponent(e.axis,f);if(d){var b=d.getCoordSysModel();b&&t(b,d,a[b.mainType]||(a[b.mainType]=[]),b.componentIndex)}},this),a}}),eN=(gC.extend({type:'dataZoom.slider',layoutMode:'box',defaultOption:{show:!0,right:'ph',top:'ph',width:'ph',height:'ph',left:null,bottom:null,backgroundColor:'rgba(47,69,84,0)',dataBackground:{lineStyle:{color:'#2f4554',width:0.5,opacity:0.3},areaStyle:{color:'rgba(47,69,84,0.3)',opacity:0.3}},borderColor:'#ddd',fillerColor:'rgba(167,183,204,0.4)',handleIcon:'M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z',handleSize:'100%',handleStyle:{color:'#a7b7cc'},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:'auto',realtime:!0,zoomLock:!1,textStyle:{color:'#333'}}}),aA),cb=Eo,hL=Bo,bH=m,hN=d,dY='horizontal',qI=5,r3=['line','bar','candlestick','scatter'],hM=hH.extend({type:'dataZoom.slider',init:function(b,a){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=a},render:function(b,c,d,a){hM.superApply(this,'render',arguments),Lr(this,'_dispatchZoomAction',this.dataZoomModel.get('throttle'),'fixRate'),this._orient=b.get('orient'),!1!==this.dataZoomModel.get('show')?(a&&'dataZoom'===a.type&&a.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){hM.superApply(this,'remove',arguments),kr(this,'_dispatchZoomAction')},dispose:function(){hM.superApply(this,'dispose',arguments),kr(this,'_dispatchZoomAction')},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new t();this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var g=this.dataZoomModel,f=this.api,a=this._findCoordRect(),e={width:f.getWidth(),height:f.getHeight()},h=this._orient===dY?{right:e.width-a.x-a.width,top:e.height-30-7,width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},c=da(g.option);d(['right','top','width','height'],function(a){'ph'===c[a]&&(c[a]=h[a])});var b=la(c,e,g.padding);this._location={x:b.x,y:b.y},this._size=[b.width,b.height],'vertical'===this._orient&&this._size.reverse()},_positionGroup:function(){var h=this.group,e=this._location,b=this._orient,f=this.dataZoomModel.getFirstTargetAxisModel(),c=f&&f.get('inverse'),d=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;d.attr(b!==dY||c?b===dY&&c?{scale:a?[-1,1]:[-1,-1]}:'vertical'!==b||c?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var g=h.getBoundingRect([d]);h.attr('position',[e.x-g.x,e.y-g.y])},_getViewExtent:function(){return [0,this._size[0]]},_renderBackground:function(){var c=this.dataZoomModel,a=this._size,b=this._displayables.barGroup;b.add(new eN({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:c.get('backgroundColor')},z2:-40})),b.add(new eN({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:'transparent'},z2:0,onclick:m(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var k=this._dataShadowInfo=this._prepareDataShadowInfo();if(k){var e=this._size,g=k.series,f=g.getRawData(),j=g.getShadowDim?g.getShadowDim():k.otherDim;if(null!=j){var a=f.getDataExtent(j),n=0.3*(a[1]-a[0]);a=[a[0]-n,a[1]+n];var h,p=[0,e[1]],o=[0,e[0]],b=[[e[0],0],[0,0]],c=[],l=o[1]/(f.count()-1),d=0,m=Math.round(f.count()/e[0]);f.each([j],function(f,g){if(m>0&&g%m){d+=l}else {var e=null==f||isNaN(f)||''===f,i=e?0:cb(f,a,p,!0);e&&!h&&g?(b.push([b[b.length-1][0],0]),c.push([c[c.length-1][0],0])):!e&&h&&(b.push([d,0]),c.push([d,0])),b.push([d,i]),c.push([d,i]),d+=l,h=e}});var i=this.dataZoomModel;this._displayables.barGroup.add(new aY({shape:{points:b},style:r({fill:i.get('dataBackgroundColor')},i.getModel('dataBackground.areaStyle').getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new a4({shape:{points:c},style:i.getModel('dataBackground.lineStyle').getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,c=b.get('showDataShadow');if(!1!==c){var a,e=this.ecModel;return b.eachTargetAxis(function(f,g){d(b.getAxisProxy(f.name,g).getTargetSeriesModels(),function(b){if(!(a||!0!==c&&l(r3,b.get('type'))<0)){var i,j=e.getComponent(f.axis,g).axis,d=Py(f.name),h=b.coordinateSystem;null!=d&&h.getOtherAxis&&(i=h.getOtherAxis(j).inverse),d=b.getData().mapDimension(d),a={thisAxis:j,series:b,thisDim:f.name,otherDim:d,otherAxisInverse:i}}},this)},this),a}},_renderHandle:function(){var c=this._displayables,e=c.handles=[],f=c.handleLabels=[],b=this._displayables.barGroup,d=this._size,a=this.dataZoomModel;b.add(c.filler=new eN({draggable:!0,cursor:Ny(this._orient),drift:bH(this._onDragMove,this,'all'),onmousemove:function(a){bL(a.event)},ondragstart:bH(this._showDataInfo,this,!0),ondragend:bH(this._onDragEnd,this),onmouseover:bH(this._showDataInfo,this,!0),onmouseout:bH(this._showDataInfo,this,!1),style:{fill:a.get('fillerColor'),textPosition:'inside'}})),b.add(new eN(jn({silent:!0,shape:{x:0,y:0,width:d[0],height:d[1]},style:{stroke:a.get('dataBackgroundColor')||a.get('borderColor'),lineWidth:1,fill:'rgba(0,0,0,0)'}}))),hN([0,1],function(d){var c=Co(a.get('handleIcon'),{cursor:Ny(this._orient),draggable:!0,drift:bH(this._onDragMove,this,d),onmousemove:function(a){bL(a.event)},ondragend:bH(this._onDragEnd,this),onmouseover:bH(this._showDataInfo,this,!0),onmouseout:bH(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=c.getBoundingRect();this._handleHeight=Ro(a.get('handleSize'),this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,c.setStyle(a.getModel('handleStyle').getItemStyle());var i=a.get('handleColor');null!=i&&(c.style.fill=i),b.add(e[d]=c);var g=a.textStyleModel;this.group.add(f[d]=new ak({silent:!0,invisible:!0,style:{x:0,y:0,text:'',textVerticalAlign:'middle',textAlign:'center',textFill:g.getTextColor(),textFont:g.getFont()},z2:10}))},this)},_resetInterval:function(){var b=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[cb(b[0],[0,100],a,!0),cb(b[1],[0,100],a,!0)]},_updateInterval:function(i,h){var f=this.dataZoomModel,d=this._handleEnds,a=this._getViewExtent(),b=f.findRepresentativeAxisProxy().getMinMaxSpan(),c=[0,100];cY(h,d,a,f.get('zoomLock')?'all':i,null!=b.minSpan?cb(b.minSpan,c,a,!0):null,null!=b.maxSpan?cb(b.maxSpan,c,a,!0):null);var e=this._range,g=this._range=hL([cb(d[0],a,c,!0),cb(d[1],a,c,!0)]);return !e||e[0]!==g[0]||e[1]!==g[1]},_updateView:function(e){var b=this._displayables,c=this._handleEnds,a=hL(c.slice()),d=this._size;hN([0,1],function(f){var g=b.handles[f],a=this._handleHeight;g.attr({scale:[a/2,a/2],position:[c[f],d[1]/2-a/2]})},this),b.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:d[1]}),this._updateDataInfo(e)},_updateDataInfo:function(l){function e(a){var c=Mo(g.handles[a].parent,this.group),d=To(0===a?'right':'left',c),f=this._handleWidth/2+qI,e=Io([j[a]+(0===a?-f:f),this._size[1]/2],c);k[a].setStyle({x:e[0],y:e[1],textVerticalAlign:b===dY?'middle':d,textAlign:b===dY?d:'center',text:h[a]})}var d=this.dataZoomModel,g=this._displayables,k=g.handleLabels,b=this._orient,h=['',''];if(d.get('showDetail')){var a=d.findRepresentativeAxisProxy();if(a){var f=a.getAxisModel().axis,i=this._range,c=l?a.calculateDataWindow({start:i[0],end:i[1]}).valueWindow:a.getDataValueWindow();h=[this._formatLabel(c[0],f),this._formatLabel(c[1],f)]}}var j=hL(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(a,b){var f=this.dataZoomModel,c=f.get('labelFormatter'),d=f.get('labelPrecision');null!=d&&'auto'!==d||(d=b.getPixelPrecision());var e=null==a||isNaN(a)?'':'category'===b.type||'time'===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(d,20));return x(c)?c(a,e):_(c)?c.replace('{value}',e):e},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr('invisible',!a),b[1].attr('invisible',!a)},_onDragMove:function(f,b,c){this._dragging=!0;var d=Io([b,c],this._displayables.barGroup.getLocalTransform(),!0),e=this._updateInterval(f,d[0]),a=this.dataZoomModel.get('realtime');this._updateView(!a),e&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get('realtime')&&this._dispatchZoomAction()},_onClickPanelClick:function(d){var b=this._size,a=this._displayables.barGroup.transformCoordToLocal(d.offsetX,d.offsetY);if(!(a[0]<0||a[0]>b[0]||a[1]<0||a[1]>b[1])){var c=this._handleEnds,f=(c[0]+c[1])/2,e=this._updateInterval('all',a[0]-f);this._updateView(),e&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:'dataZoom',from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(hN(this.getTargetCoordInfo(),function(b){if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:0.2*b,y:0.2*c,width:0.6*b,height:0.6*c}}return a}});gC.extend({type:'dataZoom.inside',defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var mO='\x00_ec_dataZoom_roams',oS=m,i9=hH.extend({type:'dataZoom.inside',init:function(b,a){this._range},render:function(a,c,b,e){i9.superApply(this,'render',arguments),this._range=a.getPercentRange(),d(this.getTargetCoordInfo(),function(g,h){var i=f(g,function(d){return Ry(d.model)});d(g,function(j){var f=j.model,k={};d(['pan','zoom','scrollMove'],function(d){k[d]=oS(oL[d],this,j,h)},this),Oy(b,{coordId:Ry(f),allCoordIds:i,containsPoint:function(k,d,i){return f.coordinateSystem.containPoint([d,i])},dataZoomId:a.id,dataZoomModel:a,getRange:k})},this)},this)},dispose:function(){Ey(this.api,this.dataZoomModel.id),i9.superApply(this,'dispose',arguments),this._range=null}}),oL={zoom:function(h,j,k,d){var e=this._range,a=e.slice(),g=h.axisModels[0];if(g){var b=hj[j](null,[d.originX,d.originY],g,k,h),c=(b.signal>0?b.pixelStart+b.pixelLength-b.pixel:b.pixel-b.pixelStart)/b.pixelLength*(a[1]-a[0])+a[0],i=Math.max(1/d.scale,0);a[0]=(a[0]-c)*i+c,a[1]=(a[1]-c)*i+c;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return cY(0,a,[0,100],0,f.minSpan,f.maxSpan),this._range=a,e[0]!==a[0]||e[1]!==a[1]?a:void 0}},pan:Wy(function(c,d,e,f,g,a){var b=hj[f]([a.oldX,a.oldY],[a.newX,a.newY],d,g,e);return b.signal*(c[1]-c[0])*b.pixel/b.pixelLength}),scrollMove:Wy(function(b,c,d,e,f,a){return hj[e]([0,0],[a.scrollDelta,a.scrollDelta],c,f,d).signal*(b[1]-b[0])*a.scrollDelta})},hj={grid:function(c,e,f,h,g){var d=f.axis,a={},b=g.model.coordinateSystem.getRect();return c=c||[0,0],'x'===d.dim?(a.pixel=e[0]-c[0],a.pixelLength=b.width,a.pixelStart=b.x,a.signal=d.inverse?1:-1):(a.pixel=e[1]-c[1],a.pixelLength=b.height,a.pixelStart=b.y,a.signal=d.inverse?-1:1),a},polar:function(b,c,h,j,i){var g=h.axis,a={},d=i.model.coordinateSystem,e=d.getRadiusAxis().getExtent(),f=d.getAngleAxis().getExtent();return b=b?d.pointToCoord(b):[0,0],c=d.pointToCoord(c),'radiusAxis'===h.mainType?(a.pixel=c[0]-b[0],a.pixelLength=e[1]-e[0],a.pixelStart=e[0],a.signal=g.inverse?1:-1):(a.pixel=c[1]-b[1],a.pixelLength=f[1]-f[0],a.pixelStart=f[0],a.signal=g.inverse?-1:1),a},singleAxis:function(c,e,f,h,g){var d=f.axis,b=g.model.coordinateSystem.getRect(),a={};return c=c||[0,0],'horizontal'===d.orient?(a.pixel=e[0]-c[0],a.pixelLength=b.width,a.pixelStart=b.x,a.signal=d.inverse?1:-1):(a.pixel=e[1]-c[1],a.pixelLength=b.height,a.pixelStart=b.y,a.signal=d.inverse?-1:1),a}};ks({getTargetSeries:function(b){var a=R();return b.eachComponent('dataZoom',function(c){c.eachTargetAxis(function(g,e,f){d(f.getAxisProxy(g.name,e).getTargetSeriesModels(),function(d){a.set(d.uid,d)})})}),a},modifyOutputEnd:!0,overallReset:function(b,a){b.eachComponent('dataZoom',function(c){c.eachTargetAxis(function(f,e,d){d.getAxisProxy(f.name,e).reset(d,a)}),c.eachTargetAxis(function(f,e,d){d.getAxisProxy(f.name,e).filterData(d,a)})}),b.eachComponent('dataZoom',function(f){var c=f.findRepresentativeAxisProxy(),d=c.getDataPercentWindow(),e=c.getDataValueWindow();f.setRawRange({start:d[0],end:d[1],startValue:e[0],endValue:e[1]},!0)})}}),Ps('dataZoom',function(a,b){var e=Iy(m(b.eachComponent,b,'dataZoom'),kE,function(d,c){return d.get(c.axisIndex)}),c=[];b.eachComponent({mainType:'dataZoom',query:a},function(d,f){c.push.apply(c,e(d).nodes)}),d(c,function(c,d){c.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});var mW=d,lM=function(b){var a=b&&b.visualMap;y(a)||(a=a?[a]:[]),mW(a,function(a){if(a){Hy(a,'splitList')&&!Hy(a,'pieces')&&(a.pieces=a.splitList,delete a.splitList);var c=a.pieces;c&&y(c)&&mW(c,function(c){w(c)&&(Hy(c,'start')&&!Hy(c,'min')&&(c.min=c.start),Hy(c,'end')&&!Hy(c,'max')&&(c.max=c.end))})}})};aw.registerSubTypeDefaulter('visualMap',function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?'piecewise':'continuous'});var l4=c$.VISUAL.COMPONENT;Es(l4,{createOnAllSeries:!0,reset:function(a,c){var b=[];return c.eachComponent('visualMap',function(d){var e=a.pipelineContext;!d.isTargetSeries(a)||e&&e.large||b.push(qv(d.stateList,d.targetVisuals,m(d.getValueState,d),d.getDataDimension(a.getData())))}),b}}),Es(l4,{createOnAllSeries:!0,reset:function(a,d){var b=a.getData(),c=[];d.eachComponent('visualMap',function(e){if(e.isTargetSeries(a)){var f=e.getVisualMeta(m(Zy,null,a,e))||{stops:[],outerColors:[]},h=e.getDataDimension(b),g=b.getDimensionInfo(h);null!=g&&(f.dimension=g.index,c.push(f))}}),a.getData().setVisual('visualMeta',c)}});var iE={get:function(d,b,c){var a=i((sK[d]||{})[b]);return c&&y(a)?a[a.length-1]:a}},sK={color:{active:['#006edd','#e0ffff'],inactive:['rgba(0,0,0,0)']},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:['circle','roundRect','diamond'],inactive:['none']},symbolSize:{active:[10,50],inactive:[0,0]}},lA=aC.mapVisual,sW=aC.eachVisual,s$=y,iz=d,tb=Bo,rT=Eo,h$=B,fC=Bs({type:'visualMap',dependencies:['series'],stateList:['inRange','outOfRange'],replacableOptionKeys:['inRange','outOfRange','target','controller','color'],dataBound:[-1/0,1/0],layoutMode:{type:'box',ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:'all',min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:'vertical',backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',contentColor:'#5793f3',inactiveColor:'#aaa',borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:'#333'}},init:function(b,c,a){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(b,a)},optionUpdated:function(c,b){var a=this.option;aq.canvasSupported||(a.realtime=!1),!b&&jv(a,c,this.replacableOptionKeys),this.textStyleModel=this.getModel('textStyle'),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=m(a,this),this.controllerVisuals=Xv(this.option.controller,b,a),this.targetVisuals=Xv(this.option.target,b,a)},getTargetSeriesIndices:function(){var b=this.option.seriesIndex,a=[];return null==b||'all'===b?this.ecModel.eachSeries(function(c,b){a.push(b)}):a=Di(b),a},eachTargetSeries:function(b,a){d(this.getTargetSeriesIndices(),function(c){b.call(a,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(b){var a=!1;return this.eachTargetSeries(function(c){c===b&&(a=!0)}),a},formatValueText:function(a,h,e){function n(b){return b===f[0]?'min':b===f[1]?'max':(+b).toFixed(Math.min(i,20))}var c,b,g=this.option,i=g.precision,f=this.dataBound,d=g.formatter;return e=e||['<','>'],y(a)&&(a=a.slice(),c=!0),b=h?a:c?[n(a[0]),n(a[1])]:n(a),_(d)?d.replace('{value}',c?b[0]:b).replace('{value2}',c?b[1]:b):x(d)?c?d(a[0],a[1]):d(a):c?a[0]===f[0]?e[0]+' '+b[1]:a[1]===f[1]?e[1]+' '+b[0]:b[0]+' - '+b[1]:b},resetExtent:function(){var a=this.option,b=tb([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension,f=a.dimensions;if(null!=b||f.length){if(null!=b){return a.getDimension(b)}for(var e=a.dimensions,c=e.length-1;c>=0;c--){var d=e[c];if(!a.getDimensionInfo(d).isCalculationCoord){return d}}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(c){s$(a.color)&&!c.inRange&&(c.inRange={color:a.color.slice().reverse()}),c.inRange=c.inRange||{color:f.get('gradientColor')},iz(this.stateList,function(a){var d=c[a];if(_(d)){var e=iE.get(d,'active',b);e?(c[a]={},c[a][d]=e):delete c[a]}},this)}var f=this.ecModel,a=this.option,e={inRange:a.inRange,outOfRange:a.outOfRange},c=a.target||(a.target={}),d=a.controller||(a.controller={});n(c,e),n(d,e);var b=this.isCategory();t.call(this,c),t.call(this,d),function(c,f,d){var e=c[f],a=c[d];e&&!a&&(a=c[d]={},iz(e,function(h,e){if(aC.isValidType(e)){var g=iE.get(e,'inactive',b);null!=g&&(a[e]=g,'color'!==e||a.hasOwnProperty('opacity')||a.hasOwnProperty('colorAlpha')||(a.opacity=[0,0]))}}))}.call(this,c,'inRange','outOfRange'),function(a){var c=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,d=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,e=this.get('inactiveColor');iz(this.stateList,function(k){var g=this.itemSize,f=a[k];f||(f=a[k]={color:b?e:[e]}),null==f.symbol&&(f.symbol=c&&i(c)||(b?'roundRect':['roundRect'])),null==f.symbolSize&&(f.symbolSize=d&&i(d)||(b?g[0]:[g[0],g[0]])),f.symbol=lA(f.symbol,function(b){return 'none'===b||'square'===b?'roundRect':b});var j=f.symbolSize;if(null!=j){var h=-1/0;sW(j,function(b){b>h&&(h=b)}),f.symbolSize=lA(j,function(b){return rT(b,[0,h],[0,g[0]],!0)})}},this)}.call(this,d)},resetItemSize:function(){this.itemSize=[parseFloat(this.get('itemWidth')),parseFloat(this.get('itemHeight'))]},isCategory:function(){return !!this.option.categories},setSelected:h$,getValueState:h$,getVisualMeta:h$}),lQ=[20,140],mL=fC.extend({type:'visualMap.continuous',defaultOption:{align:'auto',calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(b,a){mL.superApply(this,'optionUpdated',arguments),this.resetExtent(),this.resetVisual(function(c){c.mappingMethod='linear',c.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){mL.superApply(this,'resetItemSize',arguments);var a=this.itemSize;'horizontal'===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=lQ[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=lQ[1])},_resetRange:function(){var b=this.getExtent(),a=this.option.range;!a||a.auto?(b.auto=1,this.option.range=b):y(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],b[0]),a[1]=Math.min(a[1],b[1]))},completeVisualOption:function(){fC.prototype.completeVisualOption.apply(this,arguments),d(this.stateList,function(b){var a=this.option.controller[b].symbolSize;a&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var b=this.getExtent(),a=Bo((this.get('range')||[]).slice());return a[0]>b[1]&&(a[0]=b[1]),a[1]>b[1]&&(a[1]=b[1]),a[0]<b[0]&&(a[0]=b[0]),a[1]<b[0]&&(a[1]=b[0]),a},getValueState:function(c){var a=this.option.range,b=this.getExtent();return (a[0]<=b[0]||a[0]<=c)&&(a[1]>=b[1]||c<=a[1])?'inRange':'outOfRange'},findTargetDataIndices:function(b){var a=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(a,e){b[0]<=a&&a<=b[1]&&d.push(e)},this),a.push({seriesId:c.id,dataIndex:d})},this),a},getVisualMeta:function(k){function e(a,c){b.push({value:a,color:k(a,c)})}for(var d=Uy(0,0,this.getExtent()),a=Uy(0,0,this.option.range.slice()),b=[],f=0,c=0,j=a.length,i=d.length;c<i&&(!a.length||d[c]<=a[0]);c++){d[c]<a[f]&&e(d[c],'outOfRange')}for(g=1;f<j;f++,g=0){g&&b.length&&e(a[f],'outOfRange'),e(a[f],'inRange')}for(var g=1;c<i;c++){(!a.length||a[a.length-1]<d[c])&&(g&&(b.length&&e(b[b.length-1].value,'outOfRange'),g=0),e(d[c],'outOfRange'))}var h=b.length;return {stops:b,outerColors:[h?b[0].color:'transparent',h?b[h-1].color:'transparent']}}}),lY=Vs({type:'visualMap',autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(b,a){this.ecModel=b,this.api=a,this.visualMapModel},render:function(a,b,c,d){this.visualMapModel=a,!1!==a.get('show')?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(d){var b=this.visualMapModel,a=cz(b.get('padding')||0),c=d.getBoundingRect();d.add(new aA({z2:-1,silent:!0,shape:{x:c.x-a[3],y:c.y-a[0],width:c.width+a[3]+a[1],height:c.height+a[0]+a[2]},style:{fill:b.get('backgroundColor'),stroke:b.get('borderColor'),lineWidth:b.get('borderWidth')}}))},getControllerVisual:function(g,b,e){function n(c){return a[c]}function o(d,c){a[d]=c}var h=(e=e||{}).forceState,c=this.visualMapModel,a={};if('symbol'===b&&(a.symbol=c.get('itemSymbol')),'color'===b){var i=c.get('contentColor');a.color=i}var f=c.controllerVisuals[h||c.getValueState(g)];return d(aC.prepareVisualTypes(f),function(a){var c=f[a];e.convertOpacityToAlpha&&'opacity'===a&&(a='colorAlpha',c=f.__alphaForOpacity),aC.dependsOn(a,b)&&c&&c.applyVisual(g,n,o)}),a[b]},positionGroup:function(c){var b=this.visualMapModel,a=this.api;ua(c,b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},doRender:B}),bM=Eo,tw=d,f9=Math.min,ez=Math.max,qY=12,m6=6,q5=lY.extend({type:'visualMap.continuous',init:function(){q5.superApply(this,'init',arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(d,b,c,a){a&&'selectDataRange'===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var b=this.visualMapModel,a=this.group;this._orient=b.get('orient'),this._useHandle=b.get('calculable'),this._resetInterval(),this._renderBar(a);var c=b.get('text');this._renderEndsText(a,c,0),this._renderEndsText(a,c,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},_renderEndsText:function(l,e,b){if(e){var a=e[1-b];a=null!=a?a+'':'';var h=this.visualMapModel,c=h.get('textGap'),i=h.itemSize,j=this._shapes.barGroup,g=this._applyTransform([i[0]/2,0===b?-c:i[1]+c],j),k=this._applyTransform(0===b?'bottom':'top',j),f=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new ak({style:{x:g[0],y:g[1],textVerticalAlign:'horizontal'===f?'middle':k,textAlign:'horizontal'===f?k:'center',text:a,textFont:d.getFont(),textFill:d.getTextColor()}}))}},_renderBar:function(j){var d=this.visualMapModel,a=this._shapes,c=d.itemSize,e=this._orient,h=this._useHandle,f=Xy(d,this.api,c),b=a.barGroup=this._createBarGroup(f);b.add(a.outOfRange=Yy()),b.add(a.inRange=Yy(null,h?Qy(this._orient):null,m(this._dragHandle,this,'all',!1),m(this._dragHandle,this,'all',!0)));var i=d.textStyleModel.getTextRect(''),g=ez(i.width,i.height);h&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(b,0,c,g,e,f),this._createHandle(b,1,c,g,e,f)),this._createIndicator(b,c,g,e),j.add(b)},_createHandle:function(l,a,k,b,g){var e=m(this._dragHandle,this,a,!1),h=m(this._dragHandle,this,a,!0),d=Yy(qy(a,b),Qy(this._orient),e,h);d.position[0]=k[0],l.add(d);var f=this.visualMapModel.textStyleModel,i=new ak({draggable:!0,drift:e,onmousemove:function(c){bL(c.event)},ondragend:h,style:{x:0,y:0,text:'',textFont:f.getFont(),textFill:f.getTextColor()}});this.group.add(i);var j=['horizontal'===g?b/2:1.5*b,'horizontal'===g?0===a?-1.5*b:1.5*b:0===a?-b/2:b/2],c=this._shapes;c.handleThumbs[a]=d,c.handleLabelPoints[a]=j,c.handleLabels[a]=i},_createIndicator:function(i,e,f,g){var a=Yy([[0,0]],'move');a.position[0]=e[0],a.attr({invisible:!0,silent:!0}),i.add(a);var c=this.visualMapModel.textStyleModel,d=new ak({silent:!0,invisible:!0,style:{x:0,y:0,text:'',textFont:c.getFont(),textFill:c.getTextColor()}});this.group.add(d);var h=['horizontal'===g?f/2:m6+3,0],b=this._shapes;b.indicator=a,b.indicatorLabel=d,b.indicatorLabelPoint=h},_dragHandle:function(b,a,c,d){if(this._useHandle){if(this._dragging=!a,!a){var e=this._applyTransform([c,d],this._shapes.barGroup,!0);this._updateInterval(b,e[1]),this._updateView()}a===!this.visualMapModel.get('realtime')&&this.api.dispatchAction({type:'selectDataRange',from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?!this._hovering&&this._clearHoverLinkToSeries():Jy(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[b],!1)}},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[bM(b[0],c,d,!0),bM(b[1],c,d,!0)]},_updateInterval:function(f,a){a=a||0;var e=this.visualMapModel,b=this._handleEnds,c=[0,e.itemSize[1]];cY(a,b,c,f,0);var d=e.getExtent();this._dataInterval=[bM(b[0],c,d,!0),bM(b[1],c,d,!0)]},_updateView:function(h){var e=this.visualMapModel,b=e.getExtent(),f=this._shapes,g=[0,e.itemSize[1]],d=h?g:this._handleEnds,a=this._createBarVisual(this._dataInterval,b,d,'inRange'),c=this._createBarVisual(b,b,g,'outOfRange');f.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape('points',a.barPoints),f.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape('points',c.barPoints),this._updateHandle(d,a)},_createBarVisual:function(c,h,d,e){var b={forceState:e,convertOpacityToAlpha:!0},a=this._makeColorGradient(c,b),f=[this.getControllerVisual(c[0],'symbolSize',b),this.getControllerVisual(c[1],'symbolSize',b)],g=this._createBarPoints(d,f);return {barColor:new cH(0,0,0,1,a),barPoints:g,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(a,d){var b=[],f=(a[1]-a[0])/100;b.push({color:this.getControllerVisual(a[0],'color',d),offset:0});for(var c=1;c<100;c++){var e=a[0]+f*c;if(e>a[1]){break}b.push({color:this.getControllerVisual(e,'color',d),offset:c/100})}return b.push({color:this.getControllerVisual(a[1],'color',d),offset:1}),b},_createBarPoints:function(b,c){var a=this.visualMapModel.itemSize;return [[a[0]-c[0],b[0]],[a[0],b[0]],[a[0],b[1]],[a[0]-c[1],b[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get('inverse');return new t('horizontal'!==b||c?'horizontal'===b&&c?{scale:'bottom'===a?[-1,1]:[1,1],rotation:-Math.PI/2}:'vertical'!==b||c?{scale:'left'===a?[1,1]:[-1,1]}:{scale:'left'===a?[1,-1]:[-1,-1]}:{scale:'bottom'===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(f,c){if(this._useHandle){var a=this._shapes,d=this.visualMapModel,e=a.handleThumbs,b=a.handleLabels;tw([0,1],function(g){var h=e[g];h.setStyle('fill',c.handlesColor[g]),h.position[1]=f[g];var i=Io(a.handleLabelPoints[g],Mo(h,this.group));b[g].setStyle({x:i[0],y:i[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:'middle',textAlign:this._applyTransform('horizontal'===this._orient?0===g?'bottom':'top':'left',a.barGroup)})},this)}},_showIndicator:function(k,o,f,p){var c=this.visualMapModel,l=c.getExtent(),j=c.itemSize,q=[0,j[1]],g=bM(k,l,q,!0),b=this._shapes,a=b.indicator;if(a){a.position[1]=g,a.attr('invisible',!1),a.setShape('points',Ky(!!f,p,g,j[1]));var m={convertOpacityToAlpha:!0},n=this.getControllerVisual(k,'color',m);a.setStyle('fill',n);var d=Io(b.indicatorLabelPoint,Mo(a,this.group)),i=b.indicatorLabel;i.attr('invisible',!1);var e=this._applyTransform('left',b.barGroup),h=this._orient;i.setStyle({text:(f||'')+c.formatValueText(o),textVerticalAlign:'horizontal'===h?e:'middle',textAlign:'horizontal'===h?'center':e,x:d[0],y:d[1]})}},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on('mousemove',function(c){if(a._hovering=!0,!a._dragging){var d=a.visualMapModel.itemSize,b=a._applyTransform([c.offsetX,c.offsetY],a._shapes.barGroup,!0,!0);b[1]=f9(ez(0,b[1]),d[1]),a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=d[0])}}).on('mouseout',function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on('mouseover',this._hoverLinkFromSeriesMouseOver,this),a.on('mouseout',this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,k){var c=this.visualMapModel,m=c.itemSize;if(c.option.hoverLink){var a=[0,m[1]],f=c.getExtent();e=f9(ez(a[0],e),a[1]);var d=$y(c,f,a),h=[e-d,e+d],g=bM(e,a,f,!0),b=[bM(h[0],a,f,!0),bM(h[1],a,f,!0)];h[0]<a[0]&&(b[0]=-1/0),h[1]>a[1]&&(b[1]=1/0),k&&(b[0]===-1/0?this._showIndicator(g,b[1],'< ',d):b[1]===1/0?this._showIndicator(g,b[0],'> ',d):this._showIndicator(g,g,' ',d));var l=this._hoverLinkDataIndices,i=[];(k||Jy(c))&&(i=this._hoverLinkDataIndices=c.findTargetDataIndices(b));var j=Ri(l,i);this._dispatchHighDown('downplay',jy(j[0])),this._dispatchHighDown('highlight',jy(j[1]))}},_hoverLinkFromSeriesMouseOver:function(f){var a=f.target,c=this.visualMapModel;if(a&&null!=a.dataIndex){var d=this.ecModel.getSeriesByIndex(a.seriesIndex);if(c.isTargetSeries(d)){var e=d.getData(a.dataType),b=e.get(c.getDataDimension(e),a.dataIndex,!0);isNaN(b)||this._showIndicator(b,b)}}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr('invisible',!0),a.indicatorLabel&&a.indicatorLabel.attr('invisible',!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown('downplay',jy(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off('mouseover',this._hoverLinkFromSeriesMouseOver),a.off('mouseout',this._hideIndicator)},_applyTransform:function(a,b,c,d){var e=Mo(b,d?null:this.group);return a2[y(a)?'applyTransform':'transformDirection'](a,e,c)},_dispatchHighDown:function(b,a){a&&a.length&&this.api.dispatchAction({type:b,batch:a})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});Ps({type:'selectDataRange',event:'dataRangeSelected',update:'update'},function(a,b){b.eachComponent({mainType:'visualMap',query:a},function(c){c.setSelected(a.selected)})}),Ls(lM);var p3=fC.extend({type:'visualMap.piecewise',defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:'auto',itemWidth:20,itemHeight:14,itemSymbol:'roundRect',pieceList:null,categories:null,splitNumber:5,selectedMode:'multiple',itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(d,a){p3.superApply(this,'optionUpdated',arguments),this._pieceList=[],this.resetExtent();var b=this._mode=this._determineMode();o2[this._mode].call(this),this._resetSelected(d,a);var c=this.option.categories;this.resetVisual(function(e,g){'categories'===b?(e.mappingMethod='category',e.categories=i(c)):(e.dataExtent=this.getExtent(),e.mappingMethod='piecewise',e.pieceList=f(this._pieceList,function(b){var b=i(b);return 'inRange'!==g&&(b.visual=null),b}))})},completeVisualOption:function(){function t(a,b,c){return a&&a[b]&&(w(a[b])?a[b].hasOwnProperty(c):a[b]===c)}var a=this.option,b={},c=aC.listVisualTypes(),e=this.isCategory();d(a.pieces,function(a){d(c,function(c){a.hasOwnProperty(c)&&(b[c]=1)})}),d(b,function(f,b){var c=0;d(this.stateList,function(d){c|=t(a,d,b)||t(a.target,d,b)},this),!c&&d(this.stateList,function(c){(a[c]||(a[c]={}))[b]=iE.get(b,'inRange'===c?'active':'inactive',e)})},this),fC.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(g,f){var b=this.option,e=this._pieceList,a=(f?b:g).selected||{};if(b.selected=a,d(e,function(c,d){var b=this.getSelectedMapKey(c);a.hasOwnProperty(b)||(a[b]=!0)},this),'single'===b.selectedMode){var c=!1;d(e,function(d,e){var b=this.getSelectedMapKey(d);a[b]&&(c?a[b]=!1:c=!0)},this)}},getSelectedMapKey:function(a){return 'categories'===this._mode?a.value+'':a.index+''},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?'pieces':this.option.categories?'categories':'splitNumber'},setSelected:function(a){this.option.selected=i(a)},getValueState:function(b){var a=aC.findPieceIndex(b,this._pieceList);return null!=a&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?'inRange':'outOfRange'},findTargetDataIndices:function(b){var a=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(a,e){aC.findPieceIndex(a,this._pieceList)===b&&d.push(e)},this),a.push({seriesId:c.id,dataIndex:d})},this),a},getRepresentValue:function(c){var a;if(this.isCategory()){a=c.value}else {if(null!=c.value){a=c.value}else {var b=c.interval||[];a=b[0]===-1/0&&b[1]===1/0?0:(b[0]+b[1])/2}}return a},getVisualMeta:function(i){function e(a,d){var e=h.getRepresentValue({interval:a});d||(d=h.getValueState(e));var b=i(e,d);a[0]===-1/0?c[0]=b:a[1]===1/0?c[1]=b:g.push({value:a[0],color:b},{value:a[1],color:b})}if(!this.isCategory()){var g=[],c=[],h=this,a=this._pieceList.slice();if(a.length){var b=a[0].interval[0];b!==-1/0&&a.unshift({interval:[-1/0,b]}),(b=a[a.length-1].interval[1])!==1/0&&a.push({interval:[b,1/0]})}else {a.push({interval:[-1/0,1/0]})}var f=-1/0;return d(a,function(b){var a=b.interval;a&&(a[0]>f&&e([f,a[0]],'outOfRange'),e(a.slice()),f=a[1])},this),{stops:g,outerColors:c}}}}),o2={splitNumber:function(){var f=this.option,g=this._pieceList,h=Math.min(f.precision,20),b=this.getExtent(),c=f.splitNumber;c=Math.max(parseInt(c,10),1),f.splitNumber=c;for(var a=(b[1]-b[0])/c;+a.toFixed(h)!==a&&h<5;){h++}f.precision=h,a=+a.toFixed(h);var e=0;f.minOpen&&g.push({index:e++,interval:[-1/0,b[0]],close:[0,0]});for(var i=b[0],j=e+c;e<j;i+=a){var k=e===c-1?b[1]:i+a;g.push({index:e++,interval:[i,k],close:[1,1]})}f.maxOpen&&g.push({index:e++,interval:[b[1],1/0],close:[0,0]}),qo(g),d(g,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;d(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this),tx(a,this._pieceList)},pieces:function(){var b=this.option,a=this._pieceList;d(b.pieces,function(e,k){w(e)||(e={value:e});var d={text:'',index:k};if(null!=e.label&&(d.text=e.label),e.hasOwnProperty('value')){var i=d.value=e.value;d.interval=[i,i],d.close=[1,1]}else {for(var c=d.interval=[],g=d.close=[0,0],m=[1,0,1],l=[-1/0,1/0],h=[],b=0;b<2;b++){for(var j=[['gte','gt','min'],['lte','lt','max']][b],f=0;f<3&&null==c[b];f++){c[b]=e[j[f]],g[b]=m[f],h[b]=2===f}null==c[b]&&(c[b]=l[b])}h[0]&&c[1]===1/0&&(g[0]=0),h[1]&&c[0]===-1/0&&(g[1]=0),c[0]===c[1]&&g[0]&&g[1]&&(d.value=c[0])}d.visual=aC.retrieveVisuals(e),a.push(d)},this),tx(b,a),qo(a),d(a,function(a){var b=a.close,c=[['<',''][b[1]],['>',''][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}};lY.extend({type:'visualMap.piecewise',doRender:function(){var b=this.group;b.removeAll();var a=this.visualMapModel,h=a.get('textGap'),j=a.textStyleModel,l=j.getFont(),k=j.getTextColor(),f=this._getItemAlign(),c=a.itemSize,i=this._getViewData(),e=i.endsText,g=T(a.get('showLabel',!0),!e);e&&this._renderEndsText(b,e[0],c,g,f),d(i.viewPieceList,function(j){var e=j.piece,d=new t();d.onclick=m(this._onItemClick,this,e),this._enableHoverLink(d,j.indexInModelPieceList);var i=a.getRepresentValue(e);if(this._createItemSymbol(d,i,[0,0,c[0],c[1]]),g){var n=this.visualMapModel.getValueState(i);d.add(new ak({style:{x:'right'===f?-h:c[0]+h,y:c[1]/2,text:e.text,textVerticalAlign:'middle',textAlign:f,textFont:l,textFill:k,opacity:'outOfRange'===n?0.5:1}}))}b.add(d)},this),e&&this._renderEndsText(b,e[1],c,g,f),dX(a.get('orient'),b,a.get('itemGap')),this.renderBackground(b),this.positionGroup(b)},_enableHoverLink:function(b,a){function i(d){var c=this.visualMapModel;c.option.hoverLink&&this.api.dispatchAction({type:d,batch:jy(c.findTargetDataIndices(a))})}b.on('mouseover',m(i,this,'highlight')).on('mouseout',m(i,this,'downplay'))},_getItemAlign:function(){var b=this.visualMapModel,c=b.option;if('vertical'===c.orient){return Xy(b,this.api,b.itemSize)}var a=c.align;return a&&'auto'!==a||(a='left'),a},_renderEndsText:function(g,c,a,d,e){if(c){var b=new t(),f=this.visualMapModel.textStyleModel;b.add(new ak({style:{x:d?'right'===e?a[0]:0:a[0]/2,y:a[1]/2,textVerticalAlign:'middle',textAlign:d?e:'center',text:c,textFont:f.getFont(),textFill:f.getTextColor()}})),g.add(b)}},_getViewData:function(){var b=this.visualMapModel,c=f(b.getPieceList(),function(b,a){return {piece:b,indexInModelPieceList:a}}),a=b.get('text'),e=b.get('orient'),d=b.get('inverse');return ('horizontal'===e?d:!d)?c.reverse():a&&(a=a.slice().reverse()),{viewPieceList:c,endsText:a}},_createItemSymbol:function(c,b,a){c.add(Xl(this.getControllerVisual(b,'symbol'),a[0],a[1],a[2],a[3],this.getControllerVisual(b,'color')))},_onItemClick:function(f){var c=this.visualMapModel,e=c.option,a=i(e.selected),b=c.getSelectedMapKey(f);'single'===e.selectedMode?(a[b]=!0,d(a,function(d,c){a[c]=c===b})):a[b]=!a[b],this.api.dispatchAction({type:'selectDataRange',from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}});Ls(lM);var j_=$o,hD=Qo,eG=Bs({type:'marker',dependencies:['series','grid','polar','geo'],init:function(b,d,a,c){this.mergeDefaultAndTheme(b,a),this.mergeOption(b,a,c.createdBySelf,!0)},isAnimationEnabled:function(){if(aq.node){return !1}var a=this.__hostSeries;return this.getShallow('animation')&&a&&a.isAnimationEnabled()},mergeOption:function(h,b,e,f){var g=this.constructor,c=this.mainType+'Model';e||b.eachSeries(function(i){var j=i.get(this.mainType,!0),k=i[c];j&&j.data?(k?k.mergeOption(j,b,!0):(f&&ex(j),d(j.data,function(a){a instanceof Array?(ex(a[0]),ex(a[1])):ex(a)}),a(k=new g(j,this,b),{mainType:this.mainType,seriesIndex:i.seriesIndex,name:i.name,createdBySelf:!0}),k.__hostSeries=i),i[c]=k):i[c]=null},this)},formatTooltip:function(d){var e=this.getData(),a=this.getRawValue(d),g=y(a)?f(a,j_).join(', '):j_(a),c=e.getName(d),b=hD(this.name);return (null!=a||c)&&(b+='<br />'),c&&(b+=hD(c),null!=a&&(b+=' : ')),null!=a&&(b+=hD(g)),b},getData:function(){return this._data},setData:function(a){this._data=a}});h(eG,g3),eG.extend({type:'markPoint',defaultOption:{zlevel:0,z:5,symbol:'pin',symbolSize:50,tooltip:{trigger:'item'},label:{show:!0,position:'inside'},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var jH=l,gE=v,g4={min:gE(ox,'min'),max:gE(ox,'max'),average:gE(ox,'average')},ij=Vs({type:'marker',init:function(){this.markerGroupMap=R()},render:function(e,a,c){var b=this.markerGroupMap;b.each(function(b){b.__keep=!1});var d=this.type+'Model';a.eachSeries(function(f){var b=f[d];b&&this.renderSeries(f,b,a,c)},this),b.each(function(b){!b.__keep&&this.group.remove(b.group)},this)},renderSeries:function(){}});ij.extend({type:'markPoint',updateTransform:function(c,a,b){a.eachSeries(function(e){var d=e.markPointModel;d&&(cx(d.getData(),e,b),this.markerGroupMap.get(e.id).updateLayout(d))},this)},renderSeries:function(b,a,j,g){var h=b.coordinateSystem,e=b.id,i=b.getData(),f=this.markerGroupMap,d=f.get(e)||f.set(e,new Su()),c=dx(h,b,a);a.setData(c),cx(a.getData(),b,g),c.each(function(e){var f=c.getItemModel(e),d=f.getShallow('symbolSize');'function'==typeof d&&(d=d(a.getRawValue(e),a.getDataParams(e))),c.setItemVisual(e,{symbolSize:d,color:f.get('itemStyle.color')||i.getVisual('color'),symbol:f.getShallow('symbol')})}),d.updateData(c),this.group.add(d.group),c.eachItemGraphicEl(function(c){c.traverse(function(d){d.dataModel=a})}),d.__keep=!0,d.group.silent=a.get('silent')||b.get('silent')}}),Ls(function(a){a.markPoint=a.markPoint||{}}),eG.extend({type:'markLine',defaultOption:{zlevel:0,z:5,symbol:['circle','arrow'],symbolSize:[8,16],precision:2,tooltip:{trigger:'item'},label:{show:!0,position:'end'},lineStyle:{type:'dashed'},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:'linear'}});var pF=function(h,l,q,b){var p=h.getData(),d=b.type;if(!y(b)&&('min'===d||'max'===d||'average'===d||'median'===d||null!=b.xAxis||null!=b.yAxis)){var f,c;if(null!=b.yAxis||null!=b.xAxis){f=null!=b.yAxis?'y':'x',l.getAxis(f),c=T(b.yAxis,b.xAxis)}else {var k=rx(b,p,l,h);f=k.valueDataDim,k.valueAxis,c=hx(p,f,d)}var j='x'===f?0:1,m=1-j,e=i(b),g={};e.type=null,e.coord=[],g.coord=[],e.coord[m]=-1/0,g.coord[m]=1/0;var o=q.get('precision');o>=0&&'number'==typeof c&&(c=+c.toFixed(Math.min(o,20))),e.coord[j]=g.coord[j]=c,b=[e,g,{type:d,valueIndex:b.valueIndex,value:c}]}return b=[ax(h,b[0]),ax(h,b[1]),a({},b[2])],b[2].type=b[2].type||'',n(b[2],b[0]),n(b[2],b[1]),b};ij.extend({type:'markLine',updateTransform:function(c,b,a){b.eachSeries(function(e){var d=e.markLineModel;if(d){var h=d.getData(),f=d.__from,g=d.__to;f.each(function(d){mx(f,d,!0,e,a),mx(g,d,!1,e,a)}),h.each(function(d){h.setItemLayout(d,[f.getItemLayout(d),g.getItemLayout(d)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(d,a,p,m){function o(c,e,g){var b=c.getItemModel(e);mx(c,e,g,d,m),c.setItemVisual(e,{symbolSize:b.get('symbolSize')||f[g?0:1],symbol:b.get('symbol',!0)||h[g?0:1],color:b.get('itemStyle.color')||n.getVisual('color')})}var l=d.coordinateSystem,k=d.id,n=d.getData(),j=this.markerGroupMap,i=j.get(k)||j.set(k,new Jd());this.group.add(i.group);var g=vx(l,d,a),c=g.from,e=g.to,b=g.line;a.__from=c,a.__to=e,a.setData(b);var h=a.get('symbol'),f=a.get('symbolSize');y(h)||(h=[h,h]),'number'==typeof f&&(f=[f,f]),g.from.each(function(b){o(c,b,!0),o(e,b,!1)}),b.each(function(f){var g=b.getItemModel(f).get('lineStyle.color');b.setItemVisual(f,{color:g||c.getItemVisual(f,'color')}),b.setItemLayout(f,[c.getItemLayout(f),e.getItemLayout(f)]),b.setItemVisual(f,{fromSymbolSize:c.getItemVisual(f,'symbolSize'),fromSymbol:c.getItemVisual(f,'symbol'),toSymbolSize:e.getItemVisual(f,'symbolSize'),toSymbol:e.getItemVisual(f,'symbol')})}),i.updateData(b),g.line.eachItemGraphicEl(function(b,c){b.traverse(function(e){e.dataModel=a})}),i.__keep=!0,i.group.silent=a.get('silent')||d.get('silent')}}),Ls(function(a){a.markLine=a.markLine||{}}),eG.extend({type:'markArea',defaultOption:{zlevel:0,z:1,tooltip:{trigger:'item'},animation:!1,label:{show:!0,position:'top'},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:'top'}}}});var pb=function(h,i,j,g){var b=ax(h,g[0]),c=ax(h,g[1]),e=T,d=b.coord,f=c.coord;d[0]=e(d[0],-1/0),d[1]=e(d[1],-1/0),f[0]=e(f[0],1/0),f[1]=e(f[1],1/0);var a=o([{},b,c]);return a.coord=[b.coord,c.coord],a.x0=b.x,a.y0=b.y,a.x1=c.x,a.y1=c.y,a},kB=[['x0','y0'],['x1','y0'],['x1','y1'],['x0','y1']];ij.extend({type:'markArea',updateTransform:function(c,a,b){a.eachSeries(function(g){var e=g.markAreaModel;if(e){var d=e.getData();d.each(function(e){var h=f(kB,function(f){return bx(d,e,f,g,b)});d.setItemLayout(e,h),d.getItemGraphicEl(e).setShape('points',h)})}},this)},renderSeries:function(d,c,k,h){var i=d.coordinateSystem,e=d.id,j=d.getData(),g=this.markerGroupMap,b=g.get(e)||g.set(e,{group:new t()});this.group.add(b.group),b.__keep=!0;var a=Sx(i,d,c);c.setData(a),a.each(function(b){a.setItemLayout(b,f(kB,function(e){return bx(a,b,e,d,h)})),a.setItemVisual(b,{color:j.getVisual('color')})}),a.diff(b.__data).add(function(f){var e=new aY({shape:{points:a.getItemLayout(f)}});a.setItemGraphicEl(f,e),b.group.add(e)}).update(function(f,g){var e=b.__data.getItemGraphicEl(g);bo(e,{shape:{points:a.getItemLayout(f)}},c,f),b.group.add(e),a.setItemGraphicEl(f,e)}).remove(function(e){var a=b.__data.getItemGraphicEl(e);b.group.remove(a)}).execute(),a.eachItemGraphicEl(function(b,e){var f=a.getItemModel(e),j=f.getModel('label'),i=f.getModel('emphasis.label'),g=a.getItemVisual(e,'color');b.useStyle(r(f.getModel('itemStyle').getItemStyle(),{fill:Ut(g,0.4),stroke:g})),b.hoverStyle=f.getModel('emphasis.itemStyle').getItemStyle(),co(b.style,b.hoverStyle,j,i,{labelFetcher:c,labelDataIndex:e,defaultText:a.getName(e)||'',isRectText:!0,autoColor:g}),uo(b,{}),b.dataModel=c}),b.__data=a,b.group.silent=c.get('silent')||d.get('silent')}}),Ls(function(a){a.markArea=a.markArea||{}});aw.registerSubTypeDefaulter('timeline',function(){return 'slider'}),Ps({type:'timelineChange',event:'timelineChanged',update:'prepareAndUpdate'},function(b,c){var a=c.getComponent('timeline');return a&&null!=b.currentIndex&&(a.setCurrentIndex(b.currentIndex),!a.get('loop',!0)&&a.isIndexMax()&&a.setPlayState(!1)),c.resetOption('timeline'),r({currentIndex:a.option.currentIndex},b)}),Ps({type:'timelinePlayChange',event:'timelinePlayChanged',update:'update'},function(b,c){var a=c.getComponent('timeline');a&&null!=b.playState&&a.setPlayState(b.playState)});var jL=aw.extend({type:'timeline',layoutMode:'box',defaultOption:{zlevel:0,z:4,show:!0,axisType:'time',realtime:!0,left:'20%',top:null,right:'20%',bottom:0,width:null,height:40,padding:5,controlPosition:'left',autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:'#000'},data:[]},init:function(b,c,a){this._data,this._names,this.mergeDefaultAndTheme(b,a),this._initData()},mergeOption:function(a){jL.superApply(this,'mergeOption',arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),a<0&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var f=this.option,a=f.data||[],c=f.axisType,e=this._names=[];if('category'===c){var b=[];d(a,function(d,f){var c,a=Li(d);w(d)?(c=i(d)).value=f:c=f,b.push(c),_(a)||null!=a&&!isNaN(a)||(a=''),e.push(a+'')}),a=b}var g={category:'ordinal',time:'time'}[c]||'number';(this._data=new aH([{name:'value',type:g}],this)).initData(a,e)},getData:function(){return this._data},getCategories:function(){if('category'===this.get('axisType')){return this._names.slice()}}});h(jL.extend({type:'timeline.slider',defaultOption:{backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderWidth:0,orient:'horizontal',inverse:!1,tooltip:{trigger:'item'},symbol:'emptyCircle',symbolSize:10,lineStyle:{show:!0,width:2,color:'#304654'},label:{position:'auto',show:!0,interval:'auto',rotate:0,color:'#304654'},itemStyle:{color:'#304654',borderWidth:1},checkpointStyle:{symbol:'circle',symbolSize:13,color:'#c23531',borderWidth:5,borderColor:'rgba(194,53,49, 0.5)',animation:!0,animationDuration:300,animationEasing:'quinticInOut'},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:'left',playIcon:'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',stopIcon:'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',nextIcon:'path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z',prevIcon:'path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z',color:'#304654',borderColor:'#304654',borderWidth:1},emphasis:{label:{show:!0,color:'#c23531'},itemStyle:{color:'#c23531'},controlStyle:{color:'#c23531',borderColor:'#c23531',borderWidth:2}},data:[]}}),g3);var pT=a8.extend({type:'timeline'}),gj=function(d,a,b,c){aF.call(this,d,a,b),this.type=c||'value',this.model=null};gj.prototype={constructor:gj,getLabelModel:function(){return this.model.getModel('label')},isHorizontal:function(){return 'horizontal'===this.model.get('orient')}},u(gj,aF);var bS=m,hI=d,gQ=Math.PI;pT.extend({type:'timeline.slider',init:function(b,a){this.api=a,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(a,f,d,h){if(this.model=a,this.api=d,this.ecModel=f,this.group.removeAll(),a.get('show',!0)){var b=this._layout(a,d),e=this._createGroup('mainGroup'),g=this._createGroup('labelGroup'),c=this._axis=this._createAxis(b,a);a.formatTooltip=function(b){return Qo(c.scale.getLabel(b))},hI(['AxisLine','AxisTick','Control','CurrentPointer'],function(g){this['_render'+g](b,e,c,a)},this),this._renderAxisLabel(b,g,c,a),this._position(b,a)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(b,k){var a=b.get('label.position'),d=b.get('orient'),e=Ax(b,k);null==a||'auto'===a?a='horizontal'===d?e.y+e.height/2<k.getHeight()/2?'-':'+':e.x+e.width/2<k.getWidth()/2?'+':'-':isNaN(a)&&(a={horizontal:{top:'-',bottom:'+'},vertical:{left:'-',right:'+'}}[d][a]);var w={horizontal:'center',vertical:a>=0||'+'===a?'left':'right'},x={horizontal:a>=0||'+'===a?'top':'bottom',vertical:'middle'},y={horizontal:0,vertical:gQ/2},t='vertical'===d?e.height:e.width,f=b.getModel('controlStyle'),j=f.get('show',!0),i=j?f.get('itemSize'):0,s=j?f.get('itemGap'):0,g=i+s,n=b.get('label.rotate')||0;n=n*gQ/180;var l,m,o,p,v=f.get('position',!0),q=j&&f.get('showPlayBtn',!0),u=j&&f.get('showPrevBtn',!0),r=j&&f.get('showNextBtn',!0),h=0,c=t;return 'left'===v||'bottom'===v?(q&&(l=[0,0],h+=g),u&&(m=[h,0],h+=g),r&&(o=[c-i,0],c-=g)):(q&&(l=[c-i,0],c-=g),u&&(m=[0,0],h+=g),r&&(o=[c-i,0],c-=g)),p=[h,c],b.get('inverse')&&p.reverse(),{viewRect:e,mainLength:t,orient:d,rotation:y[d],labelRotation:n,labelPosOpt:a,labelAlign:b.get('label.align')||w[d],labelBaseline:b.get('label.verticalAlign')||b.get('label.baseline')||x[d],playPosition:l,prevBtnPosition:m,nextBtnPosition:o,axisExtent:p,controlSize:i,controlGap:s}},_position:function(j,r){function i(c){var a=c.position;c.origin=[b[0][0]-a[0],b[1][0]-a[1]]}function n(a){return [[a.x,a.x+a.width],[a.y,a.y+a.height]]}function o(e,c,d,a,b){e[a]+=d[a][b]-c[a][b]}var d=this._mainGroup,f=this._labelGroup,c=j.viewRect;if('vertical'===j.orient){var a=mt(),p=c.x,m=c.y+c.height;_t(a,a,[-p,-m]),wt(a,a,-gQ/2),_t(a,a,[p,m]),(c=c.clone()).applyTransform(a)}var b=n(c),l=n(d.getBoundingRect()),q=n(f.getBoundingRect()),e=d.position,g=f.position;g[0]=e[0]=b[0][0];var h=j.labelPosOpt;if(isNaN(h)){o(e,l,b,1,k='+'===h?0:1),o(g,q,b,1,1-k)}else {var k=h>=0?0:1;o(e,l,b,1,k),g[1]=e[1]+h}d.attr('position',e),f.attr('position',g),d.rotation=f.rotation=j.rotation,i(d),i(f)},_createAxis:function(g,a){var d=a.getData(),e=a.get('axisType'),b=Vl(a,e);b.getTicks=function(){return d.mapArray(['value'],function(b){return b})};var c=d.getDataExtent('value');b.setExtent(c[0],c[1]),b.niceTicks();var f=new gj('value',b,g.axisExtent,e);return f.model=a,f},_createGroup:function(b){var a=this['_'+b]=new t();return this.group.add(a),a},_renderAxisLine:function(f,d,e,b){var c=e.getExtent();b.get('lineStyle.show')&&d.add(new aU({shape:{x1:c[0],y1:0,x2:c[1],y2:0},style:a({lineCap:'round'},b.getModel('lineStyle').getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(f,d,a,b){var e=b.getData(),c=a.scale.getTicks();hI(c,function(h){var i=a.dataToCoord(h),g=e.getItemModel(h),k=g.getModel('itemStyle'),j=g.getModel('emphasis.itemStyle'),l={position:[i,0],onclick:bS(this._changeTimeline,this,h)},c=Cx(g,k,d,l);uo(c,j.getItemStyle()),g.get('tooltip')?(c.dataIndex=h,c.dataModel=b):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(a,d,b,e){if(b.getLabelModel().get('show')){var f=e.getData(),c=b.getViewLabels();hI(c,function(g){var h=g.tickValue,i=f.getItemModel(h),k=i.getModel('label'),j=i.getModel('emphasis.label'),l=b.dataToCoord(g.tickValue),c=new ak({position:[l,0],rotation:a.labelRotation-a.rotation,onclick:bS(this._changeTimeline,this,h),silent:!1});fo(c.style,k,{text:g.formattedLabel,textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline}),d.add(c),uo(c,fo({},j))},this)}},_renderControl:function(b,f,k,a){function o(e,m,n,l){if(e){var d=Dx(a,m,j,{position:e,origin:[c/2,0],rotation:l?-h:0,rectHover:!0,style:i,onclick:n});f.add(d),uo(d,g)}}var c=b.controlSize,h=b.rotation,i=a.getModel('controlStyle').getItemStyle(),g=a.getModel('emphasis.controlStyle').getItemStyle(),j=[0,-c/2,c,c],e=a.getPlayState(),d=a.get('inverse',!0);o(b.nextBtnPosition,'controlStyle.nextIcon',bS(this._changeTimeline,this,d?'-':'+')),o(b.prevBtnPosition,'controlStyle.prevIcon',bS(this._changeTimeline,this,d?'+':'-')),o(b.playPosition,'controlStyle.'+(e?'stopIcon':'playIcon'),bS(this._handlePlayClick,this,!e),!0)},_renderCurrentPointer:function(i,h,d,a){var g=a.getData(),c=a.getCurrentIndex(),e=g.getItemModel(c).getModel('checkpointStyle'),b=this,f={onCreate:function(e){e.draggable=!0,e.drift=bS(b._handlePointerDrag,b),e.ondragend=bS(b._handlePointerDragend,b),Lx(e,c,d,a,!0)},onUpdate:function(b){Lx(b,c,d,a)}};this._currentPointer=Cx(e,e,this._mainGroup,{},this._currentPointer,f)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:'timelinePlayChange',playState:a,from:this.uid})},_handlePointerDrag:function(c,b,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(f,e){var a=this._toAxisCoord(f)[0],b=Bo(this._axis.getExtent().slice());a>b[1]&&(a=b[1]),a<b[0]&&(a=b[0]),this._currentPointer.position[0]=a,this._currentPointer.dirty();var d=this._findNearestTick(a),c=this.model;(e||d!==c.getCurrentIndex()&&c.get('realtime'))&&this._changeTimeline(d)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(bS(function(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get('rewind',!0)?-1:1))},this),this.model.get('playInterval')))},_toAxisCoord:function(a){return Io(a,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var a,c=this.model.getData(),b=1/0,d=this._axis;return c.each(['value'],function(g,f){var h=d.dataToCoord(g),c=Math.abs(h-e);c<b&&(b=c,a=f)}),a},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();'+'===a?a=b+1:'-'===a&&(a=b-1),this.api.dispatchAction({type:'timelineChange',currentIndex:a,from:this.uid})}}),Ls(function(b){var a=b&&b.timeline;y(a)||(a=a?[a]:[]),d(a,function(a){a&&Mx(a)})});var n9=Bs({type:'toolbox',layoutMode:{type:'box',ignoreSize:!0},optionUpdated:function(){n9.superApply(this,'optionUpdated',arguments),d(this.option.feature,function(c,b){var a=xy(b);a&&n(c,a.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:'horizontal',left:'right',top:'top',backgroundColor:'transparent',borderColor:'#ccc',borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:'#666',color:'none'},emphasis:{iconStyle:{borderColor:'#3E98C5'}}}});Vs({type:'toolbox',render:function(e,f,b,k){function o(n,o){var c,d=h[n],l=h[o],g=new Lo(i[d],e,e.ecModel);if(d&&!l){if(kx(d)){c={model:g,onclick:g.option.onclick,featureName:d}}else {var m=xy(d);if(!m){return}c=new m(g,f,b)}j[d]=c}else {if(!(c=j[l])){return}c.model=g,c.ecModel=f,c.api=b}d||!l?g.get('show')&&!c.unusable?(a(g,c,d),g.setIconStatus=function(c,d){var a=this.option,g=this.iconPaths;a.iconStatus=a.iconStatus||{},a.iconStatus[c]=d,g[c]&&g[c].trigger(d)},c.render&&c.render(g,f,b,k)):c.remove&&c.remove(f,b):c.dispose&&c.dispose(f,b)}function a(a,j,l){var q=a.getModel('iconStyle'),n=a.getModel('emphasis.iconStyle'),i=j.getIcons?j.getIcons():a.get('icon'),h=a.get('title')||{};if('string'==typeof i){var o=i,r=h;h={},(i={})[l]=o,h[l]=r}var p=a.iconPaths={};d(i,function(o,i){var d=Co(o,{},{x:-g/2,y:-g/2,width:g,height:g});d.setStyle(q.getItemStyle()),d.hoverStyle=n.getItemStyle(),uo(d),e.get('showTitle')&&(d.__title=h[i],d.on('mouseover',function(){var c=n.getItemStyle();d.setStyle({text:h[i],textPosition:c.textPosition||'bottom',textFill:c.fill||c.stroke||'#000',textAlign:c.textAlign||'center'})}).on('mouseout',function(){d.setStyle({textFill:null})})),d.trigger(a.get('iconStatus.'+i)||'normal'),c.add(d),d.on('click',m(j.onclick,j,f,b,i)),p[i]=d})}var c=this.group;if(c.removeAll(),e.get('show')){var g=+e.get('itemSize'),i=e.get('feature')||{},j=this._features||(this._features={}),h=[];d(i,function(c,a){h.push(a)}),(new Hs(this._featureNames||[],h)).add(o).update(o).remove(v(o,null)).execute(),this._featureNames=h,dv(c,e,b),c.add(fv(c.getBoundingRect(),e)),c.eachChild(function(h){var j=h.__title,a=h.hoverStyle;if(a&&j){var d=De(j,He(a)),i=h.position[0]+c.position[0],l=!1;h.position[1]+c.position[1]+g+d.height>b.getHeight()&&(a.textPosition='top',l=!0);var m=l?-5-d.height:g+8;i+d.width/2>b.getWidth()?(a.textPosition=['100%',m],a.textAlign='right'):i-d.width/2<0&&(a.textPosition=[0,m],a.textAlign='left')}})}},updateView:function(e,a,b,c){d(this._features,function(d){d.updateView&&d.updateView(d.model,a,b,c)})},remove:function(b,a){d(this._features,function(c){c.remove&&c.remove(b,a)}),this.group.removeAll()},dispose:function(b,a){d(this._features,function(c){c.dispose&&c.dispose(b,a)})}});var k1=b0.toolbox.saveAsImage;Px.defaultOption={show:!0,icon:'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',title:k1.title,type:'png',name:'',excludeComponents:['toolbox'],pixelRatio:1,lang:k1.lang.slice()},Px.prototype.unusable=!aq.canvasSupported,Px.prototype.onclick=function(i,l){var a=this.model,g=a.get('name')||i.get('title.0.text')||'echarts',c=document.createElement('a'),d=a.get('type',!0)||'png';c.download=g+'.'+d,c.target='_blank';var e=l.getConnectedDataURL({type:d,backgroundColor:a.get('backgroundColor',!0)||i.get('backgroundColor')||'#fff',excludeComponents:a.get('excludeComponents'),pixelRatio:a.get('pixelRatio')});if(c.href=e,'function'!=typeof MouseEvent||aq.browser.ie||aq.browser.edge){if(window.navigator.msSaveOrOpenBlob){for(var h=atob(e.split(',')[1]),b=h.length,j=new Uint8Array(b);b--;){j[b]=h.charCodeAt(b)}var n=new Blob([j]);window.navigator.msSaveOrOpenBlob(n,g+'.'+d)}else {var f=a.get('lang'),k='<body style="margin:0;"><img src="'+e+'" style="max-width:100%;" title="'+(f&&f[0]||'')+'" /></body>';window.open().document.write(k)}}else {var m=new MouseEvent('click',{view:window,bubbles:!0,cancelable:!1});c.dispatchEvent(m)}},yy('saveAsImage',Px);var ow=b0.toolbox.magicType;Nx.defaultOption={show:!0,type:[],icon:{line:'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',bar:'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',stack:'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z',tiled:'M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z'},title:i(ow.title),option:{},seriesIndex:{}};var k9=Nx.prototype;k9.getIcons=function(){var c=this.model,a=c.get('icon'),b={};return d(c.get('type'),function(c){a[c]&&(b[c]=a[c])}),b};var kT={line:function(d,b,a,c){if('bar'===d){return n({id:b,type:'line',data:a.get('data'),stack:a.get('stack'),markPoint:a.get('markPoint'),markLine:a.get('markLine')},c.get('option.line')||{},!0)}},bar:function(d,b,a,c){if('line'===d){return n({id:b,type:'bar',data:a.get('data'),stack:a.get('stack'),markPoint:a.get('markPoint'),markLine:a.get('markLine')},c.get('option.bar')||{},!0)}},stack:function(a,b,d,c){if('line'===a||'bar'===a){return n({id:b,stack:'__ec_magicType_stack__'},c.get('option.stack')||{},!0)}},tiled:function(a,b,d,c){if('line'===a||'bar'===a){return n({id:b,stack:''},c.get('option.tiled')||{},!0)}}},qJ=[['line','bar'],['stack','tiled']];k9.onclick=function(f,g,a){var c=this.model,e=c.get('seriesIndex.'+a);if(kT[a]){var b={series:[]};d(qJ,function(b){l(b,a)>=0&&d(b,function(d){c.setIconStatus(d,'normal')})}),c.setIconStatus(a,'emphasis'),f.eachComponent({mainType:'series',query:null==e?null:{seriesIndex:e}},function(d){var m=d.subType,n=d.id,i=kT[a](m,n,d,c);i&&(r(i,d.option),b.series.push(i));var j=d.coordinateSystem;if(j&&'cartesian2d'===j.type&&('line'===a||'bar'===a)){var l=j.getAxesByScale('ordinal')[0];if(l){var e=l.dim+'Axis',h=f.queryComponents({mainType:e,index:d.get(name+'Index'),id:d.get(name+'Id')})[0].componentIndex;b[e]=b[e]||[];for(var k=0;k<=h;k++){b[e][h]=b[e][h]||{}}b[e][h].boundaryGap='bar'===a}}}),g.dispatchAction({type:'changeMagicType',currentType:a,newOption:b})}},Ps({type:'changeMagicType',event:'magicTypeChanged',update:'prepareAndUpdate'},function(b,a){a.mergeOption(b.newOption)}),yy('magicType',Nx);var l5=b0.toolbox.dataView,fj=(new Array(60)).join('-'),cN='\t',g2=new RegExp('['+cN+']+','g');Hx.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',title:i(l5.title),lang:i(l5.lang),backgroundColor:'#fff',textColor:'#000',textareaColor:'#fff',textareaBorderColor:'#333',buttonColor:'#c23531',buttonTextColor:'#fff'},Hx.prototype.onclick=function(s,e){function i(){j.removeChild(c),t._dom=null}var j=e.getDom(),a=this.model;this._dom&&j.removeChild(this._dom);var c=document.createElement('div');c.style.cssText='position:absolute;left:5px;top:5px;bottom:5px;right:5px;',c.style.backgroundColor=a.get('backgroundColor')||'#fff';var k=document.createElement('h4'),n=a.get('lang')||[];k.innerHTML=n[0]||a.get('title'),k.style.cssText='margin: 10px 20px;',k.style.color=a.get('textColor');var d=document.createElement('div'),b=document.createElement('textarea');d.style.cssText='display:block;width:100%;overflow:auto;';var q=a.get('optionToContent'),o=a.get('contentToOption'),p=zx(s);if('function'==typeof q){var f=q(e.getOption());'string'==typeof f?d.innerHTML=f:M(f)&&d.appendChild(f)}else {d.appendChild(b),b.readOnly=a.get('readOnly'),b.style.cssText='width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;',b.style.color=a.get('textColor'),b.style.borderColor=a.get('textareaBorderColor'),b.style.backgroundColor=a.get('textareaColor'),b.value=p.value}var r=p.meta,g=document.createElement('div');g.style.cssText='position:absolute;bottom:0;left:0;right:0;';var h='float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px',l=document.createElement('div'),m=document.createElement('div');h+=';background-color:'+a.get('buttonColor'),h+=';color:'+a.get('buttonTextColor');var t=this;ut(l,'click',i),ut(m,'click',function(){var a;try{a='function'==typeof o?o(d,e.getOption()):Wx(b.value,r)}catch(tN){throw i(),new Error('Data view format error '+tN)}a&&e.dispatchAction({type:'changeDataView',newOption:a}),i()}),l.innerHTML=n[1],m.innerHTML=n[2],m.style.cssText=h,l.style.cssText=h,!a.get('readOnly')&&g.appendChild(m),g.appendChild(l),ut(b,'keydown',function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+cN+b.substring(d),this.selectionStart=this.selectionEnd=c+1,bL(a)}}),c.appendChild(k),c.appendChild(d),c.appendChild(g),d.style.height=j.clientHeight-80+'px',j.appendChild(c),this._dom=c},Hx.prototype.remove=function(b,a){this._dom&&a.getDom().removeChild(this._dom)},Hx.prototype.dispose=function(b,a){this.remove(b,a)},yy('dataView',Hx),Ps({type:'changeDataView',event:'dataViewChanged',update:'prepareAndUpdate'},function(e,c){var b=[];d(e.newOption.series,function(d){var f=c.getSeriesByName(d.name)[0];if(f){var g=f.get('data');b.push({name:d.name,data:Zx(d.data,g)})}else {b.push(a({type:'scatter'},d))}}),c.mergeOption(r({series:b},e.newOption))});var jb=d,gZ='\x00_ec_hist_store';gC.extend({type:'dataZoom.select'}),hH.extend({type:'dataZoom.select'});var pL=b0.toolbox.dataZoom,mU=d,rF='\x00_ec_\x00toolbox-dataZoom_';Kx.defaultOption={show:!0,icon:{zoom:'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',back:'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'},title:i(pL.title)};var dz=Kx.prototype;dz.render=function(b,a,c,d){this.model=b,this.ecModel=a,this.api=c,Qx(b,a,this,d,c),Jx(b,a)},dz.onclick=function(c,b,a){sE[a].call(this)},dz.remove=function(b,a){this._brushController.unmount()},dz.dispose=function(b,a){this._brushController.dispose()};var sE={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:'takeGlobalCursor',key:'dataZoomSelect',dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(Xx(this.ecModel))}};dz._onBrush=function(c,d){function i(j,k,e){var h=k.getAxis(j),i=h.model,f=n(j,i,a),g=f.findRepresentativeAxisProxy(i).getMinMaxSpan();null==g.minValueSpan&&null==g.maxValueSpan||(e=cY(0,e.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),f&&(b[f.id]={dataZoomId:f.id,startValue:e[0],endValue:e[1]})}function n(f,b,e){var a;return e.eachComponent({mainType:'dataZoom',subType:'select'},function(g){g.getAxisModel(f,b.componentIndex)&&(a=g)}),a}if(d.isEnd&&c.length){var b={},a=this.ecModel;this._brushController.updateCovers([]),(new iy($x(this.model.option),a,{include:['grid']})).matchOutputRanges(c,a,function(f,b,a){if('cartesian2d'===a.type){var e=f.brushType;'rect'===e?(i('x',a,b[0]),i('y',a,b[1])):i({lineX:'x',lineY:'y'}[e],a,b)}}),Ux(a,b),this._dispatchZoomAction(b)}},dz._dispatchZoomAction=function(b){var a=[];mU(b,function(c,d){a.push(i(c))}),a.length&&this.api.dispatchAction({type:'dataZoom',from:this.uid,batch:a})},yy('dataZoom',Kx),Ls(function(b){function e(d,e){if(e){var f=d+'Index',a=e[f];null==a||'all'===a||y(a)||(a=!1===a||'none'===a?[]:[a]),i(d,function(i,g){if(null==a||'all'===a||-1!==l(a,g)){var h={type:'select',$fromToolbox:!0,id:rF+d+g};h[f]=g,c.push(h)}})}}function i(c,d){var a=b[c];y(a)||(a=a?[a]:[]),mU(a,d)}if(b){var c=b.dataZoom||(b.dataZoom=[]);y(c)||(b.dataZoom=c=[c]);var a=b.toolbox;if(a&&(y(a)&&(a=a[0]),a&&a.feature)){var d=a.feature.dataZoom;e('xAxis',d),e('yAxis',d)}}});var sH=b0.toolbox.restore;t_.defaultOption={show:!0,icon:'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',title:sH.title},t_.prototype.onclick=function(b,a,c){jx(b),a.dispatchAction({type:'restore',from:this.uid})},yy('restore',t_),Ps({type:'restore',event:'restore',update:'prepareAndUpdate'},function(b,a){a.resetOption('recreate')});var hW,mP='urn:schemas-microsoft-com:vml',mS='undefined'==typeof window?null:window,mj=!1,aV=mS&&mS.document;if(aV&&!aq.canvasSupported){try{!aV.namespaces.zrvml&&aV.namespaces.add('zrvml',mP),hW=function(a){return aV.createElement('<zrvml:'+a+' class="zrvml">')}}catch(tN){hW=function(a){return aV.createElement('<'+a+' xmlns="'+mP+'" class="zrvml">')}}}var cK=aM.CMD,aB=Math.round,d6=Math.sqrt,rM=Math.abs,mK=Math.cos,lW=Math.sin,iB=Math.max;if(!aq.canvasSupported){var aI=21600,aQ=aI/2,i5=function(a){a.style.cssText='position:absolute;left:0;top:0;width:1px;height:1px;',a.coordsize=aI+','+aI,a.coordorigin='0,0'},qX=function(a){return String(a).replace(/&/g,'&amp;').replace(/"/g,'&quot;')},m4=function(c,a,b){return 'rgb('+[c,a,b].join(',')+')'},bw=function(b,a){a&&b&&a.parentNode!==b&&b.appendChild(a)},dU=function(b,a){a&&b&&a.parentNode===b&&b.removeChild(a)},g5=function(c,a,b){return 100000*(parseFloat(c)||0)+1000*(parseFloat(a)||0)+b},jZ=function(a,b){return 'string'==typeof a?a.lastIndexOf('%')>=0?parseFloat(a)/100*b:parseFloat(a):a},kO=function(c,d,a){var b=zt(d);a=+a,isNaN(a)&&(a=1),b&&(c.color=m4(b[0],b[1],b[2]),c.opacity=a*b[3])},nG=function(b){var a=zt(b);return [m4(a[0],a[1],a[2]),a[3]]},nY=function(b,i,k){var a=i.fill;if(null!=a){if(a instanceof bz){var l,g=0,y=[0,0],p=0,x=1,n=k.getBoundingRect(),j=n.width,h=n.height;if('linear'===a.type){l='gradient';var d=k.transform,c=[a.x*j,a.y*h],m=[a.x2*j,a.y2*h];d&&(Q(c,c,d),Q(m,m,d));var D=m[0]-c[0],F=m[1]-c[1];(g=180*Math.atan2(D,F)/Math.PI)<0&&(g+=360),g<1.0E-6&&(g=0)}else {l='gradientradial';var c=[a.x*j,a.y*h],d=k.transform,z=k.scale,s=j,r=h;y=[(c[0]-n.x)/s,(c[1]-n.y)/r],d&&Q(c,c,d),s/=z[0]*aI,r/=z[1]*aI;var w=iB(s,r);p=0/w,x=2*a.r/w-p}var q=a.colorStops.slice();q.sort(function(c,a){return c.offset-a.offset});for(var o=q.length,f=[],u=[],e=0;e<o;e++){var v=q[e],t=nG(v.color);u.push(v.offset*x+p+' '+t[0]),0!==e&&e!==o-1||f.push(t)}if(o>=2){var B=f[0][0],A=f[1][0],C=f[0][1]*i.opacity,E=f[1][1]*i.opacity;b.type=l,b.method='none',b.focus='100%',b.angle=g,b.color=B,b.color2=A,b.colors=u.join(','),b.opacity=E,b.opacity2=C}'radial'===l&&(b.focusposition=y.join(','))}else {kO(b,a,i.opacity)}}},nQ=function(b,a){null!=a.lineDash&&(b.dashstyle=a.lineDash.join(' ')),null==a.stroke||a.stroke instanceof bz||kO(b,a.stroke,a.opacity)},eW=function(d,b,c,f){var e='fill'==b,a=d.getElementsByTagName(b)[0];null!=c[b]&&'none'!==c[b]&&(e||!e&&c.lineWidth)?(d[e?'filled':'stroked']='true',c[b] instanceof bz&&dU(d,a),a||(a=e_(b)),e?nY(a,c,f):nQ(a,c),bw(d,a)):(d[e?'filled':'stroked']='false',dU(d,a))},aT=[[],[],[]],pD=function(I,c){var i,t,G,a,j,k,N=cK.M,O=cK.C,M=cK.L,K=cK.A,H=cK.Q,p=[],b=I.data,L=I.len();for(a=0;a<L;){switch(G=b[a++],t='',i=0,G){case N:t=' m ',i=1,j=b[a++],k=b[a++],aT[0][0]=j,aT[0][1]=k;break;case M:t=' l ',i=1,j=b[a++],k=b[a++],aT[0][0]=j,aT[0][1]=k;break;case H:case O:t=' c ',i=3;var B,C,f=b[a++],g=b[a++],z=b[a++],D=b[a++];G===H?(B=z,C=D,z=(z+2*f)/3,D=(D+2*g)/3,f=(j+2*f)/3,g=(k+2*g)/3):(B=b[a++],C=b[a++]),aT[0][0]=f,aT[0][1]=g,aT[1][0]=z,aT[1][1]=D,aT[2][0]=B,aT[2][1]=C,j=B,k=C;break;case K:var s=0,r=0,n=1,m=1,F=0;c&&(s=c[4],r=c[5],n=d6(c[0]*c[0]+c[1]*c[1]),m=d6(c[2]*c[2]+c[3]*c[3]),F=Math.atan2(-c[1]/m,c[0]/n));var l=b[a++],h=b[a++],u=b[a++],x=b[a++],A=b[a++]+F,E=b[a++]+A+F;a++;var o=b[a++],q=l+mK(A)*u,v=h+lW(A)*x,f=l+mK(E)*u,g=h+lW(E)*x,J=o?' wa ':' at ';Math.abs(q-f)<1.0E-4&&(Math.abs(E-A)>0.01?o&&(q+=0.0125):Math.abs(v-h)<1.0E-4?o&&q<l||!o&&q>l?g-=0.0125:g+=0.0125:o&&v<h||!o&&v>h?f+=0.0125:f-=0.0125),p.push(J,aB(((l-u)*n+s)*aI-aQ),',',aB(((h-x)*m+r)*aI-aQ),',',aB(((l+u)*n+s)*aI-aQ),',',aB(((h+x)*m+r)*aI-aQ),',',aB((q*n+s)*aI-aQ),',',aB((v*m+r)*aI-aQ),',',aB((f*n+s)*aI-aQ),',',aB((g*m+r)*aI-aQ)),j=f,k=g;break;case cK.R:var d=aT[0],e=aT[1];d[0]=b[a++],d[1]=b[a++],e[0]=d[0]+b[a++],e[1]=d[1]+b[a++],c&&(Q(d,d,c),Q(e,e,c)),d[0]=aB(d[0]*aI-aQ),e[0]=aB(e[0]*aI-aQ),d[1]=aB(d[1]*aI-aQ),e[1]=aB(e[1]*aI-aQ),p.push(' m ',d[0],',',d[1],' l ',e[0],',',d[1],' l ',e[0],',',e[1],' l ',d[0],',',e[1]);break;case cK.Z:p.push(' x ');}if(i>0){p.push(t);for(var y=0;y<i;y++){var w=aT[y];c&&Q(w,w,c),p.push(aB(w[0]*aI-aQ),',',aB(w[1]*aI-aQ),y<i-1?',':'')}}}return p.join('')};kn.prototype.brushVML=function(e){var b=this.style,a=this._vmlEl;a||(a=e_('shape'),i5(a),this._vmlEl=a),eW(a,'fill',b,this),eW(a,'stroke',b,this);var c=this.transform,h=null!=c,f=a.getElementsByTagName('stroke')[0];if(f){var g=b.lineWidth;if(h&&!b.strokeNoScale){var i=c[0]*c[3]-c[1]*c[2];g*=d6(rM(i))}f.weight=g+'px'}var d=this.path||(this.path=new aM());this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape),d.toStatic(),this.__dirtyPath=!1),a.path=pD(d,this.transform),a.style.zIndex=g5(this.zlevel,this.z,this.z2),bw(e,a),null!=b.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},kn.prototype.onRemove=function(a){dU(a,this._vmlEl),this.removeRectText(a)},kn.prototype.onAdd=function(a){bw(a,this._vmlEl),this.appendRectText(a)};var o7=function(a){return 'object'==typeof a&&a.tagName&&'IMG'===a.tagName.toUpperCase()};hi.prototype.brushVML=function(G){var h,i,c=this.style,d=c.image;if(o7(d)){var A=d.src;if(A===this._imageSrc){h=this._imageWidth,i=this._imageHeight}else {var p=d.runtimeStyle,L=p.width,K=p.height;p.width='auto',p.height='auto',h=d.width,i=d.height,p.width=L,p.height=K,this._imageSrc=A,this._imageWidth=h,this._imageHeight=i}d=A}else {d===this._imageSrc&&(h=this._imageWidth,i=this._imageHeight)}if(d){var m=c.x||0,l=c.y||0,j=c.width,k=c.height,s=c.sWidth,t=c.sHeight,E=c.sx||0,F=c.sy||0,M=s&&t,g=this._vmlEl;g||(g=aV.createElement('div'),i5(g),this._vmlEl=g);var a,r=g.style,H=!1,f=1,e=1;if(this.transform&&(a=this.transform,f=d6(a[0]*a[0]+a[1]*a[1]),e=d6(a[2]*a[2]+a[3]*a[3]),H=a[1]||a[2]),H){var w=[m,l],v=[m+j,l],x=[m,l+k],u=[m+j,l+k];Q(w,w,a),Q(v,v,a),Q(x,x,a),Q(u,u,a);var J=iB(w[0],v[0],x[0],u[0]),I=iB(w[1],v[1],x[1],u[1]),D=[];D.push('M11=',a[0]/f,',','M12=',a[2]/e,',','M21=',a[1]/f,',','M22=',a[3]/e,',','Dx=',aB(m*f+a[4]),',','Dy=',aB(l*e+a[5])),r.padding='0 '+aB(J)+'px '+aB(I)+'px 0',r.filter='progid:DXImageTransform.Microsoft.Matrix('+D.join('')+', SizingMethod=clip)'}else {a&&(m=m*f+a[4],l=l*e+a[5]),r.filter='',r.left=aB(m)+'px',r.top=aB(l)+'px'}var o=this._imageEl,b=this._cropEl;o||(o=aV.createElement('div'),this._imageEl=o);var n=o.style;if(M){if(h&&i){n.width=aB(f*h*j/s)+'px',n.height=aB(e*i*k/t)+'px'}else {var q=new Image(),y=this;q.onload=function(){q.onload=null,h=q.width,i=q.height,n.width=aB(f*h*j/s)+'px',n.height=aB(e*i*k/t)+'px',y._imageWidth=h,y._imageHeight=i,y._imageSrc=d},q.src=d}b||((b=aV.createElement('div')).style.overflow='hidden',this._cropEl=b);var z=b.style;z.width=aB((j+E*j/s)*f),z.height=aB((k+F*k/t)*e),z.filter='progid:DXImageTransform.Microsoft.Matrix(Dx='+-E*j/s*f+',Dy='+-F*k/t*e+')',b.parentNode||g.appendChild(b),o.parentNode!=b&&b.appendChild(o)}else {n.width=aB(f*j)+'px',n.height=aB(e*k)+'px',g.appendChild(o),b&&b.parentNode&&(g.removeChild(b),this._cropEl=null)}var B='',C=c.opacity;C<1&&(B+='.Alpha(opacity='+aB(100*C)+') '),B+='progid:DXImageTransform.Microsoft.AlphaImageLoader(src='+d+', SizingMethod=scale)',n.filter=B,g.style.zIndex=g5(this.zlevel,this.z,this.z2),bw(G,g),null!=c.text&&this.drawRectText(G,this.getBoundingRect())}},hi.prototype.onRemove=function(a){dU(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},hi.prototype.onAdd=function(a){bw(a,this._vmlEl),this.appendRectText(a)};var cw,gI={},hq=0,tL=document.createElement('div'),nN=function(c){var b=gI[c];if(!b){hq>100&&(hq=0,gI={});var d,a=tL.style;try{a.font=c,d=a.fontFamily.split(',')[0]}catch(tO){}b={style:a.fontStyle||'normal',variant:a.fontVariant||'normal',weight:a.fontWeight||'normal',size:0|parseFloat(a.fontSize||12),family:d||'Microsoft YaHei'},gI[c]=b,hq++}return b};!function(b,a){h5[b]=a}('measureText',function(c,b){var a=aV;cw||((cw=a.createElement('div')).style.cssText='position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;',aV.body.appendChild(cw));try{cw.style.font=b}catch(tO){}return cw.innerHTML='',cw.appendChild(a.createTextNode(c)),{width:cw.offsetWidth}});for(var hG=new ue(),jT=[fH,ui,hi,kn,ak],gL=0;gL<jT.length;gL++){var hK=jT[gL].prototype;hK.drawRectText=function(A,d,l,u){var b=this.style;this.__dirty&&Ue(b);var c=b.text;if(null!=c&&(c+=''),c){if(b.rich){var y=Fe(c,b);c=[];for(var v=0;v<y.lines.length;v++){for(var w=y.lines[v].tokens,z=[],t=0;t<w.length;t++){z.push(w[t].text)}c.push(z.join(''))}c=c.join('\n')}var i,f,j=b.textAlign,q=b.textVerticalAlign,k=nN(b.font),x=k.style+' '+k.variant+' '+k.weight+' '+k.size+'px "'+k.family+'"';l=l||De(c,x,j,q);var g=this.transform;if(g&&!u&&(hG.copy(d),hG.applyTransform(g),d=hG),u){i=d.x,f=d.y}else {var s=b.textPosition,B=b.textDistance;if(s instanceof Array){i=d.x+jZ(s[0],d.width),f=d.y+jZ(s[1],d.height),j=j||'left'}else {var p=Ne(s,d,B);i=p.x,f=p.y,j=j||p.textAlign,q=q||p.textVerticalAlign}}i=ke(i,l.width,j),f=Pe(f,l.height,q),f+=l.height/2;var r,h,e,n=e_,a=this._textVmlEl;a?h=(r=(e=a.firstChild).nextSibling).nextSibling:(a=n('line'),r=n('path'),h=n('textpath'),e=n('skew'),h.style['v-text-align']='left',i5(a),r.textpathok=!0,h.on=!0,a.from='0 0',a.to='1000 0.05',bw(a,e),bw(a,r),bw(a,h),this._textVmlEl=a);var o=[i,f],m=a.style;g&&u?(Q(o,o,g),e.on=!0,e.matrix=g[0].toFixed(3)+','+g[2].toFixed(3)+','+g[1].toFixed(3)+','+g[3].toFixed(3)+',0,0',e.offset=(aB(o[0])||0)+','+(aB(o[1])||0),e.origin='0 0',m.left='0px',m.top='0px'):(e.on=!1,m.left=aB(i)+'px',m.top=aB(f)+'px'),h.string=qX(c);try{h.style.font=x}catch(tO){}eW(a,'fill',{fill:b.textFill,opacity:b.opacity},this),eW(a,'stroke',{stroke:b.textStroke,opacity:b.opacity,lineDash:b.lineDash},this),a.style.zIndex=g5(this.zlevel,this.z,this.z2),bw(A,a)}},hK.removeRectText=function(a){dU(a,this._textVmlEl),this._textVmlEl=null},hK.appendRectText=function(a){bw(a,this._textVmlEl)}}ak.prototype.brushVML=function(b){var a=this.style;null!=a.text?this.drawRectText(b,{x:a.x||0,y:a.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(b)},ak.prototype.onRemove=function(a){this.removeRectText(a)},ak.prototype.onAdd=function(a){this.appendRectText(a)}}o_.prototype={constructor:o_,getType:function(){return 'vml'},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a){return {offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(d){for(var b=this._vmlRoot,c=0;c<d.length;c++){var a=d[c];a.invisible||a.ignore?(a.__alreadyNotVisible||a.onRemove(b),a.__alreadyNotVisible=!0):(a.__alreadyNotVisible&&a.onAdd(b),a.__alreadyNotVisible=!1,a.__dirty&&(a.beforeBrush&&a.beforeBrush(),(a.brushVML||a.brush).call(a,b),a.afterBrush&&a.afterBrush())),a.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(b,a){var b=null==b?this._getWidth():b,a=null==a?this._getHeight():a;if(this._width!=b||this._height!=a){this._width=b,this._height=a;var c=this._vmlViewport.style;c.width=b+'px',c.height=a+'px'}},dispose:function(){this.root.innerHTML='',this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var b=this.root,a=b.currentStyle;return (b.clientWidth||n_(a.width))-n_(a.paddingLeft)-n_(a.paddingRight)|0},_getHeight:function(){var b=this.root,a=b.currentStyle;return (b.clientHeight||n_(a.height))-n_(a.paddingTop)-n_(a.paddingBottom)|0}},d(['getLayer','insertLayer','eachLayer','eachBuiltinLayer','eachOtherLayer','getLayers','modLayer','delLayer','clearLayer','toDataURL','pathToImage'],function(a){o_.prototype[a]=a_(a)}),Ti('vml',o_);var oq='http://www.w3.org/2000/svg',cE=aM.CMD,p9=Array.prototype.join,cD='none',h7=Math.round,k6=Math.sin,mM=Math.cos,g1=Math.PI,eC=2*Math.PI,oJ=180/g1,kH=1.0E-4,ek={};ek.brush=function(a){var d=a.style,b=a.__svgEl;b||(b=r_('path'),a.__svgEl=b),a.path||a.createPathProxy();var c=a.path;if(a.__dirtyPath){c.beginPath(),a.buildPath(c,a.shape),a.__dirtyPath=!1;var e=g_(c);e.indexOf('NaN')<0&&d_(b,'d',e)}p_(b,d,!1,a),c_(b,a.transform),null!=d.text&&fR(a,a.getBoundingRect())};var h1={};h1.brush=function(b){var d=b.style,c=d.image;if(c instanceof HTMLImageElement&&(c=c.src),c){var f=d.x||0,g=d.y||0,e=d.width,h=d.height,a=b.__svgEl;a||(a=r_('image'),b.__svgEl=a),c!==b.__imageSrc&&(f_(a,'href',c),b.__imageSrc=c),d_(a,'width',e),d_(a,'height',h),d_(a,'x',f),d_(a,'y',g),c_(a,b.transform),null!=d.text&&fR(b,b.getBoundingRect())}};var fK={},iF=new ue(),fR=function(a,i,p){var b=a.style;a.__dirty&&Ue(b);var n=b.text;if(null!=n){n+='';var f=a.__textSvgEl;f||(f=r_('text'),a.__textSvgEl=f);var g,h,s=b.textPosition,A=b.textDistance,v=b.textAlign||'left';'number'==typeof b.fontSize&&(b.fontSize+='px');var o=b.font||[b.fontStyle||'',b.fontWeight||'',b.fontSize||'',b.fontFamily||''].join(' ')||dG,m=m_(b.textVerticalAlign),r=(p=De(n,o,v,m)).lineHeight;if(s instanceof Array){g=i.x+s[0],h=i.y+s[1]}else {var t=Ne(s,i,A);g=t.x,h=t.y,m=m_(t.textVerticalAlign),v=t.textAlign}d_(f,'alignment-baseline',m),o&&(f.style.font=o);var d=b.textPadding;if(d_(f,'x',g),d_(f,'y',h),p_(f,b,!0,a),a instanceof ak||a.style.transformText){c_(f,a.transform)}else {if(a.transform){iF.copy(i),iF.applyTransform(a.transform),i=iF}else {var w=a.transformCoordToGlobal(i.x,i.y);i.x=w[0],i.y=w[1],a.transform=vt(mt())}var u=b.textOrigin;'center'===u?(g=p.width/2+g,h=p.height/2+h):u&&(g=u[0]+g,h=u[1]+h);var B=-b.textRotation||0,q=mt();wt(q,q,B),_t(q,q,w=[a.transform[4],a.transform[5]]),c_(f,q)}var x=n.split('\n'),y=x.length,j=v;'left'===j?(j='start',d&&(g+=d[3])):'right'===j?(j='end',d&&(g-=d[1])):'center'===j&&(j='middle',d&&(g+=(d[3]-d[1])/2));var l=0;if('after-edge'===m?(l=-p.height+r,d&&(l-=d[2])):'middle'===m?(l=(-p.height+r)/2,d&&(h+=(d[0]-d[2])/2)):d&&(l+=d[0]),a.__text!==n||a.__textFont!==o){var k=a.__tspanList||[];a.__tspanList=k;for(c=0;c<y;c++){(e=k[c])?e.innerHTML='':(e=k[c]=r_('tspan'),f.appendChild(e),d_(e,'alignment-baseline',m),d_(e,'text-anchor',j)),d_(e,'x',g),d_(e,'y',h+c*r+l),e.appendChild(document.createTextNode(x[c]))}for(;c<k.length;c++){f.removeChild(k[c])}k.length=y,a.__text=n,a.__textFont=o}else {if(a.__tspanList.length){for(var z=a.__tspanList.length,c=0;c<z;++c){var e=a.__tspanList[c];e&&(d_(e,'x',g),d_(e,'y',h+c*r+l))}}}}};fK.drawRectText=fR,fK.brush=function(b){var a=b.style;null!=a.text&&(a.textPosition=[0,0],fR(b,{x:a.x||0,y:a.y||0,width:0,height:0},b.getBoundingRect()))},v_.prototype={diff:function(c,b,h){h||(h=function(d,a){return d===a}),this.equals=h;var i=this;c=c.slice();var e=(b=b.slice()).length,d=c.length,f=1,l=e+d,a=[{newPos:-1,components:[]}],m=this.extractCommon(a[0],b,c,0);if(a[0].newPos+1>=e&&m+1>=d){for(var k=[],g=0;g<b.length;g++){k.push(g)}return [{indices:k,count:b.length}]}for(;f<=l;){var j=function(){for(var g=-1*f;g<=f;g+=2){var j,l=a[g-1],k=a[g+1],m=(k?k.newPos:0)-g;l&&(a[g-1]=void 0);var n=l&&l.newPos+1<e,o=k&&0<=m&&m<d;if(n||o){if(!n||o&&l.newPos<k.newPos?(j=x_(k),i.pushComponent(j.components,void 0,!0)):((j=l).newPos++,i.pushComponent(j.components,!0,void 0)),m=i.extractCommon(j,b,c,g),j.newPos+1>=e&&m+1>=d){return y_(0,j.components)}a[g]=j}else {a[g]=void 0}}f++}();if(j){return j}}},pushComponent:function(a,c,d){var b=a[a.length-1];b&&b.added===c&&b.removed===d?a[a.length-1]={count:b.count+1,added:c,removed:d}:a.push({count:1,added:c,removed:d})},extractCommon:function(d,e,f,h){for(var i=e.length,g=f.length,a=d.newPos,b=a-h,c=0;a+1<i&&b+1<g&&this.equals(e[a+1],f[b+1]);){a++,b++,c++}return c&&d.components.push({count:c}),d.newPos=a,b},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var q0=new v_(),sY=function(c,a,b){return q0.diff(c,a,b)};__.prototype.createElement=r_,__.prototype.getDefs=function(c){var b=this._svgRoot,a=this._svgRoot.getElementsByTagName('defs');return 0===a.length?c?((a=b.insertBefore(this.createElement('defs'),b.firstChild)).contains||(a.contains=function(e){var b=a.children;if(!b){return !1}for(var d=b.length-1;d>=0;--d){if(b[d]===e){return !0}}return !1}),a):null:a[0]},__.prototype.update=function(a,b){if(a){var d=this.getDefs(!1);if(a[this._domName]&&d.contains(a[this._domName])){'function'==typeof b&&b(a)}else {var c=this.add(a);c&&(a[this._domName]=c)}}},__.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)},__.prototype.removeDom=function(a){var b=this.getDefs(!1);b&&a[this._domName]&&(b.removeChild(a[this._domName]),a[this._domName]=null)},__.prototype.getDoms=function(){var b=this.getDefs(!1);if(!b){return []}var a=[];return d(this._tagNames,function(c){var d=b.getElementsByTagName(c);a=a.concat([].slice.call(d))}),a},__.prototype.markAllUnused=function(){var a=this;d(this.getDoms(),function(b){b[a._markLabel]='0'})},__.prototype.markUsed=function(a){a&&(a[this._markLabel]='1')},__.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this;d(this.getDoms(),function(c){'1'!==c[b._markLabel]&&a.removeChild(c)})}},__.prototype.getSvgProxy=function(a){return a instanceof kn?ek:a instanceof hi?h1:a instanceof ak?fK:ek},__.prototype.getTextSvgElement=function(a){return a.__textSvgEl},__.prototype.getSvgElement=function(a){return a.__svgEl},u(w_,__),w_.prototype.addWithoutUpdate=function(c,a){if(a&&a.style){var b=this;d(['fill','stroke'],function(d){if(a.style[d]&&('linear'===a.style[d].type||'radial'===a.style[d].type)){var f,e=a.style[d],g=b.getDefs(!0);e._dom?(f=e._dom,g.contains(e._dom)||b.addDom(f)):f=b.add(e),b.markUsed(a);var h=f.getAttribute('id');c.setAttribute(d,'url(#'+h+')')}})}},w_.prototype.add=function(b){var a;if('linear'===b.type){a=this.createElement('linearGradient')}else {if('radial'!==b.type){return bU('Illegal gradient type.'),null}a=this.createElement('radialGradient')}return b.id=b.id||this.nextId++,a.setAttribute('id','zr'+this._zrId+'-gradient-'+b.id),this.updateDom(b,a),this.addDom(a),a},w_.prototype.update=function(a){var b=this;__.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;'linear'===c&&'linearGradient'===d||'radial'===c&&'radialGradient'===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})},w_.prototype.updateDom=function(b,a){if('linear'===b.type){a.setAttribute('x1',b.x),a.setAttribute('y1',b.y),a.setAttribute('x2',b.x2),a.setAttribute('y2',b.y2)}else {if('radial'!==b.type){return void bU('Illegal gradient type.')}a.setAttribute('cx',b.x),a.setAttribute('cy',b.y),a.setAttribute('r',b.r)}b.global?a.setAttribute('gradientUnits','userSpaceOnUse'):a.setAttribute('gradientUnits','objectBoundingBox'),a.innerHTML='';for(var e=b.colorStops,c=0,f=e.length;c<f;++c){var d=this.createElement('stop');d.setAttribute('offset',100*e[c].offset+'%'),d.setAttribute('stop-color',e[c].color),a.appendChild(d)}b._dom=a},w_.prototype.markUsed=function(b){if(b.style){var a=b.style.fill;a&&a._dom&&__.prototype.markUsed.call(this,a._dom),(a=b.style.stroke)&&a._dom&&__.prototype.markUsed.call(this,a._dom)}},u(b_,__),b_.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);var c=this.getTextSvgElement(a);c&&this.updateDom(c,a.__clipPaths,!0),this.markUsed(a)},b_.prototype.updateDom=function(h,c,g){if(c&&c.length>0){var b,d,f=this.getDefs(!0),a=c[0],e=g?'_textDom':'_dom';a[e]?(d=a[e].getAttribute('id'),b=a[e],f.contains(b)||f.appendChild(b)):(d='zr'+this._zrId+'-clip-'+this.nextId,++this.nextId,(b=this.createElement('clipPath')).setAttribute('id',d),f.appendChild(b),a[e]=b);var i=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!g){var k=Array.prototype.slice.call(a.transform);xt(a.transform,a.parent.invTransform,a.transform),i.brush(a),a.transform=k}else {i.brush(a)}var j=this.getSvgElement(a);b.innerHTML='',b.appendChild(j.cloneNode()),h.setAttribute('clip-path','url(#'+d+')'),c.length>1&&this.updateDom(b,c.slice(1),g)}else {h&&h.setAttribute('clip-path','none')}},b_.prototype.markUsed=function(a){var b=this;a.__clipPaths&&a.__clipPaths.length>0&&d(a.__clipPaths,function(c){c._dom&&__.prototype.markUsed.call(b,c._dom),c._textDom&&__.prototype.markUsed.call(b,c._textDom)})},u(S_,__),S_.prototype.addWithoutUpdate=function(e,a){if(a&&M_(a.style)){var b,c=a.style;c._shadowDom?(b=c._shadowDom,this.getDefs(!0).contains(c._shadowDom)||this.addDom(b)):b=this.add(a),this.markUsed(a);var d=b.getAttribute('id');e.style.filter='url(#'+d+')'}},S_.prototype.add=function(c){var a=this.createElement('filter'),b=c.style;return b._shadowDomId=b._shadowDomId||this.nextId++,a.setAttribute('id','zr'+this._zrId+'-shadow-'+b._shadowDomId),this.updateDom(c,a),this.addDom(a),a},S_.prototype.update=function(d,a){var b=a.style;if(M_(b)){var c=this;__.prototype.update.call(this,a,function(b){c.updateDom(a,b._shadowDom)})}else {this.remove(d,b)}},S_.prototype.remove=function(b,a){null!=a._shadowDomId&&(this.removeDom(a),b.style.filter='')},S_.prototype.updateDom=function(e,b){var c=b.getElementsByTagName('feDropShadow');c=0===c.length?this.createElement('feDropShadow'):c[0];var f,g,d,h,a=e.style,i=e.scale?e.scale[0]||1:1,j=e.scale?e.scale[1]||1:1;if(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY){f=a.shadowOffsetX||0,g=a.shadowOffsetY||0,d=a.shadowBlur,h=a.shadowColor}else {if(!a.textShadowBlur){return void this.removeDom(b,a)}f=a.textShadowOffsetX||0,g=a.textShadowOffsetY||0,d=a.textShadowBlur,h=a.textShadowColor}c.setAttribute('dx',f/i),c.setAttribute('dy',g/j),c.setAttribute('flood-color',h);var k=d/2/i+' '+d/2/j;c.setAttribute('stdDeviation',k),b.setAttribute('x','-100%'),b.setAttribute('y','-100%'),b.setAttribute('width',Math.ceil(d/2*200)+'%'),b.setAttribute('height',Math.ceil(d/2*200)+'%'),b.appendChild(c),a._shadowDom=b},S_.prototype.markUsed=function(b){var a=b.style;a&&a._shadowDom&&__.prototype.markUsed.call(this,a._shadowDom)};var fY=function(f,g,c,e){this.root=f,this.storage=g,this._opts=c=a({},c||{});var b=r_('svg');b.setAttribute('xmlns','http://www.w3.org/2000/svg'),b.setAttribute('version','1.1'),b.setAttribute('baseProfile','full'),b.style.cssText='user-select:none;position:absolute;left:0;top:0;',this.gradientManager=new w_(e,b),this.clipPathManager=new b_(e,b),this.shadowManager=new S_(e,b);var d=document.createElement('div');d.style.cssText='overflow:hidden;position:relative',this._svgRoot=b,this._viewport=d,f.appendChild(d),d.appendChild(b),this.resize(c.width,c.height),this._visibleList=[]};fY.prototype={constructor:fY,getType:function(){return 'svg'},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a){return {offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},setBackgroundColor:function(a){this._viewport.style.background=a},_paintList:function(m){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var c,g=this._svgRoot,k=this._visibleList,n=m.length,i=[];for(c=0;c<n;c++){var l=T_(a=m[c]),b=P_(a)||k_(a);a.invisible||(a.__dirty&&(l&&l.brush(a),this.clipPathManager.update(a),a.style&&(this.gradientManager.update(a.style.fill),this.gradientManager.update(a.style.stroke),this.shadowManager.update(b,a)),a.__dirty=!1),i.push(a))}var f,j=sY(k,i);for(c=0;c<j.length;c++){if((e=j[c]).removed){for(d=0;d<e.count;d++){var b=P_(a=k[e.indices[d]]),h=k_(a);L_(g,b),L_(g,h)}}}for(c=0;c<j.length;c++){var e=j[c];if(e.added){for(d=0;d<e.count;d++){var b=P_(a=i[e.indices[d]]),h=k_(a);f?D_(g,b,f):C_(g,b),b?D_(g,h,b):f?D_(g,h,f):C_(g,h),D_(g,h,b),f=h||b||f,this.gradientManager.addWithoutUpdate(b,a),this.shadowManager.addWithoutUpdate(f,a),this.clipPathManager.markUsed(a)}}else {if(!e.removed){for(var d=0;d<e.count;d++){var a=i[e.indices[d]];f=b=k_(a)||P_(a)||f,this.gradientManager.markUsed(a),this.gradientManager.addWithoutUpdate(b,a),this.shadowManager.markUsed(a),this.shadowManager.addWithoutUpdate(b,a),this.clipPathManager.markUsed(a)}}}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=i},_getDefs:function(c){var b=this._svgRoot,a=this._svgRoot.getElementsByTagName('defs');return 0===a.length?c?((a=b.insertBefore(r_('defs'),b.firstChild)).contains||(a.contains=function(e){var b=a.children;if(!b){return !1}for(var d=b.length-1;d>=0;--d){if(b[d]===e){return !0}}return !1}),a):null:a[0]},resize:function(b,a){var c=this._viewport;c.style.display='none';var e=this._opts;if(null!=b&&(e.width=b),null!=a&&(e.height=a),b=this._getSize(0),a=this._getSize(1),c.style.display='',this._width!==b||this._height!==a){this._width=b,this._height=a;var f=c.style;f.width=b+'px',f.height=a+'px';var d=this._svgRoot;d.setAttribute('width',b),d.setAttribute('height',a)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(b){var c=this._opts,a=['width','height'][b],g=['clientWidth','clientHeight'][b],h=['paddingLeft','paddingTop'][b],f=['paddingRight','paddingBottom'][b];if(null!=c[a]&&'auto'!==c[a]){return parseFloat(c[a])}var d=this.root,e=document.defaultView.getComputedStyle(d);return (d[g]||I_(e[a])||I_(d.style[a]))-(I_(e[h])||0)-(I_(e[f])||0)|0},dispose:function(){this.root.innerHTML='',this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),'data:image/svg+xml;charset=UTF-8,'+this._svgRoot.outerHTML}},d(['getLayer','insertLayer','eachLayer','eachBuiltinLayer','eachOtherLayer','getLayers','modLayer','delLayer','clearLayer','toDataURL','pathToImage'],function(a){fY.prototype[a]=N_(a)}),Ti('svg',fY),aj.version='4.2.0',aj.dependencies=tC,aj.PRIORITY=c$,aj.init=function(b,d,e){var c=Ds(b);if(c){return c}var a=new rs(b,d,e);return a.id='ec_'+qF++,cj[a.id]=a,Fi(b,hO,a.id),Ts(a),a},aj.connect=function(a){if(y(a)){var b=a;a=null,aJ(b,function(b){null!=b.group&&(a=b.group)}),a=a||'g_'+oA++,aJ(b,function(b){b.group=a})}return eL[a]=!0,a},aj.disConnect=As,aj.disconnect=qj,aj.dispose=function(a){'string'==typeof a?a=cj[a]:a instanceof rs||(a=Ds(a)),a instanceof rs&&!a.isDisposed()&&a.dispose()},aj.getInstanceByDom=Ds,aj.getInstanceById=function(a){return cj[a]},aj.registerTheme=Cs,aj.registerPreprocessor=Ls,aj.registerProcessor=ks,aj.registerPostUpdate=function(a){kJ.push(a)},aj.registerAction=Ps,aj.registerCoordinateSystem=Ns,aj.getCoordinateSystemDimensions=function(b){var a=Ba.get(b);if(a){return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()}},aj.registerLayout=Os,aj.registerVisual=Es,aj.registerLoading=zs,aj.extendComponentModel=Bs,aj.extendComponentView=Vs,aj.extendSeriesModel=Gs,aj.extendChartView=Fs,aj.setCanvasCreator=function(a){e('createCanvas',a)},aj.registerMap=function(c,a,b){fT.registerMap(c,a,b)},aj.getMap=function(b){var a=fT.retrieveMap(b);return a&&a[0]&&{geoJson:a[0].geoJSON,specialAreas:a[0].specialAreas}},aj.dataTool=qK,aj.zrender=pG,aj.number=o9,aj.format=n8,aj.throttle=Cr,aj.helper=nK,aj.matrix=rN,aj.vector=sG,aj.color=pI,aj.parseGeoJSON=gN,aj.parseGeoJson=qT,aj.util=kQ,aj.graphic=k3,aj.List=aH,aj.Model=Lo,aj.Axis=aF,aj.env=aq});